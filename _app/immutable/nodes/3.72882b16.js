var eo=Object.defineProperty;var to=(t,e,n)=>e in t?eo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Qe=(t,e,n)=>(to(t,typeof e!="symbol"?e+"":e,n),n);import{W as qt,n as oe,C as Xt,c as Ut,U as jt,u as Gt,O as Zt,D as dn,a as hn,E as gn,P as mn,b as Kt,M as pn,H as tn,d as no,I as Nt,e as ye,f as Xn,L as Un,g as Rt,h as an,i as Wt,j as Qt,t as wt,p as _n,s as bn,R as oo,k as vn,l as io,m as ro,o as so,B as Yt}from"../chunks/local-storage.lib.6c7646c7.js";import{S as Ae,i as Pe,s as Ne,Z as tt,_ as nt,m as y,h as v,n as f,b as ae,X as u,G as Me,k as B,a as z,l as I,c as O,L as Ct,g as D,v as ot,d as R,f as it,a0 as en,R as ln,j as jn,y as U,z as j,A as G,B as Z,q as K,r as Y,u as xt,w as ee,I as ao,M as lo,N as uo,O as fo,a4 as te,a5 as ne,Q as co,e as wn,p as ho,o as un,E as go,P as mo,Y as po}from"../chunks/index.3856bc18.js";import{I as Gn}from"../chunks/Img.b040798a.js";import{T as Cn,t as Fn,c as En}from"../chunks/all-toast.store.a113fb1e.js";function _o(t){let e,n;return{c(){e=tt("svg"),n=tt("path"),this.h()},l(o){e=nt(o,"svg",{class:!0,"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var i=y(e);n=nt(i,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),y(n).forEach(v),i.forEach(v),this.h()},h(){f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-width","2"),f(n,"d","M1 18a.969.969 0 0 0 .933 1h12.134A.97.97 0 0 0 15 18M1 7V5.828a2 2 0 0 1 .586-1.414l2.828-2.828A2 2 0 0 1 5.828 1h8.239A.97.97 0 0 1 15 2v5M6 1v4a1 1 0 0 1-1 1H1m0 9v-5h1.5a1.5 1.5 0 1 1 0 3H1m12 2v-5h2m-2 3h2m-8-3v5h1.375A1.626 1.626 0 0 0 10 13.375v-1.75A1.626 1.626 0 0 0 8.375 10H7Z"),f(e,"class",t[0]),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","0 0 20 20"),f(e,"width","18"),f(e,"data-view-component","true")},m(o,i){ae(o,e,i),u(e,n)},p(o,[i]){i&1&&f(e,"class",o[0])},i:Me,o:Me,d(o){o&&v(e)}}}function bo(t,e,n){let{class:o=""}=e;return t.$$set=i=>{"class"in i&&n(0,o=i.class)},[o]}class vo extends Ae{constructor(e){super(),Pe(this,e,bo,_o,Ne,{class:0})}}const wo=async({params:t})=>{const n=new qt({id:oe(),name:"Основная",size:{a:5e3,c:5e3,h:800,maxLength:4900}});oe(),new qt({id:oe(),name:"Д. №1",size:{a:500,c:1e3,h:800,maxLength:n.size.maxLength}}),oe(),new qt({id:oe(),name:"Д. №5",size:{a:1e3,c:500,h:800,maxLength:n.size.maxLength}}),oe(),new qt({id:oe(),name:"Деталь №4",size:{a:500,c:500,h:800,maxLength:n.size.maxLength}});const o=new Xt({id:oe(),name:"KLIMOV.RED",type:Ut.BUSINESS}),i=[new jt({id:oe(),name:"Николай Поздняков",company:o,type:Gt.MANAGER,avatar:"/imgs/user/managers/manager.png"}),new jt({id:oe(),name:"Дмитрий Рудин",company:o,type:Gt.MANAGER})],l=[new jt({id:oe(),name:"Эдуард Рябов",company:o,type:Gt.WORKER}),new jt({id:oe(),name:"Василий Петров",company:o,type:Gt.WORKER})],a=[new Xt({id:oe(),name:"ООО Транзит",type:Ut.BUSINESS}),new Xt({id:oe(),name:"ИП Иванов",type:Ut.IE}),new Xt({id:oe(),name:"Самозанятый Ласточкин",type:Ut.INDIVIDUAL})],s={openingSides:[new Zt({id:oe(),name:"Правая на себя",side:"right",opening:"inside"}),new Zt({id:oe(),name:"Правая от себя",side:"right",opening:"outside"}),new Zt({id:oe(),name:"Левая на себя",side:"left",opening:"inside"}),new Zt({id:oe(),name:"Левая от себя",side:"left",opening:"outside"})],doorFrames:[new dn({id:oe(),name:"HANK REARDEN 59",width:42.2,height:36,length:5e3}),new dn({id:oe(),name:"RAGNAR DANNESKJOLD 42",width:52.5,height:28.2,length:5e3})],canvasConstructionTypes:[new hn({id:oe(),name:"Торец"}),new hn({id:oe(),name:"Каркас"})],endFaceTypes:[new gn({id:oe(),name:"Торец 5",width:42}),new gn({id:oe(),name:"Торец 6",width:62})],profileMaterials:[new mn({id:oe(),name:"Алюминий"}),new mn({id:oe(),name:"Сталь"})],profileColors:[new Kt({id:oe(),name:"Зеленый",color:"green"}),new Kt({id:oe(),name:"Синий",color:"blue"}),new Kt({id:oe(),name:"Серый",color:"gray"}),new Kt({id:oe(),name:"Белый",color:"white"})],millingVersions:[new pn({id:oe(),name:"6360/38"}),new pn({id:oe(),name:"B-Forty N62 WC"})],hingesTypes:[new tn({id:oe(),name:"Петля 20х120",width:20,height:120}),new tn({id:oe(),name:"Петля 40х100",width:40,height:100}),new tn({id:oe(),name:"Петля 50х100",width:50,height:100})]};return{managers:new Promise(r=>r(i)),workers:new Promise(r=>r(l)),companies:new Promise(r=>r(a)),paramsForCreatingBuildPiece:new Promise(r=>r(s))}},Vi=Object.freeze(Object.defineProperty({__proto__:null,load:wo},Symbol.toStringTag,{value:"Module"}));class Co{constructor(e){Qe(this,"id");Qe(this,"text");Qe(this,"img");Qe(this,"colorClasses");this.id=e.id,this.text=e.text,this.img=e.img}}function Sn(t,e,n){const o=t.slice();return o[23]=e[n],o}function qn(t){let e,n,o;return n=new Gn({props:{class:"w-9 h-9  rounded-full bg-gray-100 text-green-500",src:t[5].img,alt:t[5].text}}),{c(){e=B("div"),U(n.$$.fragment),this.h()},l(i){e=I(i,"DIV",{class:!0});var l=y(e);j(n.$$.fragment,l),l.forEach(v),this.h()},h(){f(e,"class","divide-x-2 pr-2 mr-2 border-r")},m(i,l){ae(i,e,l),G(n,e,null),o=!0},p(i,l){const a={};l&32&&(a.src=i[5].img),l&32&&(a.alt=i[5].text),n.$set(a)},i(i){o||(D(n.$$.fragment,i),o=!0)},o(i){R(n.$$.fragment,i),o=!1},d(i){i&&v(e),Z(n)}}}function kn(t){let e,n,o,i,l,a,s=t[23].text+"",r,g,d,c,C,p;i=new Gn({props:{class:"w-9 h-9  rounded-full bg-gray-100 text-green-500",src:t[23].img,alt:t[23].text}});function b(){return t[19](t[23])}return{c(){e=B("li"),n=B("a"),o=B("div"),U(i.$$.fragment),a=z(),r=K(s),d=z(),this.h()},l(h){e=I(h,"LI",{});var _=y(e);n=I(_,"A",{href:!0,class:!0});var w=y(n);o=I(w,"DIV",{class:!0});var E=y(o);j(i.$$.fragment,E),E.forEach(v),a=O(w),r=Y(w,s),w.forEach(v),d=O(_),_.forEach(v),this.h()},h(){o.hidden=l=!t[23].img,f(o,"class","divide-x-2 pr-2 mr-2 border-r"),f(n,"href","#"),f(n,"class",g="flex items-center px-4 py-2 dark:hover:bg-gray-600 dark:hover:text-white "+t[8](t[23]))},m(h,_){ae(h,e,_),u(e,n),u(n,o),G(i,o,null),u(n,a),u(n,r),u(e,d),c=!0,C||(p=Ct(n,"click",b),C=!0)},p(h,_){t=h;const w={};_&8&&(w.src=t[23].img),_&8&&(w.alt=t[23].text),i.$set(w),(!c||_&8&&l!==(l=!t[23].img))&&(o.hidden=l),(!c||_&8)&&s!==(s=t[23].text+"")&&xt(r,s),(!c||_&8&&g!==(g="flex items-center px-4 py-2 dark:hover:bg-gray-600 dark:hover:text-white "+t[8](t[23])))&&f(n,"class",g)},i(h){c||(D(i.$$.fragment,h),c=!0)},o(h){R(i.$$.fragment,h),c=!1},d(h){h&&v(e),Z(i),C=!1,p()}}}function Fo(t){let e,n,o,i,l,a,s,r,g,d,c,C,p,b,h,_,w,E=t[1]&&t[5].img&&qn(t),F=t[3],S=[];for(let q=0;q<F.length;q+=1)S[q]=kn(Sn(t,F,q));const T=q=>R(S[q],1,1,()=>{S[q]=null});return{c(){e=B("button"),n=B("div"),E&&E.c(),o=z(),i=B("input"),s=z(),r=tt("svg"),g=tt("path"),c=z(),C=B("div"),p=B("ul");for(let q=0;q<S.length;q+=1)S[q].c();this.h()},l(q){e=I(q,"BUTTON",{id:!0,class:!0,type:!0,title:!0});var m=y(e);n=I(m,"DIV",{class:!0});var M=y(n);E&&E.l(M),o=O(M),i=I(M,"INPUT",{class:!0}),s=O(M),r=nt(M,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var Q=y(r);g=nt(Q,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),y(g).forEach(v),Q.forEach(v),M.forEach(v),m.forEach(v),c=O(q),C=I(q,"DIV",{id:!0,class:!0});var k=y(C);p=I(k,"UL",{class:!0,"aria-labelledby":!0});var N=y(p);for(let V=0;V<S.length;V+=1)S[V].l(N);N.forEach(v),k.forEach(v),this.h()},h(){f(i,"class",l="z-[-1] w-full bg-white "+t[4]),i.value=a=t[5].text,i.disabled=!0,f(g,"stroke","currentColor"),f(g,"stroke-linecap","round"),f(g,"stroke-linejoin","round"),f(g,"stroke-width","2"),f(g,"d","m1 1 4 4 4-4"),f(r,"class","w-2.5 h-2.5 ml-2.5"),f(r,"aria-hidden","true"),f(r,"xmlns","http://www.w3.org/2000/svg"),f(r,"fill","none"),f(r,"viewBox","0 0 10 6"),f(n,"class","relative z-1 bg-[transparent] inline-flex justify-between items-center"),f(e,"id","dropdownDefaultButton"),f(e,"class",d=t[5].classes+t[5].colorClasses+t[4]),f(e,"type","button"),f(e,"title",t[0]),e.disabled=t[2],f(p,"class","text-sm py-2 text-gray-700 dark:text-gray-200"),f(p,"aria-labelledby","dropdownDefaultButton"),f(C,"id","dropdown"),C.hidden=b=!t[6],f(C,"class","w-auto absolute z-10 bg-[white] divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700")},m(q,m){ae(q,e,m),u(e,n),E&&E.m(n,null),u(n,o),u(n,i),u(n,s),u(n,r),u(r,g),t[17](e),ae(q,c,m),ae(q,C,m),u(C,p);for(let M=0;M<S.length;M+=1)S[M]&&S[M].m(p,null);h=!0,_||(w=[Ct(window,"click",t[9]),Ct(e,"click",t[18])],_=!0)},p(q,[m]){if(q[1]&&q[5].img?E?(E.p(q,m),m&34&&D(E,1)):(E=qn(q),E.c(),D(E,1),E.m(n,o)):E&&(ot(),R(E,1,1,()=>{E=null}),it()),(!h||m&16&&l!==(l="z-[-1] w-full bg-white "+q[4]))&&f(i,"class",l),(!h||m&32&&a!==(a=q[5].text)&&i.value!==a)&&(i.value=a),(!h||m&48&&d!==(d=q[5].classes+q[5].colorClasses+q[4]))&&f(e,"class",d),(!h||m&1)&&f(e,"title",q[0]),(!h||m&4)&&(e.disabled=q[2]),m&1288){F=q[3];let M;for(M=0;M<F.length;M+=1){const Q=Sn(q,F,M);S[M]?(S[M].p(Q,m),D(S[M],1)):(S[M]=kn(Q),S[M].c(),D(S[M],1),S[M].m(p,null))}for(ot(),M=F.length;M<S.length;M+=1)T(M);it()}(!h||m&64&&b!==(b=!q[6]))&&(C.hidden=b)},i(q){if(!h){D(E);for(let m=0;m<F.length;m+=1)D(S[m]);h=!0}},o(q){R(E),S=S.filter(Boolean);for(let m=0;m<S.length;m+=1)R(S[m]);h=!1},d(q){q&&v(e),E&&E.d(),t[17](null),q&&v(c),q&&v(C),en(S,q),_=!1,ln(w)}}}function Eo(t,e,n){const o={optionSettings:{idField:"id",valueField:"id",textField:"name"}};let{id:i=""}=e,{title:l=""}=e,{placeholder:a=""}=e,{options:s=[]}=e,{value:r}=e,{disabled:g=!1}=e,{required:d=!1}=e,{onChange:c=void 0}=e,{optionSettings:C=o.optionSettings}=e;C=Object.assign({},o.optionSettings,C),l=l.length?l:a;const p=()=>r[C.imgField],b=k=>Array.isArray(C.textField)?C.textField.map(N=>k[N]).join(" | "):k[C.textField];let h=s.map(k=>new Co({id:k[C.idField],img:k[C.imgField],text:b(k)})),_="",w={text:a,img:"",colorClasses:"text-gray",classes:"relative bg-[white] border border-[transparent] rounded-lg  text-sm z-0 ring-1 ring-gray-300 focus:shadow-outline focus:ring-blue-600 focus:border-blue-600 w-full mt-[1px] px-[12px] py-[7px] dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 "};jn(()=>{r&&r.id&&String(r.id).startsWith("empty_")&&n(1,r=void 0),n(5,w.colorClasses=r?" text-gray-900":"",w),n(5,w.img=r?p():"",w),n(3,h=[...h]),g===!0?(n(4,_+=" bg-gray-100 focus:bg-[white]"),n(5,w.text="-",w)):(n(5,w.text=r?b(r):a,w),n(4,_=""))});const E=k=>r&&k.id===r[C.idField]?" text-white bg-primary-500 ":" hover:bg-gray-200";let F=!1,S;const T=k=>{S.contains(k.target)==!1&&n(6,F=!1)},q=k=>{n(1,r=s.find(N=>N.id===k.id))};function m(k){ee[k?"unshift":"push"](()=>{S=k,n(7,S)})}const M=()=>n(6,F=!F),Q=k=>q(k);return t.$$set=k=>{"id"in k&&n(12,i=k.id),"title"in k&&n(0,l=k.title),"placeholder"in k&&n(13,a=k.placeholder),"options"in k&&n(14,s=k.options),"value"in k&&n(1,r=k.value),"disabled"in k&&n(2,g=k.disabled),"required"in k&&n(15,d=k.required),"onChange"in k&&n(16,c=k.onChange),"optionSettings"in k&&n(11,C=k.optionSettings)},[l,r,g,h,_,w,F,S,E,T,q,C,i,a,s,d,c,m,M,Q]}class Ht extends Ae{constructor(e){super(),Pe(this,e,Eo,Fo,Ne,{id:12,title:0,placeholder:13,options:14,value:1,disabled:2,required:15,onChange:16,optionSettings:11})}}function So(t){let e,n;return{c(){e=B("div"),this.h()},l(o){e=I(o,"DIV",{id:!0,class:!0}),y(e).forEach(v),this.h()},h(){f(e,"id",n="drawContainer"+t[0].id),f(e,"class","flex flex-col overflow-auto max-w-[80vw]")},m(o,i){ae(o,e,i)},p(o,[i]){i&1&&n!==(n="drawContainer"+o[0].id)&&f(e,"id",n)},i:Me,o:Me,d(o){o&&v(e)}}}function qo(t,e,n){let{processing:o}=e,{equipments:i}=e,{buildPiece:l}=e;return jn(()=>{no(`drawContainer${l.id}`,l,o,i)}),t.$$set=a=>{"processing"in a&&n(1,o=a.processing),"equipments"in a&&n(2,i=a.equipments),"buildPiece"in a&&n(0,l=a.buildPiece)},[l,o,i]}class ko extends Ae{constructor(e){super(),Pe(this,e,qo,So,Ne,{processing:1,equipments:2,buildPiece:0})}}function yo(t){let e,n,o,i,l,a,s,r,g,d,c,C,p,b,h,_,w;const E=t[6].default,F=ao(E,t,t[5],null);return{c(){e=B("div"),n=B("h2"),o=B("button"),i=B("span"),l=K(t[1]),a=z(),s=tt("svg"),r=tt("path"),d=z(),c=B("div"),C=B("div"),F&&F.c(),this.h()},l(S){e=I(S,"DIV",{id:!0,"data-accordion":!0});var T=y(e);n=I(T,"H2",{id:!0});var q=y(n);o=I(q,"BUTTON",{type:!0,class:!0,"data-accordion-target":!0,"aria-expanded":!0,"aria-controls":!0});var m=y(o);i=I(m,"SPAN",{});var M=y(i);l=Y(M,t[1]),M.forEach(v),a=O(m),s=nt(m,"svg",{"data-accordion-icon":!0,class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var Q=y(s);r=nt(Q,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),y(r).forEach(v),Q.forEach(v),m.forEach(v),q.forEach(v),d=O(T),c=I(T,"DIV",{id:!0,class:!0,"aria-labelledby":!0});var k=y(c);C=I(k,"DIV",{class:!0});var N=y(C);F&&F.l(N),N.forEach(v),k.forEach(v),T.forEach(v),this.h()},h(){f(r,"stroke","currentColor"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(r,"stroke-width","2"),f(r,"d","M9 5 5 1 1 5"),f(s,"data-accordion-icon",""),f(s,"class",g="w-3 h-3 "+(t[0]?"rotate-180":"")+" shrink-0"),f(s,"aria-hidden","true"),f(s,"xmlns","http://www.w3.org/2000/svg"),f(s,"fill","none"),f(s,"viewBox","0 0 10 6"),f(o,"type","button"),f(o,"class",t[2]),f(o,"data-accordion-target","#accordion-collapse-body-1"),f(o,"aria-expanded","true"),f(o,"aria-controls","accordion-collapse-body-1"),f(n,"id","accordion-collapse-heading-1"),f(C,"class","p-5 border border-gray-200 dark:border-gray-700 dark:bg-gray-900"),f(c,"id","accordion-collapse-body-1"),f(c,"class",p=t[0]?"":"hidden"),f(c,"aria-labelledby","accordion-collapse-heading-1"),f(e,"id","accordion-collapse"),f(e,"data-accordion",b=t[0]?"open":"collapse")},m(S,T){ae(S,e,T),u(e,n),u(n,o),u(o,i),u(i,l),u(o,a),u(o,s),u(s,r),u(e,d),u(e,c),u(c,C),F&&F.m(C,null),h=!0,_||(w=Ct(o,"click",t[7]),_=!0)},p(S,[T]){(!h||T&2)&&xt(l,S[1]),(!h||T&1&&g!==(g="w-3 h-3 "+(S[0]?"rotate-180":"")+" shrink-0"))&&f(s,"class",g),(!h||T&4)&&f(o,"class",S[2]),F&&F.p&&(!h||T&32)&&lo(F,E,S,S[5],h?fo(E,S[5],T,null):uo(S[5]),null),(!h||T&1&&p!==(p=S[0]?"":"hidden"))&&f(c,"class",p),(!h||T&1&&b!==(b=S[0]?"open":"collapse"))&&f(e,"data-accordion",b)},i(S){h||(D(F,S),h=!0)},o(S){R(F,S),h=!1},d(S){S&&v(e),F&&F.d(S),_=!1,w()}}}function To(t,e,n){let{$$slots:o={},$$scope:i}=e,{title:l=""}=e,{classes:a=""}=e,{isOpen:s=!1}=e;const r=()=>n(0,s=!s);let g=`${a} flex items-center justify-between w-full p-5 font-medium text-left border border-gray-200 rounded-xl focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800`;const d=()=>r();return t.$$set=c=>{"title"in c&&n(1,l=c.title),"classes"in c&&n(4,a=c.classes),"isOpen"in c&&n(0,s=c.isOpen),"$$scope"in c&&n(5,i=c.$$scope)},t.$$.update=()=>{if(t.$$.dirty&5){const c="rounded-xl",C="rounded-t-xl",p=" bg-gray-100";s?(n(2,g=g.replace(c,C)),n(2,g+=p)):(n(2,g=g.replace(C,c)),n(2,g=g.replace(p,"")))}},[s,l,g,r,a,i,o,d]}class on extends Ae{constructor(e){super(),Pe(this,e,To,yo,Ne,{title:1,classes:4,isOpen:0})}}function Bo(t){let e,n;return{c(){e=tt("svg"),n=tt("path"),this.h()},l(o){e=nt(o,"svg",{class:!0,"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var i=y(e);n=nt(i,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),y(n).forEach(v),i.forEach(v),this.h()},h(){f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-width","2"),f(n,"d","M1 5h16M7 8v8m4-8v8M7 1h4a1 1 0 0 1 1 1v3H6V2a1 1 0 0 1 1-1ZM3 5h12v13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V5Z"),f(e,"class",t[0]),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","0 0 20 20"),f(e,"width","18"),f(e,"data-view-component","true")},m(o,i){ae(o,e,i),u(e,n)},p(o,[i]){i&1&&f(e,"class",o[0])},i:Me,o:Me,d(o){o&&v(e)}}}function Io(t,e,n){let{class:o=""}=e;return t.$$set=i=>{"class"in i&&n(0,o=i.class)},[o]}class Do extends Ae{constructor(e){super(),Pe(this,e,Io,Bo,Ne,{class:0})}}function zo(t){let e,n;return{c(){e=tt("svg"),n=tt("path"),this.h()},l(o){e=nt(o,"svg",{"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var i=y(e);n=nt(i,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),y(n).forEach(v),i.forEach(v),this.h()},h(){f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-width","2"),f(n,"d","M11 14h6m-3 3v-6M1.857 1h4.286c.473 0 .857.384.857.857v4.286A.857.857 0 0 1 6.143 7H1.857A.857.857 0 0 1 1 6.143V1.857C1 1.384 1.384 1 1.857 1Zm10 0h4.286c.473 0 .857.384.857.857v4.286a.857.857 0 0 1-.857.857h-4.286A.857.857 0 0 1 11 6.143V1.857c0-.473.384-.857.857-.857Zm-10 10h4.286c.473 0 .857.384.857.857v4.286a.857.857 0 0 1-.857.857H1.857A.857.857 0 0 1 1 16.143v-4.286c0-.473.384-.857.857-.857Z"),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","0 0 20 20"),f(e,"width","18"),f(e,"data-view-component","true")},m(o,i){ae(o,e,i),u(e,n)},p:Me,i:Me,o:Me,d(o){o&&v(e)}}}class Oo extends Ae{constructor(e){super(),Pe(this,e,null,zo,Ne,{})}}function Ho(t){let e,n;return{c(){e=tt("svg"),n=tt("path"),this.h()},l(o){e=nt(o,"svg",{class:!0,"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var i=y(e);n=nt(i,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),y(n).forEach(v),i.forEach(v),this.h()},h(){f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"stroke-width","2"),f(n,"d","m7.708 2.292.706-.706A2 2 0 0 1 9.828 1h6.239A.97.97 0 0 1 17 2v12a.97.97 0 0 1-.933 1H15M6 5v4a1 1 0 0 1-1 1H1m11-4v12a.97.97 0 0 1-.933 1H1.933A.97.97 0 0 1 1 18V9.828a2 2 0 0 1 .586-1.414l2.828-2.828A2 2 0 0 1 5.828 5h5.239A.97.97 0 0 1 12 6Z"),f(e,"class",t[0]),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","0 0 20 20"),f(e,"width","18"),f(e,"data-view-component","true")},m(o,i){ae(o,e,i),u(e,n)},p(o,[i]){i&1&&f(e,"class",o[0])},i:Me,o:Me,d(o){o&&v(e)}}}function Vo(t,e,n){let{class:o=""}=e;return t.$$set=i=>{"class"in i&&n(0,o=i.class)},[o]}class Ro extends Ae{constructor(e){super(),Pe(this,e,Vo,Ho,Ne,{class:0})}}function yn(t,e,n){const o=t.slice();return o[25]=e[n],o[26]=e,o[27]=n,o}function Tn(t){let e,n;return e=new ko({props:{buildPiece:t[25],equipments:t[9],processing:t[8]}}),{c(){U(e.$$.fragment)},l(o){j(e.$$.fragment,o)},m(o,i){G(e,o,i),n=!0},p(o,i){const l={};i&1&&(l.buildPiece=o[25]),i&512&&(l.equipments=o[9]),i&256&&(l.processing=o[8]),e.$set(l)},i(o){n||(D(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function $o(t){let e,n,o=t[25]&&Tn(t);return{c(){o&&o.c(),e=wn()},l(i){o&&o.l(i),e=wn()},m(i,l){o&&o.m(i,l),ae(i,e,l),n=!0},p(i,l){i[25]?o?(o.p(i,l),l&1&&D(o,1)):(o=Tn(i),o.c(),D(o,1),o.m(e.parentNode,e)):o&&(ot(),R(o,1,1,()=>{o=null}),it())},i(i){n||(D(o),n=!0)},o(i){R(o),n=!1},d(i){o&&o.d(i),i&&v(e)}}}function Bn(t){let e,n,o=t[27]+1+"",i,l,a,s,r,g,d,c,C,p,b,h,_,w,E,F,S,T,q,m,M,Q,k,N,V,x,le,ge,ie,$,J,ce,ve,_e,he,ue,qe,De,me,de,Xe,A,P,X,we,ze,ke,re,pe,Te,Oe,Be,He,Ze,Ue,je;function Ft(W){t[13](W,t[25])}let Ke={id:"heightPiece",type:"number",disabled:!t[9].hasDoorBox,placeholder:"Введите высоту полотна...",numSettings:{min:1},required:!0};t[25].heightDoorCanvas!==void 0&&(Ke.value=t[25].heightDoorCanvas),s=new Nt({props:Ke}),ee.push(()=>te(s,"value",Ft));function Ye(W){t[14](W,t[25])}let vt={id:"widthPiece",type:"number",disabled:!t[9].hasDoorBox,placeholder:"Введите ширину полотна...",numSettings:{min:1},required:!0};t[25].widthDoorCanvas!==void 0&&(vt.value=t[25].widthDoorCanvas),c=new Nt({props:vt}),ee.push(()=>te(c,"value",Ye));function Je(W){t[15](W,t[25])}let yt={id:"openingSide",disabled:!t[9].hasDoorBox,placeholder:"Выберите сторону открывания...",options:t[1],required:!0};t[25].openingSide!==void 0&&(yt.value=t[25].openingSide),h=new Ht({props:yt}),ee.push(()=>te(h,"value",Je));function Tt(W){t[16](W,t[25])}let mt={id:"typeEndFace",placeholder:"Выберите тип торца...",disabled:!t[9].hasEndFaceOrFrameCanvas,options:t[4],optionSettings:{textField:["name","width"]},required:!0};t[25].typeEndFace!==void 0&&(mt.value=t[25].typeEndFace),F=new Ht({props:mt}),ee.push(()=>te(F,"value",Tt));function Bt(W){t[17](W,t[25])}let xe={id:"doorFrame",placeholder:"Выберите профиль коробки...",disabled:!t[9].hasDoorBox,optionSettings:{textField:["name","height","width","length"]},options:t[2],required:!0};t[25].doorFrame!==void 0&&(xe.value=t[25].doorFrame),m=new Ht({props:xe}),ee.push(()=>te(m,"value",Bt));function ft(W){t[18](W,t[25])}let It={id:"typeHinge",placeholder:"Выберите вариант петель...",disabled:!t[9].hasHinges,options:t[3],required:!0};t[25].typeHinge!==void 0&&(It.value=t[25].typeHinge),N=new Ht({props:It}),ee.push(()=>te(N,"value",ft));function Et(W){t[19](W,t[25])}let Dt={id:"volumeHinges",type:"number",placeholder:"Введите количество петель...",disabled:!t[9].hasHinges,numSettings:{min:0},required:!0};t[25].volumeHinges!==void 0&&(Dt.value=t[25].volumeHinges),ge=new Nt({props:Dt}),ee.push(()=>te(ge,"value",Et));function $t(W){t[20](W,t[25])}let ct={id:"profileColor",placeholder:"Выберите материал...",disabled:!t[9].hasHinges&&!t[9].hasEndFaceOrFrameCanvas&&!t[9].hasLockAndResponse,options:t[6],required:!0};t[25].profileMaterial!==void 0&&(ct.value=t[25].profileMaterial),ce=new Ht({props:ct}),ee.push(()=>te(ce,"value",$t));function Ce(W){t[21](W,t[25])}let At={id:"profileColor",placeholder:"Выберите покрытие...",disabled:!t[9].hasHinges&&!t[9].hasEndFaceOrFrameCanvas&&!t[9].hasLockAndResponse,options:t[5],required:!0};t[25].profileColor!==void 0&&(At.value=t[25].profileColor),ue=new Ht({props:At}),ee.push(()=>te(ue,"value",Ce));function Fe(W){t[22](W,t[25])}let Ve={id:"millingVersion",placeholder:"Выберите фрезеровку...",disabled:!0,options:t[7],required:!0};t[25].millingVersion!==void 0&&(Ve.value=t[25].millingVersion),de=new Ht({props:Ve}),ee.push(()=>te(de,"value",Fe)),we=new Ro({props:{class:"w-4 h-4"}});function be(){return t[23](t[25])}re=new Do({props:{class:"w-4 h-4"}});function Ee(){return t[24](t[25])}return Be=new on({props:{title:"Схема для №"+(t[27]+1),classes:"mt-2.5",$$slots:{default:[$o]},$$scope:{ctx:t}}}),{c(){e=B("tr"),n=B("th"),i=K(o),l=z(),a=B("td"),U(s.$$.fragment),g=z(),d=B("td"),U(c.$$.fragment),p=z(),b=B("td"),U(h.$$.fragment),w=z(),E=B("td"),U(F.$$.fragment),T=z(),q=B("td"),U(m.$$.fragment),Q=z(),k=B("td"),U(N.$$.fragment),x=z(),le=B("td"),U(ge.$$.fragment),$=z(),J=B("td"),U(ce.$$.fragment),_e=z(),he=B("td"),U(ue.$$.fragment),De=z(),me=B("td"),U(de.$$.fragment),A=z(),P=B("td"),X=B("button"),U(we.$$.fragment),ze=z(),ke=B("button"),U(re.$$.fragment),pe=z(),Te=B("tr"),Oe=B("td"),U(Be.$$.fragment),He=z(),this.h()},l(W){e=I(W,"TR",{class:!0});var L=y(e);n=I(L,"TH",{scope:!0,class:!0});var fe=y(n);i=Y(fe,o),fe.forEach(v),l=O(L),a=I(L,"TD",{class:!0});var pt=y(a);j(s.$$.fragment,pt),pt.forEach(v),g=O(L),d=I(L,"TD",{class:!0});var rt=y(d);j(c.$$.fragment,rt),rt.forEach(v),p=O(L),b=I(L,"TD",{class:!0});var dt=y(b);j(h.$$.fragment,dt),dt.forEach(v),w=O(L),E=I(L,"TD",{class:!0});var st=y(E);j(F.$$.fragment,st),st.forEach(v),T=O(L),q=I(L,"TD",{class:!0});var Ie=y(q);j(m.$$.fragment,Ie),Ie.forEach(v),Q=O(L),k=I(L,"TD",{class:!0});var ht=y(k);j(N.$$.fragment,ht),ht.forEach(v),x=O(L),le=I(L,"TD",{class:!0});var H=y(le);j(ge.$$.fragment,H),H.forEach(v),$=O(L),J=I(L,"TD",{class:!0});var se=y(J);j(ce.$$.fragment,se),se.forEach(v),_e=O(L),he=I(L,"TD",{class:!0});var Re=y(he);j(ue.$$.fragment,Re),Re.forEach(v),De=O(L),me=I(L,"TD",{class:!0});var We=y(me);j(de.$$.fragment,We),We.forEach(v),A=O(L),P=I(L,"TD",{class:!0});var et=y(P);X=I(et,"BUTTON",{type:!0,title:!0,class:!0});var gt=y(X);j(we.$$.fragment,gt),gt.forEach(v),ze=O(et),ke=I(et,"BUTTON",{type:!0,title:!0,class:!0});var Se=y(ke);j(re.$$.fragment,Se),Se.forEach(v),et.forEach(v),L.forEach(v),pe=O(W),Te=I(W,"TR",{});var at=y(Te);Oe=I(at,"TD",{colspan:!0});var Ge=y(Oe);j(Be.$$.fragment,Ge),Ge.forEach(v),He=O(at),at.forEach(v),this.h()},h(){f(n,"scope","row"),f(n,"class","px-3 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"),f(a,"class","px-2 py-4"),f(d,"class","px-2 py-4 border-r"),f(b,"class","px-3 py-4"),f(E,"class","px-3 py-4"),f(q,"class","px-3 py-4"),f(k,"class","px-3 py-4"),f(le,"class","px-3 py-4"),f(J,"class","px-3 py-4"),f(he,"class","px-3 py-4"),f(me,"class","px-3 py-4"),f(X,"type","button"),f(X,"title","Скопировать строку"),f(X,"class","px-3 py-2 text-xl text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg"),f(ke,"type","button"),f(ke,"title","Удалить строку"),f(ke,"class","px-3 py-2 text-xl text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg"),f(P,"class","px-3 py-4 inline-flex gap-2"),f(e,"class","border-b dark:bg-gray-700 dark:border-gray-600 hover:bg-[gray]/5 dark:hover:bg-gray-600"),f(Oe,"colspan","20")},m(W,L){ae(W,e,L),u(e,n),u(n,i),u(e,l),u(e,a),G(s,a,null),u(e,g),u(e,d),G(c,d,null),u(e,p),u(e,b),G(h,b,null),u(e,w),u(e,E),G(F,E,null),u(e,T),u(e,q),G(m,q,null),u(e,Q),u(e,k),G(N,k,null),u(e,x),u(e,le),G(ge,le,null),u(e,$),u(e,J),G(ce,J,null),u(e,_e),u(e,he),G(ue,he,null),u(e,De),u(e,me),G(de,me,null),u(e,A),u(e,P),u(P,X),G(we,X,null),u(P,ze),u(P,ke),G(re,ke,null),ae(W,pe,L),ae(W,Te,L),u(Te,Oe),G(Be,Oe,null),u(Te,He),Ze=!0,Ue||(je=[Ct(X,"click",be),Ct(ke,"click",Ee)],Ue=!0)},p(W,L){t=W;const fe={};L&512&&(fe.disabled=!t[9].hasDoorBox),!r&&L&1&&(r=!0,fe.value=t[25].heightDoorCanvas,ne(()=>r=!1)),s.$set(fe);const pt={};L&512&&(pt.disabled=!t[9].hasDoorBox),!C&&L&1&&(C=!0,pt.value=t[25].widthDoorCanvas,ne(()=>C=!1)),c.$set(pt);const rt={};L&512&&(rt.disabled=!t[9].hasDoorBox),L&2&&(rt.options=t[1]),!_&&L&1&&(_=!0,rt.value=t[25].openingSide,ne(()=>_=!1)),h.$set(rt);const dt={};L&512&&(dt.disabled=!t[9].hasEndFaceOrFrameCanvas),L&16&&(dt.options=t[4]),!S&&L&1&&(S=!0,dt.value=t[25].typeEndFace,ne(()=>S=!1)),F.$set(dt);const st={};L&512&&(st.disabled=!t[9].hasDoorBox),L&4&&(st.options=t[2]),!M&&L&1&&(M=!0,st.value=t[25].doorFrame,ne(()=>M=!1)),m.$set(st);const Ie={};L&512&&(Ie.disabled=!t[9].hasHinges),L&8&&(Ie.options=t[3]),!V&&L&1&&(V=!0,Ie.value=t[25].typeHinge,ne(()=>V=!1)),N.$set(Ie);const ht={};L&512&&(ht.disabled=!t[9].hasHinges),!ie&&L&1&&(ie=!0,ht.value=t[25].volumeHinges,ne(()=>ie=!1)),ge.$set(ht);const H={};L&512&&(H.disabled=!t[9].hasHinges&&!t[9].hasEndFaceOrFrameCanvas&&!t[9].hasLockAndResponse),L&64&&(H.options=t[6]),!ve&&L&1&&(ve=!0,H.value=t[25].profileMaterial,ne(()=>ve=!1)),ce.$set(H);const se={};L&512&&(se.disabled=!t[9].hasHinges&&!t[9].hasEndFaceOrFrameCanvas&&!t[9].hasLockAndResponse),L&32&&(se.options=t[5]),!qe&&L&1&&(qe=!0,se.value=t[25].profileColor,ne(()=>qe=!1)),ue.$set(se);const Re={};L&128&&(Re.options=t[7]),!Xe&&L&1&&(Xe=!0,Re.value=t[25].millingVersion,ne(()=>Xe=!1)),de.$set(Re);const We={};L&268436225&&(We.$$scope={dirty:L,ctx:t}),Be.$set(We)},i(W){Ze||(D(s.$$.fragment,W),D(c.$$.fragment,W),D(h.$$.fragment,W),D(F.$$.fragment,W),D(m.$$.fragment,W),D(N.$$.fragment,W),D(ge.$$.fragment,W),D(ce.$$.fragment,W),D(ue.$$.fragment,W),D(de.$$.fragment,W),D(we.$$.fragment,W),D(re.$$.fragment,W),D(Be.$$.fragment,W),Ze=!0)},o(W){R(s.$$.fragment,W),R(c.$$.fragment,W),R(h.$$.fragment,W),R(F.$$.fragment,W),R(m.$$.fragment,W),R(N.$$.fragment,W),R(ge.$$.fragment,W),R(ce.$$.fragment,W),R(ue.$$.fragment,W),R(de.$$.fragment,W),R(we.$$.fragment,W),R(re.$$.fragment,W),R(Be.$$.fragment,W),Ze=!1},d(W){W&&v(e),Z(s),Z(c),Z(h),Z(F),Z(m),Z(N),Z(ge),Z(ce),Z(ue),Z(de),Z(we),Z(re),W&&v(pe),W&&v(Te),Z(Be),Ue=!1,ln(je)}}}function Mo(t){let e,n,o,i,l,a,s,r,g,d,c,C,p,b,h,_,w,E,F,S,T,q,m,M,Q,k,N,V,x,le,ge,ie,$,J,ce,ve,_e,he,ue,qe,De,me,de,Xe,A,P,X,we,ze,ke,re,pe,Te,Oe,Be,He,Ze,Ue,je,Ft,Ke,Ye,vt,Je,yt,Tt,mt,Bt,xe,ft,It,Et,Dt,$t,ct=t[0],Ce=[];for(let Fe=0;Fe<ct.length;Fe+=1)Ce[Fe]=Bn(yn(t,ct,Fe));const At=Fe=>R(Ce[Fe],1,1,()=>{Ce[Fe]=null});return ft=new Oo({}),{c(){e=B("section"),n=B("div"),o=B("h2"),i=K("Список требуемых деталей"),l=z(),a=B("table"),s=B("thead"),r=B("tr"),g=B("th"),d=K("Полотно"),c=z(),C=B("th"),p=K("Коробка"),b=z(),h=B("th"),_=K("Фурнитура"),w=z(),E=B("th"),F=K("Дополнительно"),S=z(),T=B("th"),q=z(),m=B("tr"),M=B("th"),Q=K("№"),k=z(),N=B("th"),V=K("Размер"),x=z(),le=B("th"),ge=K("Сторона открывания"),ie=z(),$=B("th"),J=K("Торец"),ce=z(),ve=B("th"),_e=K("Профиль"),he=z(),ue=B("th"),qe=K("Петли"),De=z(),me=B("th"),de=K("Фрезеровка"),Xe=z(),A=B("tr"),P=B("th"),X=K("Высота, мм"),we=z(),ze=B("th"),ke=K("Ширина, мм"),re=z(),pe=B("th"),Te=K("Тип"),Oe=z(),Be=B("th"),He=K("Тип"),Ze=z(),Ue=B("th"),je=K("Количество"),Ft=z(),Ke=B("th"),Ye=K("Материал"),vt=z(),Je=B("th"),yt=K("Покрытие"),Tt=z(),mt=B("tbody");for(let Fe=0;Fe<Ce.length;Fe+=1)Ce[Fe].c();Bt=z(),xe=B("button"),U(ft.$$.fragment),It=K(" Добавить строку"),this.h()},l(Fe){e=I(Fe,"SECTION",{class:!0});var Ve=y(e);n=I(Ve,"DIV",{class:!0});var be=y(n);o=I(be,"H2",{class:!0});var Ee=y(o);i=Y(Ee,"Список требуемых деталей"),Ee.forEach(v),l=O(be),a=I(be,"TABLE",{class:!0});var W=y(a);s=I(W,"THEAD",{class:!0});var L=y(s);r=I(L,"TR",{});var fe=y(r);g=I(fe,"TH",{scope:!0,colspan:!0,class:!0});var pt=y(g);d=Y(pt,"Полотно"),pt.forEach(v),c=O(fe),C=I(fe,"TH",{scope:!0,colspan:!0,class:!0});var rt=y(C);p=Y(rt,"Коробка"),rt.forEach(v),b=O(fe),h=I(fe,"TH",{scope:!0,rowspan:!0,colspan:!0,class:!0});var dt=y(h);_=Y(dt,"Фурнитура"),dt.forEach(v),w=O(fe),E=I(fe,"TH",{scope:!0,colspan:!0,class:!0});var st=y(E);F=Y(st,"Дополнительно"),st.forEach(v),S=O(fe),T=I(fe,"TH",{scope:!0,rowspan:!0,class:!0}),y(T).forEach(v),fe.forEach(v),q=O(L),m=I(L,"TR",{});var Ie=y(m);M=I(Ie,"TH",{scope:!0,rowspan:!0,class:!0});var ht=y(M);Q=Y(ht,"№"),ht.forEach(v),k=O(Ie),N=I(Ie,"TH",{scope:!0,colspan:!0,class:!0});var H=y(N);V=Y(H,"Размер"),H.forEach(v),x=O(Ie),le=I(Ie,"TH",{scope:!0,rowspan:!0,class:!0});var se=y(le);ge=Y(se,"Сторона открывания"),se.forEach(v),ie=O(Ie),$=I(Ie,"TH",{scope:!0,colspan:!0,class:!0});var Re=y($);J=Y(Re,"Торец"),Re.forEach(v),ce=O(Ie),ve=I(Ie,"TH",{scope:!0,rowspan:!0,class:!0});var We=y(ve);_e=Y(We,"Профиль"),We.forEach(v),he=O(Ie),ue=I(Ie,"TH",{scope:!0,colspan:!0,class:!0});var et=y(ue);qe=Y(et,"Петли"),et.forEach(v),De=O(Ie),me=I(Ie,"TH",{scope:!0,rowspan:!0,class:!0});var gt=y(me);de=Y(gt,"Фрезеровка"),gt.forEach(v),Ie.forEach(v),Xe=O(L),A=I(L,"TR",{});var Se=y(A);P=I(Se,"TH",{class:!0});var at=y(P);X=Y(at,"Высота, мм"),at.forEach(v),we=O(Se),ze=I(Se,"TH",{class:!0});var Ge=y(ze);ke=Y(Ge,"Ширина, мм"),Ge.forEach(v),re=O(Se),pe=I(Se,"TH",{scope:!0,rowspan:!0,class:!0});var zt=y(pe);Te=Y(zt,"Тип"),zt.forEach(v),Oe=O(Se),Be=I(Se,"TH",{scope:!0,rowspan:!0,class:!0});var _t=y(Be);He=Y(_t,"Тип"),_t.forEach(v),Ze=O(Se),Ue=I(Se,"TH",{scope:!0,rowspan:!0,class:!0});var bt=y(Ue);je=Y(bt,"Количество"),bt.forEach(v),Ft=O(Se),Ke=I(Se,"TH",{scope:!0,rowspan:!0,class:!0});var Le=y(Ke);Ye=Y(Le,"Материал"),Le.forEach(v),vt=O(Se),Je=I(Se,"TH",{scope:!0,rowspan:!0,class:!0});var St=y(Je);yt=Y(St,"Покрытие"),St.forEach(v),Se.forEach(v),L.forEach(v),Tt=O(W),mt=I(W,"TBODY",{});var lt=y(mt);for(let Ot=0;Ot<Ce.length;Ot+=1)Ce[Ot].l(lt);lt.forEach(v),W.forEach(v),Bt=O(be),xe=I(be,"BUTTON",{type:!0,class:!0});var Pt=y(xe);j(ft.$$.fragment,Pt),It=Y(Pt," Добавить строку"),Pt.forEach(v),be.forEach(v),Ve.forEach(v),this.h()},h(){f(o,"class","mb-4 text-[28px] font-bold text-gray-900 dark:text-white"),f(g,"scope","col"),f(g,"colspan","5"),f(g,"class",$e),f(C,"scope","col"),f(C,"colspan","3"),f(C,"class",$e),f(h,"scope","col"),f(h,"rowspan","2"),f(h,"colspan","2"),f(h,"class",$e),f(E,"scope","col"),f(E,"colspan","1"),f(E,"class",$e),f(T,"scope","col"),f(T,"rowspan","3"),f(T,"class",$e),f(M,"scope","col"),f(M,"rowspan","2"),f(M,"class",$e+ut),f(N,"scope","col"),f(N,"colspan","2"),f(N,"class",$e+ut),f(le,"scope","col"),f(le,"rowspan","2"),f(le,"class",$e+ut),f($,"scope","col"),f($,"colspan","1"),f($,"class",$e),f(ve,"scope","col"),f(ve,"rowspan","2"),f(ve,"class",$e+ut),f(ue,"scope","col"),f(ue,"colspan","2"),f(ue,"class",$e+ut),f(me,"scope","col"),f(me,"rowspan","2"),f(me,"class",$e+ut),f(P,"class","min-w-[100px] "+($e+ut)),f(ze,"class","min-w-[100px] "+($e+ut)),f(pe,"scope","col"),f(pe,"rowspan","2"),f(pe,"class",$e+ut),f(Be,"scope","col"),f(Be,"rowspan","2"),f(Be,"class",$e+ut),f(Ue,"scope","col"),f(Ue,"rowspan","2"),f(Ue,"class",$e+ut),f(Ke,"scope","col"),f(Ke,"rowspan","2"),f(Ke,"class",$e+ut),f(Je,"scope","col"),f(Je,"rowspan","2"),f(Je,"class",$e+ut),f(s,"class","text-gray-600 dark:text-gray-400"),f(a,"class","text-left text-gray-500 dark:text-gray-400"),f(xe,"type","button"),f(xe,"class","gap-2 inline-flex items-center mt-4 sm:mt-6 float-right px-3 py-2 text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm"),f(n,"class","p-4 mx-auto"),f(e,"class","animate__animated animate__fadeInDown animate__slower dark:bg-gray-900")},m(Fe,Ve){ae(Fe,e,Ve),u(e,n),u(n,o),u(o,i),u(n,l),u(n,a),u(a,s),u(s,r),u(r,g),u(g,d),u(r,c),u(r,C),u(C,p),u(r,b),u(r,h),u(h,_),u(r,w),u(r,E),u(E,F),u(r,S),u(r,T),u(s,q),u(s,m),u(m,M),u(M,Q),u(m,k),u(m,N),u(N,V),u(m,x),u(m,le),u(le,ge),u(m,ie),u(m,$),u($,J),u(m,ce),u(m,ve),u(ve,_e),u(m,he),u(m,ue),u(ue,qe),u(m,De),u(m,me),u(me,de),u(s,Xe),u(s,A),u(A,P),u(P,X),u(A,we),u(A,ze),u(ze,ke),u(A,re),u(A,pe),u(pe,Te),u(A,Oe),u(A,Be),u(Be,He),u(A,Ze),u(A,Ue),u(Ue,je),u(A,Ft),u(A,Ke),u(Ke,Ye),u(A,vt),u(A,Je),u(Je,yt),u(a,Tt),u(a,mt);for(let be=0;be<Ce.length;be+=1)Ce[be]&&Ce[be].m(mt,null);u(n,Bt),u(n,xe),G(ft,xe,null),u(xe,It),Et=!0,Dt||($t=Ct(xe,"click",function(){co(t[10])&&t[10].apply(this,arguments)}),Dt=!0)},p(Fe,[Ve]){if(t=Fe,Ve&7167){ct=t[0];let be;for(be=0;be<ct.length;be+=1){const Ee=yn(t,ct,be);Ce[be]?(Ce[be].p(Ee,Ve),D(Ce[be],1)):(Ce[be]=Bn(Ee),Ce[be].c(),D(Ce[be],1),Ce[be].m(mt,null))}for(ot(),be=ct.length;be<Ce.length;be+=1)At(be);it()}},i(Fe){if(!Et){for(let Ve=0;Ve<ct.length;Ve+=1)D(Ce[Ve]);D(ft.$$.fragment,Fe),Et=!0}},o(Fe){Ce=Ce.filter(Boolean);for(let Ve=0;Ve<Ce.length;Ve+=1)R(Ce[Ve]);R(ft.$$.fragment,Fe),Et=!1},d(Fe){Fe&&v(e),en(Ce,Fe),Z(ft),Dt=!1,$t()}}}const ut=" font-normal",$e="p-3 text-center bg-gray-50 dark:bg-gray-600 border-2 ";function Ao(t,e,n){let{openingSides:o=[]}=e,{doorFrames:i=[]}=e,{hingesTypes:l=[]}=e,{endFaceTypes:a=[]}=e,{profileColors:s=[]}=e,{profileMaterials:r=[]}=e,{millingVersions:g=[]}=e,{buildPieces:d=[]}=e,{processing:c}=e,{equipments:C}=e,{addBuildPiece:p}=e,{copyBuildPiece:b}=e,{removeBuildPiece:h}=e;function _(V,x){t.$$.not_equal(x.heightDoorCanvas,V)&&(x.heightDoorCanvas=V,n(0,d))}function w(V,x){t.$$.not_equal(x.widthDoorCanvas,V)&&(x.widthDoorCanvas=V,n(0,d))}function E(V,x){t.$$.not_equal(x.openingSide,V)&&(x.openingSide=V,n(0,d))}function F(V,x){t.$$.not_equal(x.typeEndFace,V)&&(x.typeEndFace=V,n(0,d))}function S(V,x){t.$$.not_equal(x.doorFrame,V)&&(x.doorFrame=V,n(0,d))}function T(V,x){t.$$.not_equal(x.typeHinge,V)&&(x.typeHinge=V,n(0,d))}function q(V,x){t.$$.not_equal(x.volumeHinges,V)&&(x.volumeHinges=V,n(0,d))}function m(V,x){t.$$.not_equal(x.profileMaterial,V)&&(x.profileMaterial=V,n(0,d))}function M(V,x){t.$$.not_equal(x.profileColor,V)&&(x.profileColor=V,n(0,d))}function Q(V,x){t.$$.not_equal(x.millingVersion,V)&&(x.millingVersion=V,n(0,d))}const k=V=>b(V.id),N=V=>h(V.id);return t.$$set=V=>{"openingSides"in V&&n(1,o=V.openingSides),"doorFrames"in V&&n(2,i=V.doorFrames),"hingesTypes"in V&&n(3,l=V.hingesTypes),"endFaceTypes"in V&&n(4,a=V.endFaceTypes),"profileColors"in V&&n(5,s=V.profileColors),"profileMaterials"in V&&n(6,r=V.profileMaterials),"millingVersions"in V&&n(7,g=V.millingVersions),"buildPieces"in V&&n(0,d=V.buildPieces),"processing"in V&&n(8,c=V.processing),"equipments"in V&&n(9,C=V.equipments),"addBuildPiece"in V&&n(10,p=V.addBuildPiece),"copyBuildPiece"in V&&n(11,b=V.copyBuildPiece),"removeBuildPiece"in V&&n(12,h=V.removeBuildPiece)},[d,o,i,l,a,s,r,g,c,C,p,b,h,_,w,E,F,S,T,q,m,M,Q,k,N]}class Po extends Ae{constructor(e){super(),Pe(this,e,Ao,Mo,Ne,{openingSides:1,doorFrames:2,hingesTypes:3,endFaceTypes:4,profileColors:5,profileMaterials:6,millingVersions:7,buildPieces:0,processing:8,equipments:9,addBuildPiece:10,copyBuildPiece:11,removeBuildPiece:12})}}function In(t,e,n){const o=t.slice();return o[12]=e[n],o[13]=e,o[14]=n,o}function Dn(t){let e,n,o,i,l,a,s,r,g,d,c,C,p,b,h,_,w,E,F,S,T,q,m,M,Q,k,N;function V(A){t[2](A)}let x={id:"doorBox",label:"Дверная коробка",type:"checkbox",required:!0};t[1].hasDoorBox!==void 0&&(x.value=t[1].hasDoorBox),o=new ye({props:x}),ee.push(()=>te(o,"value",V));function le(A){t[3](A)}let ge={id:"hasEndFaceOrFrameCanvas",label:"Торец/Каркас полотна",type:"checkbox",disabled:!0,required:!0};t[1].hasEndFaceOrFrameCanvas!==void 0&&(ge.value=t[1].hasEndFaceOrFrameCanvas),a=new ye({props:ge}),ee.push(()=>te(a,"value",le));let ie=t[1].hasEndFaceOrFrameCanvas&&zn(t);function $(A){t[6](A)}let J={id:"hinges",label:"Петли",type:"checkbox",required:!0};t[1].hasHinges!==void 0&&(J.value=t[1].hasHinges),d=new ye({props:J}),ee.push(()=>te(d,"value",$));function ce(A){t[7](A)}let ve={id:"lock",label:"Замок и ответка",type:"checkbox",required:!0};t[1].hasLockAndResponse!==void 0&&(ve.value=t[1].hasLockAndResponse),p=new ye({props:ve}),ee.push(()=>te(p,"value",ce));function _e(A){t[8](A)}let he={id:"sealer",label:"Уплотнитель",type:"checkbox",required:!0};t[1].hasSealer!==void 0&&(he.value=t[1].hasSealer),_=new ye({props:he}),ee.push(()=>te(_,"value",_e));function ue(A){t[9](A)}let qe={id:"corners",label:"Сухари/уголки для сборки",type:"checkbox",required:!0};t[1].hasCorners!==void 0&&(qe.value=t[1].hasCorners),F=new ye({props:qe}),ee.push(()=>te(F,"value",ue));function De(A){t[10](A)}let me={id:"mountingPlates",label:"Монтажные пластины",type:"checkbox",required:!0};t[1].hasMountingPlates!==void 0&&(me.value=t[1].hasMountingPlates),q=new ye({props:me}),ee.push(()=>te(q,"value",De));function de(A){t[11](A)}let Xe={id:"plasterMesh",label:"Штукатурная сетка",type:"checkbox",required:!0};return t[1].hasPlasterMesh!==void 0&&(Xe.value=t[1].hasPlasterMesh),Q=new ye({props:Xe}),ee.push(()=>te(Q,"value",de)),{c(){e=B("form"),n=B("div"),U(o.$$.fragment),l=z(),U(a.$$.fragment),r=z(),ie&&ie.c(),g=z(),U(d.$$.fragment),C=z(),U(p.$$.fragment),h=z(),U(_.$$.fragment),E=z(),U(F.$$.fragment),T=z(),U(q.$$.fragment),M=z(),U(Q.$$.fragment),this.h()},l(A){e=I(A,"FORM",{action:!0});var P=y(e);n=I(P,"DIV",{class:!0});var X=y(n);j(o.$$.fragment,X),l=O(X),j(a.$$.fragment,X),r=O(X),ie&&ie.l(X),g=O(X),j(d.$$.fragment,X),C=O(X),j(p.$$.fragment,X),h=O(X),j(_.$$.fragment,X),E=O(X),j(F.$$.fragment,X),T=O(X),j(q.$$.fragment,X),M=O(X),j(Q.$$.fragment,X),X.forEach(v),P.forEach(v),this.h()},h(){f(n,"class","grid"),f(e,"action","#")},m(A,P){ae(A,e,P),u(e,n),G(o,n,null),u(n,l),G(a,n,null),u(n,r),ie&&ie.m(n,null),u(n,g),G(d,n,null),u(n,C),G(p,n,null),u(n,h),G(_,n,null),u(n,E),G(F,n,null),u(n,T),G(q,n,null),u(n,M),G(Q,n,null),N=!0},p(A,P){const X={};!i&&P&2&&(i=!0,X.value=A[1].hasDoorBox,ne(()=>i=!1)),o.$set(X);const we={};!s&&P&2&&(s=!0,we.value=A[1].hasEndFaceOrFrameCanvas,ne(()=>s=!1)),a.$set(we),A[1].hasEndFaceOrFrameCanvas?ie?(ie.p(A,P),P&2&&D(ie,1)):(ie=zn(A),ie.c(),D(ie,1),ie.m(n,g)):ie&&(ot(),R(ie,1,1,()=>{ie=null}),it());const ze={};!c&&P&2&&(c=!0,ze.value=A[1].hasHinges,ne(()=>c=!1)),d.$set(ze);const ke={};!b&&P&2&&(b=!0,ke.value=A[1].hasLockAndResponse,ne(()=>b=!1)),p.$set(ke);const re={};!w&&P&2&&(w=!0,re.value=A[1].hasSealer,ne(()=>w=!1)),_.$set(re);const pe={};!S&&P&2&&(S=!0,pe.value=A[1].hasCorners,ne(()=>S=!1)),F.$set(pe);const Te={};!m&&P&2&&(m=!0,Te.value=A[1].hasMountingPlates,ne(()=>m=!1)),q.$set(Te);const Oe={};!k&&P&2&&(k=!0,Oe.value=A[1].hasPlasterMesh,ne(()=>k=!1)),Q.$set(Oe)},i(A){N||(D(o.$$.fragment,A),D(a.$$.fragment,A),D(ie),D(d.$$.fragment,A),D(p.$$.fragment,A),D(_.$$.fragment,A),D(F.$$.fragment,A),D(q.$$.fragment,A),D(Q.$$.fragment,A),N=!0)},o(A){R(o.$$.fragment,A),R(a.$$.fragment,A),R(ie),R(d.$$.fragment,A),R(p.$$.fragment,A),R(_.$$.fragment,A),R(F.$$.fragment,A),R(q.$$.fragment,A),R(Q.$$.fragment,A),N=!1},d(A){A&&v(e),Z(o),Z(a),ie&&ie.d(),Z(d),Z(p),Z(_),Z(F),Z(q),Z(Q)}}}function zn(t){let e,n,o=t[0],i=[];for(let a=0;a<o.length;a+=1)i[a]=On(In(t,o,a));const l=a=>R(i[a],1,1,()=>{i[a]=null});return{c(){e=B("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=I(a,"DIV",{class:!0});var s=y(e);for(let r=0;r<i.length;r+=1)i[r].l(s);s.forEach(v),this.h()},h(){f(e,"class","ml-6 grid")},m(a,s){ae(a,e,s);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null);n=!0},p(a,s){if(s&3){o=a[0];let r;for(r=0;r<o.length;r+=1){const g=In(a,o,r);i[r]?(i[r].p(g,s),D(i[r],1)):(i[r]=On(g),i[r].c(),D(i[r],1),i[r].m(e,null))}for(ot(),r=o.length;r<i.length;r+=1)l(r);it()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)D(i[s]);n=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)R(i[s]);n=!1},d(a){a&&v(e),en(i,a)}}}function On(t){let e,n,o,i;function l(r){t[4](r)}function a(r){t[5](r,t[12],t[13],t[14])}let s={id:"constructionType"+t[12].id,label:t[12].name,type:"radio",required:!0};return t[1].canvasConstructionType!==void 0&&(s.group=t[1].canvasConstructionType),t[12]!==void 0&&(s.value=t[12]),e=new ye({props:s}),ee.push(()=>te(e,"group",l)),ee.push(()=>te(e,"value",a)),{c(){U(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,g){G(e,r,g),i=!0},p(r,g){t=r;const d={};g&1&&(d.id="constructionType"+t[12].id),g&1&&(d.label=t[12].name),!n&&g&2&&(n=!0,d.group=t[1].canvasConstructionType,ne(()=>n=!1)),!o&&g&1&&(o=!0,d.value=t[12],ne(()=>o=!1)),e.$set(d)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){R(e.$$.fragment,r),i=!1},d(r){Z(e,r)}}}function No(t){let e,n,o,i,l,a,s=t[1]&&Dn(t);return{c(){e=B("section"),n=B("div"),o=B("h2"),i=K("Комплектация"),l=z(),s&&s.c(),this.h()},l(r){e=I(r,"SECTION",{class:!0});var g=y(e);n=I(g,"DIV",{class:!0});var d=y(n);o=I(d,"H2",{class:!0});var c=y(o);i=Y(c,"Комплектация"),c.forEach(v),l=O(d),s&&s.l(d),d.forEach(v),g.forEach(v),this.h()},h(){f(o,"class","mb-4 text-[28px] font-bold text-gray-900 dark:text-white"),f(n,"class","p-4 mx-auto max-w-6xl"),f(e,"class","dark:bg-gray-900")},m(r,g){ae(r,e,g),u(e,n),u(n,o),u(o,i),u(n,l),s&&s.m(n,null),a=!0},p(r,[g]){r[1]?s?(s.p(r,g),g&2&&D(s,1)):(s=Dn(r),s.c(),D(s,1),s.m(n,null)):s&&(ot(),R(s,1,1,()=>{s=null}),it())},i(r){a||(D(s),a=!0)},o(r){R(s),a=!1},d(r){r&&v(e),s&&s.d()}}}function Wo(t,e,n){let{canvasConstructionTypes:o}=e,{equipments:i}=e;function l(h){t.$$.not_equal(i.hasDoorBox,h)&&(i.hasDoorBox=h,n(1,i))}function a(h){t.$$.not_equal(i.hasEndFaceOrFrameCanvas,h)&&(i.hasEndFaceOrFrameCanvas=h,n(1,i))}function s(h){t.$$.not_equal(i.canvasConstructionType,h)&&(i.canvasConstructionType=h,n(1,i))}function r(h,_,w,E){w[E]=h,n(0,o)}function g(h){t.$$.not_equal(i.hasHinges,h)&&(i.hasHinges=h,n(1,i))}function d(h){t.$$.not_equal(i.hasLockAndResponse,h)&&(i.hasLockAndResponse=h,n(1,i))}function c(h){t.$$.not_equal(i.hasSealer,h)&&(i.hasSealer=h,n(1,i))}function C(h){t.$$.not_equal(i.hasCorners,h)&&(i.hasCorners=h,n(1,i))}function p(h){t.$$.not_equal(i.hasMountingPlates,h)&&(i.hasMountingPlates=h,n(1,i))}function b(h){t.$$.not_equal(i.hasPlasterMesh,h)&&(i.hasPlasterMesh=h,n(1,i))}return t.$$set=h=>{"canvasConstructionTypes"in h&&n(0,o=h.canvasConstructionTypes),"equipments"in h&&n(1,i=h.equipments)},[o,i,l,a,s,r,g,d,c,C,p,b]}class Lo extends Ae{constructor(e){super(),Pe(this,e,Wo,No,Ne,{canvasConstructionTypes:0,equipments:1})}}function Hn(t){let e,n,o,i,l,a,s,r,g,d,c,C,p,b,h,_,w,E,F,S,T,q,m,M,Q,k,N,V,x,le,ge,ie,$,J,ce,ve,_e,he,ue,qe,De,me,de,Xe,A,P,X,we,ze,ke,re,pe,Te,Oe,Be,He,Ze,Ue,je,Ft,Ke,Ye,vt,Je;function yt(H){t[2](H)}let Tt={id:"processing.stockSawing",label:"Припуск, мм",classes:Lt,inputClasses:Mt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].stockSawing!==void 0&&(Tt.value=t[0].stockSawing),r=new ye({props:Tt}),ee.push(()=>te(r,"value",yt));function mt(H){t[3](H)}let Bt={id:"processing.boxIndent.top",label:"Сверху",disabled:!t[1].hasDoorBox,classes:Lt,inputClasses:Mt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].boxIndent.top!==void 0&&(Bt.value=t[0].boxIndent.top),S=new ye({props:Bt}),ee.push(()=>te(S,"value",mt));function xe(H){t[4](H)}let ft={id:"processing.boxIndent.right",label:"Справа",disabled:!t[1].hasDoorBox,classes:Lt,inputClasses:Mt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].boxIndent.right!==void 0&&(ft.value=t[0].boxIndent.right),m=new ye({props:ft}),ee.push(()=>te(m,"value",xe));function It(H){t[5](H)}let Et={id:"processing.boxIndent.bottom",label:"Снизу",disabled:!t[1].hasDoorBox,classes:Lt,inputClasses:Mt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].boxIndent.bottom!==void 0&&(Et.value=t[0].boxIndent.bottom),N=new ye({props:Et}),ee.push(()=>te(N,"value",It));function Dt(H){t[6](H)}let $t={id:"processing.boxIndent.left",label:"Слева",disabled:!t[1].hasDoorBox,classes:Lt,inputClasses:Mt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].boxIndent.left!==void 0&&($t.value=t[0].boxIndent.left),le=new ye({props:$t}),ee.push(()=>te(le,"value",Dt));function ct(H){t[7](H)}let Ce={id:"isBoxMillingForHinges",label:"Фрезеровка коробки под петли и ответку замка",type:"checkbox",disabled:!t[1].hasDoorBox,placeholder:"Фрезеровка коробки под петли и ответку замка",required:!0};t[0].isBoxMillingForHinges!==void 0&&(Ce.value=t[0].isBoxMillingForHinges),_e=new ye({props:Ce}),ee.push(()=>te(_e,"value",ct));function At(H){t[8](H)}let Fe={id:"isMillingForNonStandard",label:"Фрезеровка под нестандартную фурнитуру",type:"checkbox",disabled:!t[1].hasDoorBox,placeholder:"Фрезеровка под нестандартную фурнитуру",required:!0};t[0].isMillingForNonStandard!==void 0&&(Fe.value=t[0].isMillingForNonStandard),qe=new ye({props:Fe}),ee.push(()=>te(qe,"value",At));function Ve(H){t[9](H)}let be={id:"isForDoorsWithoutTopCrossbar",label:"Для дверей без верхней поперечины, мм сверху",type:"checkbox",disabled:!0,placeholder:"Для дверей без верхней поперечины, мм сверху",required:!0};t[0].isForDoorsWithoutTopCrossbar!==void 0&&(be.value=t[0].isForDoorsWithoutTopCrossbar),de=new ye({props:be}),ee.push(()=>te(de,"value",Ve));let Ee=t[0].isForDoorsWithoutTopCrossbar&&Vn(t);function W(H){t[11](H)}let L={id:"isEndFaceCuttingForCanvas",label:"Пилим торец в размер полотна",type:"checkbox",disabled:!t[1].hasEndFaceOrFrameCanvas,placeholder:"Пилим торец в размер полотна",required:!0};t[0].isEndFaceCuttingForCanvas!==void 0&&(L.value=t[0].isEndFaceCuttingForCanvas),pe=new ye({props:L}),ee.push(()=>te(pe,"value",W));let fe=t[0].isEndFaceCuttingForCanvas&&Rn(t);function pt(H){t[17](H)}let rt={id:"isEndFaceMillingForHinges",label:"Фрезеровка торца/каркаса под петли и замок",type:"checkbox",disabled:!t[1].hasEndFaceOrFrameCanvas,placeholder:"Фрезеровка торца/каркаса под петли и замок",required:!0};t[0].isEndFaceMillingForHinges!==void 0&&(rt.value=t[0].isEndFaceMillingForHinges),He=new ye({props:rt}),ee.push(()=>te(He,"value",pt));function dt(H){t[18](H)}let st={id:"isAtBottomCanvasStraightEndFace",label:"На низ реверсивных полотен прямой торец",type:"checkbox",disabled:!t[1].hasEndFaceOrFrameCanvas,placeholder:"На низ реверсивных полотен прямой торец",required:!0};t[0].isAtBottomCanvasStraightEndFace!==void 0&&(st.value=t[0].isAtBottomCanvasStraightEndFace),je=new ye({props:st}),ee.push(()=>te(je,"value",dt));function Ie(H){t[19](H)}let ht={id:"isAtTopCanvasStraightEndFace",label:"На верх полотен без поперечины прямой торец",type:"checkbox",disabled:!t[1].hasEndFaceOrFrameCanvas,placeholder:"На верх полотен без поперечины прямой торец",required:!0};return t[0].isAtTopCanvasStraightEndFace!==void 0&&(ht.value=t[0].isAtTopCanvasStraightEndFace),Ye=new ye({props:ht}),ee.push(()=>te(Ye,"value",Ie)),{c(){e=B("form"),n=B("div"),o=B("div"),i=B("h3"),l=K("Параметры пилы"),a=z(),s=B("div"),U(r.$$.fragment),d=z(),c=B("div"),C=B("h3"),p=K("Коробка"),b=z(),h=B("div"),_=B("h4"),w=K("Отступы между коробкой и полотном, мм"),E=z(),F=B("div"),U(S.$$.fragment),q=z(),U(m.$$.fragment),Q=z(),k=B("div"),U(N.$$.fragment),x=z(),U(le.$$.fragment),ie=z(),$=B("div"),J=B("h4"),ce=K("Фрезеровка"),ve=z(),U(_e.$$.fragment),ue=z(),U(qe.$$.fragment),me=z(),U(de.$$.fragment),A=z(),Ee&&Ee.c(),P=z(),X=B("div"),we=B("h3"),ze=K("Торец"),ke=z(),re=B("div"),U(pe.$$.fragment),Oe=z(),fe&&fe.c(),Be=z(),U(He.$$.fragment),Ue=z(),U(je.$$.fragment),Ke=z(),U(Ye.$$.fragment),this.h()},l(H){e=I(H,"FORM",{action:!0});var se=y(e);n=I(se,"DIV",{class:!0});var Re=y(n);o=I(Re,"DIV",{class:!0});var We=y(o);i=I(We,"H3",{class:!0});var et=y(i);l=Y(et,"Параметры пилы"),et.forEach(v),a=O(We),s=I(We,"DIV",{class:!0});var gt=y(s);j(r.$$.fragment,gt),gt.forEach(v),We.forEach(v),d=O(Re),c=I(Re,"DIV",{class:!0});var Se=y(c);C=I(Se,"H3",{class:!0});var at=y(C);p=Y(at,"Коробка"),at.forEach(v),b=O(Se),h=I(Se,"DIV",{class:!0});var Ge=y(h);_=I(Ge,"H4",{class:!0});var zt=y(_);w=Y(zt,"Отступы между коробкой и полотном, мм"),zt.forEach(v),E=O(Ge),F=I(Ge,"DIV",{class:!0});var _t=y(F);j(S.$$.fragment,_t),q=O(_t),j(m.$$.fragment,_t),_t.forEach(v),Q=O(Ge),k=I(Ge,"DIV",{class:!0});var bt=y(k);j(N.$$.fragment,bt),x=O(bt),j(le.$$.fragment,bt),bt.forEach(v),Ge.forEach(v),ie=O(Se),$=I(Se,"DIV",{class:!0});var Le=y($);J=I(Le,"H4",{class:!0});var St=y(J);ce=Y(St,"Фрезеровка"),St.forEach(v),ve=O(Le),j(_e.$$.fragment,Le),ue=O(Le),j(qe.$$.fragment,Le),me=O(Le),j(de.$$.fragment,Le),A=O(Le),Ee&&Ee.l(Le),Le.forEach(v),Se.forEach(v),P=O(Re),X=I(Re,"DIV",{class:!0});var lt=y(X);we=I(lt,"H3",{class:!0});var Pt=y(we);ze=Y(Pt,"Торец"),Pt.forEach(v),ke=O(lt),re=I(lt,"DIV",{class:!0});var Ot=y(re);j(pe.$$.fragment,Ot),Oe=O(Ot),fe&&fe.l(Ot),Ot.forEach(v),Be=O(lt),j(He.$$.fragment,lt),Ue=O(lt),j(je.$$.fragment,lt),Ke=O(lt),j(Ye.$$.fragment,lt),lt.forEach(v),Re.forEach(v),se.forEach(v),this.h()},h(){f(i,"class","text-[20px] font-bold text-gray-900 dark:text-white"),f(s,"class","ml-6 grid gap-2"),f(o,"class","ml-6 grid gap-2"),f(C,"class","text-[20px] font-bold text-gray-900 dark:text-white"),f(_,"class","my-2 text-[16px] font-bold text-gray-900 dark:text-white"),f(F,"class","ml-6 grid grid-cols-2 gap-2"),f(k,"class","ml-6 grid grid-cols-2 gap-2"),f(h,"class","ml-6 grid gap-2"),f(J,"class","my-2 text-[16px] font-bold text-gray-900 dark:text-white"),f($,"class","ml-6 grid gap-2"),f(c,"class","ml-6 mt-2 grid gap-2"),f(we,"class","mb-4 text-[20px] font-bold text-gray-900 dark:text-white"),f(re,"class","grid gap-2"),f(X,"class","ml-6 grid gap-2"),f(n,"class","grid gap-2"),f(e,"action","#")},m(H,se){ae(H,e,se),u(e,n),u(n,o),u(o,i),u(i,l),u(o,a),u(o,s),G(r,s,null),u(n,d),u(n,c),u(c,C),u(C,p),u(c,b),u(c,h),u(h,_),u(_,w),u(h,E),u(h,F),G(S,F,null),u(F,q),G(m,F,null),u(h,Q),u(h,k),G(N,k,null),u(k,x),G(le,k,null),u(c,ie),u(c,$),u($,J),u(J,ce),u($,ve),G(_e,$,null),u($,ue),G(qe,$,null),u($,me),G(de,$,null),u($,A),Ee&&Ee.m($,null),u(n,P),u(n,X),u(X,we),u(we,ze),u(X,ke),u(X,re),G(pe,re,null),u(re,Oe),fe&&fe.m(re,null),u(X,Be),G(He,X,null),u(X,Ue),G(je,X,null),u(X,Ke),G(Ye,X,null),Je=!0},p(H,se){const Re={};!g&&se&1&&(g=!0,Re.value=H[0].stockSawing,ne(()=>g=!1)),r.$set(Re);const We={};se&2&&(We.disabled=!H[1].hasDoorBox),!T&&se&1&&(T=!0,We.value=H[0].boxIndent.top,ne(()=>T=!1)),S.$set(We);const et={};se&2&&(et.disabled=!H[1].hasDoorBox),!M&&se&1&&(M=!0,et.value=H[0].boxIndent.right,ne(()=>M=!1)),m.$set(et);const gt={};se&2&&(gt.disabled=!H[1].hasDoorBox),!V&&se&1&&(V=!0,gt.value=H[0].boxIndent.bottom,ne(()=>V=!1)),N.$set(gt);const Se={};se&2&&(Se.disabled=!H[1].hasDoorBox),!ge&&se&1&&(ge=!0,Se.value=H[0].boxIndent.left,ne(()=>ge=!1)),le.$set(Se);const at={};se&2&&(at.disabled=!H[1].hasDoorBox),!he&&se&1&&(he=!0,at.value=H[0].isBoxMillingForHinges,ne(()=>he=!1)),_e.$set(at);const Ge={};se&2&&(Ge.disabled=!H[1].hasDoorBox),!De&&se&1&&(De=!0,Ge.value=H[0].isMillingForNonStandard,ne(()=>De=!1)),qe.$set(Ge);const zt={};!Xe&&se&1&&(Xe=!0,zt.value=H[0].isForDoorsWithoutTopCrossbar,ne(()=>Xe=!1)),de.$set(zt),H[0].isForDoorsWithoutTopCrossbar?Ee?(Ee.p(H,se),se&1&&D(Ee,1)):(Ee=Vn(H),Ee.c(),D(Ee,1),Ee.m($,null)):Ee&&(ot(),R(Ee,1,1,()=>{Ee=null}),it());const _t={};se&2&&(_t.disabled=!H[1].hasEndFaceOrFrameCanvas),!Te&&se&1&&(Te=!0,_t.value=H[0].isEndFaceCuttingForCanvas,ne(()=>Te=!1)),pe.$set(_t),H[0].isEndFaceCuttingForCanvas?fe?(fe.p(H,se),se&1&&D(fe,1)):(fe=Rn(H),fe.c(),D(fe,1),fe.m(re,null)):fe&&(ot(),R(fe,1,1,()=>{fe=null}),it());const bt={};se&2&&(bt.disabled=!H[1].hasEndFaceOrFrameCanvas),!Ze&&se&1&&(Ze=!0,bt.value=H[0].isEndFaceMillingForHinges,ne(()=>Ze=!1)),He.$set(bt);const Le={};se&2&&(Le.disabled=!H[1].hasEndFaceOrFrameCanvas),!Ft&&se&1&&(Ft=!0,Le.value=H[0].isAtBottomCanvasStraightEndFace,ne(()=>Ft=!1)),je.$set(Le);const St={};se&2&&(St.disabled=!H[1].hasEndFaceOrFrameCanvas),!vt&&se&1&&(vt=!0,St.value=H[0].isAtTopCanvasStraightEndFace,ne(()=>vt=!1)),Ye.$set(St)},i(H){Je||(D(r.$$.fragment,H),D(S.$$.fragment,H),D(m.$$.fragment,H),D(N.$$.fragment,H),D(le.$$.fragment,H),D(_e.$$.fragment,H),D(qe.$$.fragment,H),D(de.$$.fragment,H),D(Ee),D(pe.$$.fragment,H),D(fe),D(He.$$.fragment,H),D(je.$$.fragment,H),D(Ye.$$.fragment,H),Je=!0)},o(H){R(r.$$.fragment,H),R(S.$$.fragment,H),R(m.$$.fragment,H),R(N.$$.fragment,H),R(le.$$.fragment,H),R(_e.$$.fragment,H),R(qe.$$.fragment,H),R(de.$$.fragment,H),R(Ee),R(pe.$$.fragment,H),R(fe),R(He.$$.fragment,H),R(je.$$.fragment,H),R(Ye.$$.fragment,H),Je=!1},d(H){H&&v(e),Z(r),Z(S),Z(m),Z(N),Z(le),Z(_e),Z(qe),Z(de),Ee&&Ee.d(),Z(pe),fe&&fe.d(),Z(He),Z(je),Z(Ye)}}}function Vn(t){let e,n,o;function i(a){t[10](a)}let l={placeholder:"Для дверей без верхней поперечины",numSettings:{min:0,max:100},required:!0};return t[0].marginForDoorsWithoutTopCrossbar!==void 0&&(l.value=t[0].marginForDoorsWithoutTopCrossbar),e=new Nt({props:l}),ee.push(()=>te(e,"value",i)),{c(){U(e.$$.fragment)},l(a){j(e.$$.fragment,a)},m(a,s){G(e,a,s),o=!0},p(a,s){const r={};!n&&s&1&&(n=!0,r.value=a[0].marginForDoorsWithoutTopCrossbar,ne(()=>n=!1)),e.$set(r)},i(a){o||(D(e.$$.fragment,a),o=!0)},o(a){R(e.$$.fragment,a),o=!1},d(a){Z(e,a)}}}function Rn(t){let e,n,o,i,l,a,s,r,g,d,c,C;function p(T){t[12](T)}let b={id:"isEndFaceWithMargin",label:"С запасом, мм",type:"radio",placeholder:"С запасом, мм",value:!0,required:!0};t[0].isEndFaceWithMargin!==void 0&&(b.group=t[0].isEndFaceWithMargin),n=new ye({props:b}),ee.push(()=>te(n,"group",p));let h=t[0].isEndFaceWithMargin&&$n(t);function _(T){t[14](T)}let w={id:"isEndFaceWithOutMargin",label:"С запилом под 45 (без запаса)",type:"radio",placeholder:"С запилом под 45 (без запаса)",value:!1,required:!0};t[0].isEndFaceWithMargin!==void 0&&(w.group=t[0].isEndFaceWithMargin),a=new ye({props:w}),ee.push(()=>te(a,"group",_));function E(T){t[15](T)}let F={id:"isEndFaceContactsSpotCuttingForCanvas",label:"Отрезаем контактные пятна, мм",type:"checkbox",placeholder:"Отрезаем контактные пятна, мм",required:!0};t[0].isEndFaceContactsSpotCuttingForCanvas!==void 0&&(F.value=t[0].isEndFaceContactsSpotCuttingForCanvas),g=new ye({props:F}),ee.push(()=>te(g,"value",E));let S=t[0].isEndFaceContactsSpotCuttingForCanvas&&Mn(t);return{c(){e=B("div"),U(n.$$.fragment),i=z(),h&&h.c(),l=z(),U(a.$$.fragment),r=z(),U(g.$$.fragment),c=z(),S&&S.c(),this.h()},l(T){e=I(T,"DIV",{class:!0});var q=y(e);j(n.$$.fragment,q),i=O(q),h&&h.l(q),l=O(q),j(a.$$.fragment,q),r=O(q),j(g.$$.fragment,q),c=O(q),S&&S.l(q),q.forEach(v),this.h()},h(){f(e,"class","ml-6 grid gap-2")},m(T,q){ae(T,e,q),G(n,e,null),u(e,i),h&&h.m(e,null),u(e,l),G(a,e,null),u(e,r),G(g,e,null),u(e,c),S&&S.m(e,null),C=!0},p(T,q){const m={};!o&&q&1&&(o=!0,m.group=T[0].isEndFaceWithMargin,ne(()=>o=!1)),n.$set(m),T[0].isEndFaceWithMargin?h?(h.p(T,q),q&1&&D(h,1)):(h=$n(T),h.c(),D(h,1),h.m(e,l)):h&&(ot(),R(h,1,1,()=>{h=null}),it());const M={};!s&&q&1&&(s=!0,M.group=T[0].isEndFaceWithMargin,ne(()=>s=!1)),a.$set(M);const Q={};!d&&q&1&&(d=!0,Q.value=T[0].isEndFaceContactsSpotCuttingForCanvas,ne(()=>d=!1)),g.$set(Q),T[0].isEndFaceContactsSpotCuttingForCanvas?S?(S.p(T,q),q&1&&D(S,1)):(S=Mn(T),S.c(),D(S,1),S.m(e,null)):S&&(ot(),R(S,1,1,()=>{S=null}),it())},i(T){C||(D(n.$$.fragment,T),D(h),D(a.$$.fragment,T),D(g.$$.fragment,T),D(S),C=!0)},o(T){R(n.$$.fragment,T),R(h),R(a.$$.fragment,T),R(g.$$.fragment,T),R(S),C=!1},d(T){T&&v(e),Z(n),h&&h.d(),Z(a),Z(g),S&&S.d()}}}function $n(t){let e,n,o;function i(a){t[13](a)}let l={id:"marginEndFace",classes:"ml-6 flex  flex-col justify-around ",inputClasses:Mt,placeholder:"С запасом, мм",numSettings:{min:0,max:100},type:"number",required:!0};return t[0].marginEndFace!==void 0&&(l.value=t[0].marginEndFace),e=new Nt({props:l}),ee.push(()=>te(e,"value",i)),{c(){U(e.$$.fragment)},l(a){j(e.$$.fragment,a)},m(a,s){G(e,a,s),o=!0},p(a,s){const r={};!n&&s&1&&(n=!0,r.value=a[0].marginEndFace,ne(()=>n=!1)),e.$set(r)},i(a){o||(D(e.$$.fragment,a),o=!0)},o(a){R(e.$$.fragment,a),o=!1},d(a){Z(e,a)}}}function Mn(t){let e,n,o;function i(a){t[16](a)}let l={id:"sizeContactsSpot",disabled:!t[0].isEndFaceContactsSpotCuttingForCanvas,classes:"ml-6 flex  flex-col justify-around ",inputClasses:Mt,type:"number",placeholder:"Отрезаем контактные пятна, мм",numSettings:{min:0,max:100},required:!0};return t[0].sizeContactsSpot!==void 0&&(l.value=t[0].sizeContactsSpot),e=new Nt({props:l}),ee.push(()=>te(e,"value",i)),{c(){U(e.$$.fragment)},l(a){j(e.$$.fragment,a)},m(a,s){G(e,a,s),o=!0},p(a,s){const r={};s&1&&(r.disabled=!a[0].isEndFaceContactsSpotCuttingForCanvas),!n&&s&1&&(n=!0,r.value=a[0].sizeContactsSpot,ne(()=>n=!1)),e.$set(r)},i(a){o||(D(e.$$.fragment,a),o=!0)},o(a){R(e.$$.fragment,a),o=!1},d(a){Z(e,a)}}}function Xo(t){let e,n,o,i,l,a,s=t[0]&&Hn(t);return{c(){e=B("section"),n=B("div"),o=B("h2"),i=K("Обработка"),l=z(),s&&s.c(),this.h()},l(r){e=I(r,"SECTION",{class:!0});var g=y(e);n=I(g,"DIV",{class:!0});var d=y(n);o=I(d,"H2",{class:!0});var c=y(o);i=Y(c,"Обработка"),c.forEach(v),l=O(d),s&&s.l(d),d.forEach(v),g.forEach(v),this.h()},h(){f(o,"class","mb-4 text-[28px] font-bold text-gray-900 dark:text-white"),f(n,"class","p-4 mx-auto max-w-6xl"),f(e,"class","dark:bg-gray-900")},m(r,g){ae(r,e,g),u(e,n),u(n,o),u(o,i),u(n,l),s&&s.m(n,null),a=!0},p(r,[g]){r[0]?s?(s.p(r,g),g&1&&D(s,1)):(s=Hn(r),s.c(),D(s,1),s.m(n,null)):s&&(ot(),R(s,1,1,()=>{s=null}),it())},i(r){a||(D(s),a=!0)},o(r){R(s),a=!1},d(r){r&&v(e),s&&s.d()}}}const Lt="max-w-[150px] flex flex-col justify-around ",Mt="max-w-[100px]";function Uo(t,e,n){let{processing:o=new Xn}=e,{equipments:i=new Equipments}=e;function l(m){t.$$.not_equal(o.stockSawing,m)&&(o.stockSawing=m,n(0,o))}function a(m){t.$$.not_equal(o.boxIndent.top,m)&&(o.boxIndent.top=m,n(0,o))}function s(m){t.$$.not_equal(o.boxIndent.right,m)&&(o.boxIndent.right=m,n(0,o))}function r(m){t.$$.not_equal(o.boxIndent.bottom,m)&&(o.boxIndent.bottom=m,n(0,o))}function g(m){t.$$.not_equal(o.boxIndent.left,m)&&(o.boxIndent.left=m,n(0,o))}function d(m){t.$$.not_equal(o.isBoxMillingForHinges,m)&&(o.isBoxMillingForHinges=m,n(0,o))}function c(m){t.$$.not_equal(o.isMillingForNonStandard,m)&&(o.isMillingForNonStandard=m,n(0,o))}function C(m){t.$$.not_equal(o.isForDoorsWithoutTopCrossbar,m)&&(o.isForDoorsWithoutTopCrossbar=m,n(0,o))}function p(m){t.$$.not_equal(o.marginForDoorsWithoutTopCrossbar,m)&&(o.marginForDoorsWithoutTopCrossbar=m,n(0,o))}function b(m){t.$$.not_equal(o.isEndFaceCuttingForCanvas,m)&&(o.isEndFaceCuttingForCanvas=m,n(0,o))}function h(m){t.$$.not_equal(o.isEndFaceWithMargin,m)&&(o.isEndFaceWithMargin=m,n(0,o))}function _(m){t.$$.not_equal(o.marginEndFace,m)&&(o.marginEndFace=m,n(0,o))}function w(m){t.$$.not_equal(o.isEndFaceWithMargin,m)&&(o.isEndFaceWithMargin=m,n(0,o))}function E(m){t.$$.not_equal(o.isEndFaceContactsSpotCuttingForCanvas,m)&&(o.isEndFaceContactsSpotCuttingForCanvas=m,n(0,o))}function F(m){t.$$.not_equal(o.sizeContactsSpot,m)&&(o.sizeContactsSpot=m,n(0,o))}function S(m){t.$$.not_equal(o.isEndFaceMillingForHinges,m)&&(o.isEndFaceMillingForHinges=m,n(0,o))}function T(m){t.$$.not_equal(o.isAtBottomCanvasStraightEndFace,m)&&(o.isAtBottomCanvasStraightEndFace=m,n(0,o))}function q(m){t.$$.not_equal(o.isAtTopCanvasStraightEndFace,m)&&(o.isAtTopCanvasStraightEndFace=m,n(0,o))}return t.$$set=m=>{"processing"in m&&n(0,o=m.processing),"equipments"in m&&n(1,i=m.equipments)},[o,i,l,a,s,r,g,d,c,C,p,b,h,_,w,E,F,S,T,q]}class jo extends Ae{constructor(e){super(),Pe(this,e,Uo,Xo,Ne,{processing:0,equipments:1})}}function Go(t){let e,n,o,i;return e=new Un({props:{forName:t[0],text:t[7]}}),o=new Ht({props:{id:t[0],value:t[2],placeholder:t[1],options:t[3],required:t[4],onChange:t[5],optionSettings:t[6]}}),{c(){U(e.$$.fragment),n=z(),U(o.$$.fragment)},l(l){j(e.$$.fragment,l),n=O(l),j(o.$$.fragment,l)},m(l,a){G(e,l,a),ae(l,n,a),G(o,l,a),i=!0},p(l,[a]){const s={};a&1&&(s.forName=l[0]),a&128&&(s.text=l[7]),e.$set(s);const r={};a&1&&(r.id=l[0]),a&4&&(r.value=l[2]),a&2&&(r.placeholder=l[1]),a&8&&(r.options=l[3]),a&16&&(r.required=l[4]),a&32&&(r.onChange=l[5]),a&64&&(r.optionSettings=l[6]),o.$set(r)},i(l){i||(D(e.$$.fragment,l),D(o.$$.fragment,l),i=!0)},o(l){R(e.$$.fragment,l),R(o.$$.fragment,l),i=!1},d(l){Z(e,l),l&&v(n),Z(o,l)}}}function Zo(t,e,n){let{id:o=""}=e,{placeholder:i=""}=e,{value:l}=e,{options:a=[]}=e,{required:s=!1}=e,{onChange:r=void 0}=e,{optionSettings:g}=e,{label:d=""}=e;return t.$$set=c=>{"id"in c&&n(0,o=c.id),"placeholder"in c&&n(1,i=c.placeholder),"value"in c&&n(2,l=c.value),"options"in c&&n(3,a=c.options),"required"in c&&n(4,s=c.required),"onChange"in c&&n(5,r=c.onChange),"optionSettings"in c&&n(6,g=c.optionSettings),"label"in c&&n(7,d=c.label)},[o,i,l,a,s,r,g,d]}class nn extends Ae{constructor(e){super(),Pe(this,e,Zo,Go,Ne,{id:0,placeholder:1,value:2,options:3,required:4,onChange:5,optionSettings:6,label:7})}}function Ko(t){let e,n,o,i,l;return{c(){e=B("textarea"),this.h()},l(a){e=I(a,"TEXTAREA",{id:!0,name:!0,placeholder:!0,title:!0,class:!0}),y(e).forEach(v),this.h()},h(){f(e,"id",t[1]),f(e,"name",t[1]),e.disabled=t[4],e.required=t[5],f(e,"placeholder",t[2]),f(e,"title",n=t[3].length?t[3]:t[2]),f(e,"class",t[6]),e.value=o=t[0]??""},m(a,s){ae(a,e,s),i||(l=Ct(e,"change",t[10]),i=!0)},p(a,[s]){s&2&&f(e,"id",a[1]),s&2&&f(e,"name",a[1]),s&16&&(e.disabled=a[4]),s&32&&(e.required=a[5]),s&4&&f(e,"placeholder",a[2]),s&12&&n!==(n=a[3].length?a[3]:a[2])&&f(e,"title",n),s&64&&f(e,"class",a[6]),s&1&&o!==(o=a[0]??"")&&(e.value=o)},i:Me,o:Me,d(a){a&&v(e),i=!1,l()}}}function Yo(t,e,n){let{id:o=""}=e,{placeholder:i=""}=e,{title:l=""}=e,{disabled:a=!1}=e,{required:s=!1}=e,{value:r}=e,{onChange:g=void 0}=e,{classes:d}=e,c=`border border-gray-300 text-gray-900   rounded-lg focus:bg-[white] focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5
                                                         dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500
                                                          ${d}`;a&&(c+=" bg-gray-100");const C=b=>{n(0,r=b)},p=b=>C(b.target.value);return t.$$set=b=>{"id"in b&&n(1,o=b.id),"placeholder"in b&&n(2,i=b.placeholder),"title"in b&&n(3,l=b.title),"disabled"in b&&n(4,a=b.disabled),"required"in b&&n(5,s=b.required),"value"in b&&n(0,r=b.value),"onChange"in b&&n(8,g=b.onChange),"classes"in b&&n(9,d=b.classes)},[r,o,i,l,a,s,c,C,g,d,p]}class Jo extends Ae{constructor(e){super(),Pe(this,e,Yo,Ko,Ne,{id:1,placeholder:2,title:3,disabled:4,required:5,value:0,onChange:8,classes:9})}}function Qo(t){let e,n,o,i,l;e=new Un({props:{forName:t[1],text:t[5]}});function a(r){t[6](r)}let s={id:t[1],placeholder:t[2],required:t[3],onChange:t[4]};return t[0]!==void 0&&(s.value=t[0]),o=new Jo({props:s}),ee.push(()=>te(o,"value",a)),{c(){U(e.$$.fragment),n=z(),U(o.$$.fragment)},l(r){j(e.$$.fragment,r),n=O(r),j(o.$$.fragment,r)},m(r,g){G(e,r,g),ae(r,n,g),G(o,r,g),l=!0},p(r,[g]){const d={};g&2&&(d.forName=r[1]),g&32&&(d.text=r[5]),e.$set(d);const c={};g&2&&(c.id=r[1]),g&4&&(c.placeholder=r[2]),g&8&&(c.required=r[3]),g&16&&(c.onChange=r[4]),!i&&g&1&&(i=!0,c.value=r[0],ne(()=>i=!1)),o.$set(c)},i(r){l||(D(e.$$.fragment,r),D(o.$$.fragment,r),l=!0)},o(r){R(e.$$.fragment,r),R(o.$$.fragment,r),l=!1},d(r){Z(e,r),r&&v(n),Z(o,r)}}}function xo(t,e,n){let{id:o=""}=e,{placeholder:i=""}=e,{required:l=!1}=e,{value:a}=e,{onChange:s=void 0}=e,{label:r=""}=e;function g(d){a=d,n(0,a)}return t.$$set=d=>{"id"in d&&n(1,o=d.id),"placeholder"in d&&n(2,i=d.placeholder),"required"in d&&n(3,l=d.required),"value"in d&&n(0,a=d.value),"onChange"in d&&n(4,s=d.onChange),"label"in d&&n(5,r=d.label)},[a,o,i,l,s,r,g]}class ei extends Ae{constructor(e){super(),Pe(this,e,xo,Qo,Ne,{id:1,placeholder:2,required:3,value:0,onChange:4,label:5})}}function ti(t){let e,n,o,i,l,a,s,r,g,d,c,C,p,b,h,_,w,E,F,S,T,q,m,M,Q,k,N,V,x,le,ge,ie,$;function J(P){t[4](P)}let ce={id:"creatingDate",label:"Дата создания",type:"date",placeholder:"Выберите дату...","})":!0,required:!0};t[0].creatingDate!==void 0&&(ce.value=t[0].creatingDate),g=new ye({props:ce}),ee.push(()=>te(g,"value",J));function ve(P){t[5](P)}let _e={id:"numberSpecification",label:"Номер спецификации",type:"number",placeholder:"Введите номер спецификации...",numSettings:{min:1},required:!0};t[0].numberSpecification!==void 0&&(_e.value=t[0].numberSpecification),h=new ye({props:_e}),ee.push(()=>te(h,"value",ve));function he(P){t[6](P)}let ue={id:"company",label:"Клиент",placeholder:"Выберите клиента...",options:t[3],optionSettings:{imgField:"avatar"},required:!0};t[0].company!==void 0&&(ue.value=t[0].company),F=new nn({props:ue}),ee.push(()=>te(F,"value",he));function qe(P){t[7](P)}let De={id:"manager",label:"Менеджер",placeholder:"Выберите менеджера...",options:t[1],optionSettings:{imgField:"avatar"},required:!0};t[0].manager!==void 0&&(De.value=t[0].manager),m=new nn({props:De}),ee.push(()=>te(m,"value",qe));function me(P){t[8](P)}let de={id:"worker",label:"Ответственный на производстве",placeholder:"Выберите сотрудника...",options:t[2],optionSettings:{imgField:"avatar"},required:!0};t[0].worker!==void 0&&(de.value=t[0].worker),N=new nn({props:de}),ee.push(()=>te(N,"value",me));function Xe(P){t[9](P)}let A={id:"comment",label:"Примечание к заказу",placeholder:"Введите примечание...",required:!0};return t[0].comment!==void 0&&(A.value=t[0].comment),ge=new ei({props:A}),ee.push(()=>te(ge,"value",Xe)),{c(){e=B("section"),n=B("div"),o=B("h1"),i=K("О заказе"),l=z(),a=B("form"),s=B("div"),r=B("div"),U(g.$$.fragment),c=z(),C=B("div"),p=z(),b=B("div"),U(h.$$.fragment),w=z(),E=B("div"),U(F.$$.fragment),T=z(),q=B("div"),U(m.$$.fragment),Q=z(),k=B("div"),U(N.$$.fragment),x=z(),le=B("div"),U(ge.$$.fragment),this.h()},l(P){e=I(P,"SECTION",{class:!0});var X=y(e);n=I(X,"DIV",{class:!0});var we=y(n);o=I(we,"H1",{class:!0});var ze=y(o);i=Y(ze,"О заказе"),ze.forEach(v),l=O(we),a=I(we,"FORM",{action:!0});var ke=y(a);s=I(ke,"DIV",{class:!0});var re=y(s);r=I(re,"DIV",{});var pe=y(r);j(g.$$.fragment,pe),pe.forEach(v),c=O(re),C=I(re,"DIV",{}),y(C).forEach(v),p=O(re),b=I(re,"DIV",{});var Te=y(b);j(h.$$.fragment,Te),Te.forEach(v),w=O(re),E=I(re,"DIV",{});var Oe=y(E);j(F.$$.fragment,Oe),Oe.forEach(v),T=O(re),q=I(re,"DIV",{});var Be=y(q);j(m.$$.fragment,Be),Be.forEach(v),Q=O(re),k=I(re,"DIV",{});var He=y(k);j(N.$$.fragment,He),He.forEach(v),x=O(re),le=I(re,"DIV",{});var Ze=y(le);j(ge.$$.fragment,Ze),Ze.forEach(v),re.forEach(v),ke.forEach(v),we.forEach(v),X.forEach(v),this.h()},h(){f(o,"class","mb-4 text-[38px] font-bold text-gray-900 dark:text-white"),f(s,"class","grid sm:grid-cols-2 gap-x-6 gap-y-4"),f(a,"action","#"),f(n,"class","py-8 px-4 max-w-2xl lg:py-16"),f(e,"class","animate__animated animate__fadeInDown bg-white dark:bg-gray-900")},m(P,X){ae(P,e,X),u(e,n),u(n,o),u(o,i),u(n,l),u(n,a),u(a,s),u(s,r),G(g,r,null),u(s,c),u(s,C),u(s,p),u(s,b),G(h,b,null),u(s,w),u(s,E),G(F,E,null),u(s,T),u(s,q),G(m,q,null),u(s,Q),u(s,k),G(N,k,null),u(s,x),u(s,le),G(ge,le,null),$=!0},p(P,[X]){const we={};!d&&X&1&&(d=!0,we.value=P[0].creatingDate,ne(()=>d=!1)),g.$set(we);const ze={};!_&&X&1&&(_=!0,ze.value=P[0].numberSpecification,ne(()=>_=!1)),h.$set(ze);const ke={};X&8&&(ke.options=P[3]),!S&&X&1&&(S=!0,ke.value=P[0].company,ne(()=>S=!1)),F.$set(ke);const re={};X&2&&(re.options=P[1]),!M&&X&1&&(M=!0,re.value=P[0].manager,ne(()=>M=!1)),m.$set(re);const pe={};X&4&&(pe.options=P[2]),!V&&X&1&&(V=!0,pe.value=P[0].worker,ne(()=>V=!1)),N.$set(pe);const Te={};!ie&&X&1&&(ie=!0,Te.value=P[0].comment,ne(()=>ie=!1)),ge.$set(Te)},i(P){$||(D(g.$$.fragment,P),D(h.$$.fragment,P),D(F.$$.fragment,P),D(m.$$.fragment,P),D(N.$$.fragment,P),D(ge.$$.fragment,P),$=!0)},o(P){R(g.$$.fragment,P),R(h.$$.fragment,P),R(F.$$.fragment,P),R(m.$$.fragment,P),R(N.$$.fragment,P),R(ge.$$.fragment,P),$=!1},d(P){P&&v(e),Z(g),Z(h),Z(F),Z(m),Z(N),Z(ge)}}}function ni(t,e,n){let{managers:o}=e,{workers:i}=e,{companies:l}=e,{metaOrder:a}=e;function s(p){t.$$.not_equal(a.creatingDate,p)&&(a.creatingDate=p,n(0,a))}function r(p){t.$$.not_equal(a.numberSpecification,p)&&(a.numberSpecification=p,n(0,a))}function g(p){t.$$.not_equal(a.company,p)&&(a.company=p,n(0,a))}function d(p){t.$$.not_equal(a.manager,p)&&(a.manager=p,n(0,a))}function c(p){t.$$.not_equal(a.worker,p)&&(a.worker=p,n(0,a))}function C(p){t.$$.not_equal(a.comment,p)&&(a.comment=p,n(0,a))}return t.$$set=p=>{"managers"in p&&n(1,o=p.managers),"workers"in p&&n(2,i=p.workers),"companies"in p&&n(3,l=p.companies),"metaOrder"in p&&n(0,a=p.metaOrder)},[a,o,i,l,s,r,g,d,c,C]}class oi extends Ae{constructor(e){super(),Pe(this,e,ni,ti,Ne,{managers:1,workers:2,companies:3,metaOrder:0})}}async function ii(t){return await fetch("http://localhost:3000/pdfOrder",{method:"POST",mode:"no-cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}function Jt(t,e,n,o=!1){o&&e&&(t=((s,r)=>{if(s.size.angles.rightBottom<90){if(r.size.angles.leftBottom>=90){const g=s.size.angles.rightBottom+r.size.angles.leftBottom;if(r.size.angles.rightBottom>=90){const d=s.size.angles.rightBottom+r.size.angles.rightBottom;(g>=d||d>180)&&g<=180||d<=180&&r.flipHorizontal()}else if(r.size.angles.rightBottom<90){const d=s.size.angles.rightBottom+180-r.size.angles.rightBottom;(g>=d||d>180)&&g<=180||d<=180&&(r.flipHorizontal(),r.flipVertical())}}else if(r.size.angles.leftBottom<90){const g=s.size.angles.rightBottom+180-r.size.angles.leftBottom;if(r.size.angles.rightBottom>=90){const d=s.size.angles.rightBottom+r.size.angles.rightBottom;(g>=d||d>180)&&g<=180?r.flipVertical():d<=180&&r.flipHorizontal()}else if(r.size.angles.rightBottom<90){const d=s.size.angles.rightBottom+180-r.size.angles.rightBottom;(g>=d||d>180)&&g<=180?r.flipVertical():d<=180&&(r.flipHorizontal(),r.flipVertical())}}}else if(s.size.angles.rightBottom>90){if(r.size.angles.leftBottom>=90){const g=s.size.angles.rightBottom+180-r.size.angles.leftBottom;if(r.size.angles.rightBottom>=90){const d=s.size.angles.rightBottom+180-r.size.angles.rightBottom;(g>=d||d>180)&&g<=180?r.flipVertical():d<=180&&(r.flipVertical(),r.flipHorizontal())}else if(r.size.angles.rightBottom<90){const d=s.size.angles.rightBottom+180-r.size.angles.rightBottom;(g>=d||d>180)&&g<=180?r.flipVertical():d<=180&&r.flipHorizontal()}}else if(r.size.angles.leftBottom<90){const g=s.size.angles.rightBottom+r.size.angles.leftBottom;if(r.size.angles.rightBottom>=90){const d=s.size.angles.rightBottom+180-r.size.angles.rightBottom;(g>=d||d>180)&&g<=180||d<=180&&(r.flipVertical(),r.flipHorizontal())}else if(r.size.angles.rightBottom<90){const d=s.size.angles.rightBottom+r.size.angles.rightBottom;(g>=d||d>180)&&g<=180||d<=180&&r.flipHorizontal()}}}return r})(e,t));const a={x:n?n.p2.x:0,y:0};return new Rt({type:"detail",name:t.name,square:t.square,p1:a,size:t.size,colorContourLegend:"gray",colorBody:"#d1ffd8",isShowLeftContour:!1,isShowRightContour:!1,baseSpace:30,halfXBoard:0,halfYBoard:100,wDivider:4.2,hDivider:5})}function Zn(t,e){const n=parseFloat(e.size.d.toFixed(0));return t.size.b===n&&t.size.angles.rightBottom===e.size.angles.leftTop}function Kn(t,e){const n=new qt({id:oe(),name:Wt.STOCK,size:{a:t,b:e.size.b,d:e.size.b,h:e.size.h,angles:e.size.angles}}),o={...e.p2},i={x:o.x+n.size.a,y:o.y},l={...e.p3},a={x:l.x+n.size.c,y:l.y};return{piece:n,drawPiece:new Rt({type:"sawing-remain",name:n.name,square:n.square,p1:o,p2:i,p3:a,p4:l,size:n.size,isShowBodyText:n.square>1,isShowTopContour:n.size.c>1,isShowBottomContour:n.size.c>1,isShowLeftContour:!1,isShowRightContour:!1,colorContourLegend:"gray",colorBody:"lightgray",baseSpace:5,halfXBoard:0,halfYBoard:100,wDivider:4.2,hDivider:5})}}function Yn(t,e,n){let o,i;const l=n.size.d,a=e.size.b;e.p2.x===n.p1.x?(o=t,i=t+n.p4.x-e.p3.x):(o=t+n.p4.x-e.p3.x,i=t);const s=an(o,i,e.size.h),r=new qt({id:oe(),name:Wt.STOCK,size:{a:o,c:i,b:l,d:a,h:e.size.h,angles:{leftTop:180-e.size.angles.rightTop,leftBottom:180-e.size.angles.rightBottom,rightTop:180-n.size.angles.leftTop,rightBottom:180-n.size.angles.leftBottom},maxLength:t}}),g=e?{...e.p2}:{x:0,y:0},d=new Rt({type:"body-remain",name:Wt.REMAINS,square:s,p1:g,size:r.size,isShowBodyText:s>1,isShowTopContour:o>1,isShowBottomContour:i>1,isShowLeftContour:!1,isShowRightContour:!1,colorContourLegend:"gray",colorBody:"lightgray",baseSpace:10});return{piece:r,drawPiece:d}}function Jn(t){const e=t.p1.x,n=t.p4.x,o=an(e,n,t.size.h),i={x:0,y:0},l={...t.p1},a={x:0,y:t.size.h},s={...t.p4},r=new qt({id:oe(),name:Wt.REMAINS,size:{a:e,b:t.size.d,c:n,d:t.size.h,h:t.size.h,angles:t.size.angles}}),g=new Rt({type:"start-remain",name:Wt.REMAINS,square:o,p1:i,p2:l,p3:s,p4:a,size:{a:e,b:t.size.d,c:n,d:t.size.h,h:t.size.h},isShowBodyText:o>1,isShowTopContour:e>1,isShowBottomContour:n>1,isShowLeftContour:!1,isShowRightContour:!1,colorContourLegend:"gray",colorBody:"lightgray",baseSpace:10,halfXBoard:0,halfYBoard:100,wDivider:4.2,hDivider:5});return{piece:r,drawPiece:g}}function Qn(t,e){const n=t-e.p2.x,o=t-e.p3.x,i=an(n,o,e.size.h),l={...e.p2};return new Rt({type:"end-remain",name:Wt.REMAINS,square:i,p1:l,size:{a:n,b:e.size.h,c:o,d:e.size.b,h:e.size.h},isShowBodyText:i>1,isShowTopContour:n>1,isShowBottomContour:o>1,isShowLeftContour:!1,colorContourLegend:"gray",colorBody:"lightgray",baseSpace:5,sideSpace:5,halfXBoard:0,halfYBoard:100,wDivider:4.2,hDivider:5})}function ri(t,e,n){const o=(c,C)=>{for(const p of d)if(p.p2.x<=c&&p.p3.x<=C||p.p2.x<=C&&p.p3.x<=c)return!0;return!1};let i,l;const a=(c,C,p)=>{const b=h=>{p.push(h),l=h.piece,i=h.drawPiece};for(let h=c;h<C.length;h++){const _=new qt(n[h].profile);let w=Jt(_,l,i);if(l&&i){const T=Zn(i,w);if(t&&T){const q=Kn(t,i);b(q)}else if(!T){const q=Yn(t,i,w);b(q)}w=Jt(_,l,i)}else if(w.p1.x>0||w.p4.x>0){const T=Jn(w);b(T),w=Jt(_,l,i)}b({piece:_,drawPiece:w});const E=p[p.length-1].drawPiece,F=e-E.p2.x,S=e-E.p3.x;if(o(F,S))a(h,C,p);else if(F>=0&&S>=0&&l&&i){const T=Qn(e,i);r.push([...p.map(m=>new qt(m.piece))]);const q=new Qt({num:s.length+1,volume:0,combination:[...p.map(m=>new Rt(m.drawPiece)),T]});s.push(q)}p.pop(),p.length>0&&p[p.length-1].drawPiece.type.includes("remain")&&p.pop(),p.length>0?(i=p[p.length-1].drawPiece,l=p[p.length-1].piece):(i=void 0,l=void 0)}},s=[],r=[],g=[],d=n.map(c=>Jt(c.profile));return a(0,d,g),{drawCombinations:s,cuttingCombinations:r}}function An(t,e,n){const i=[];return e.forEach(l=>{if(l.basisIndex<=t&&l.b>0){const a=parseFloat(l.b.toFixed(0)),s=new Qt({num:l.basisIndex+1,volume:a,combination:n[l.basisIndex].combination});i.push(s)}}),i.sort((l,a)=>l.volume-a.volume)}function si(t,e,n,o){let i=o.map(_=>new Qt({volume:_.volume,num:_.num,combination:_.combination.map(w=>new Rt(w))}));const l=_=>i.map(w=>w.combination.filter(E=>E.name===_).length*w.volume).reduce((w,E)=>w+E,0),a=n.sort((_,w)=>_.profile.square-w.profile.square),s=n.sort((_,w)=>w.profile.square-_.profile.square),r=[];s.forEach(_=>{const w=i.filter(E=>E.combination.find(F=>F.name===_.profile.name));a.forEach(E=>{const F=E.profile.name;w.forEach(S=>{let T=!1;if(S.combination.forEach(q=>{q.name===F&&l(F)>E.volume&&(S.combination=S.combination.filter(m=>m.id!==q.id),T=!0)}),T){const m=S.combination.filter(M=>M.type==="detail").flatMap(M=>{const Q=[];for(let k=0;k<S.volume;k++)Q.push(new Rt(M));return Q});r.push(...m),S.combination=[]}})})}),i=(()=>{let _=0;return i.filter(w=>(w.combination.length&&(w.num=++_),w.combination.length))})();let d=[],c;const C=_=>{const w=c?c.p2.x:0;_.calcNewLocation(w,0)};let p=r.sort((_,w)=>w.square-_.square);const b=_=>{c=_,d.push(_),_.type==="detail"&&(p=p.filter(w=>w.id!==_.id))},h=()=>{const _=d[d.length-1],w=e-_.p2.x,E=e-_.p3.x;for(const F of p)if(F.size.a<=w&&F.size.c<=E)return!0;return!1};for(;p.length;)if(p.forEach(_=>{if(C(_),d.length){let w;if((c==null?void 0:c.type)==="detail"){const m=Zn(c,_);t&&m?w=Kn(t,c).drawPiece:m||(w=Yn(t,c,_).drawPiece)}const E=d[d.length-1],F=e-E.p2.x,S=e-E.p3.x,T=w?_.size.a+w.size.a:_.size.a,q=w?_.size.c+w.size.c:_.size.c;T<=F&&q<=S&&(w&&(b(w),C(_)),b(_))}else{const w=Jn(_);b(w.drawPiece),C(_),b(_)}}),!h()){c&&d.push(Qn(e,c)),c=void 0;const _=i.length?Math.max(...i.map(w=>w.num)):0;if(i.forEach(w=>{let E=!0;for(let F=0;F<w.combination.length;F++){const S=w.combination[F];d[F]?E=S.isCopy(d[F]):E=!1}E&&(w.volume++,d=[])}),d.length){const w=new Qt({num:_+1,volume:1,combination:[...d]});i.push(w),d=[]}}return i}function rn(t,e=!1){const n=[],o=t[0].body.length,i=()=>{let l="V |";for(let a=1;a<=o;a++)l+=` X${a} `;return l+="| P",l};return n.push(i()),t.forEach(l=>{let a=`${parseFloat(l.head.toFixed(3))} |`;l.body.forEach(s=>{a+=s>-1?` ${s}  `:`${s}  `}),a+=e?`= ${l.tail}`:`>= ${l.tail}`,n.push(a)}),n}const kt=t=>{const n=[];let o="N |  c  |  b  | ";t.rows[0].rowCoefficients.forEach((s,r)=>{o+=` X${r+1} `}),n.push(o),t.rows.forEach((s,r)=>{const g=parseFloat(s.b.toFixed(2));let d=s.b>=0?`${r+1} | X${s.basisIndex+1} | ${g} | `:`${r+1} | X${s.basisIndex+1} | ${g} | `;s.rowCoefficients.forEach(c=>{const C=parseFloat(c.toFixed(2));d+=c>-1?` ${C} `:`${C} `}),n.push(d)});const i=t.rowF;let a=`| F  | ${parseFloat(i.b.toFixed(2))} | `;return i.rowCoefficients.forEach(s=>{const r=parseFloat(s.toFixed(2));a+=s>-1?` ${r} `:`${r} `}),n.push(a),n};function ai(t,e){const o=`Площадь не обрезанной заготовки: (${t.size.a} * ${t.size.h}) = ${parseFloat(t.square.toFixed(3))} мм² = ${wt(t.square,3)} м²`,l=`${e.length?" ".repeat(e[0].name.length-4):""}Имя | Площадь мм²| Количество, шт.`,a=[o,l];return e.forEach(s=>{const r=`${s.name} | ${parseFloat(s.profile.square.toFixed(3))} | ${s.volume}`;a.push(r)}),a}function Pn(t,e,n,o,i=!1){const a=[],s=parseFloat(e.square.toFixed(3));a.push("==> Результаты вычисления задачи поиска решения оптимального раскроя"),a.push(`
==> Исходные данные`),a.push(`Площадь сырья для раскроя: ${s} мм² =  ${wt(s,3)} м²`),a.push("Заказ:"),n.forEach((_,w)=>{const E=parseFloat(_.profile.square.toFixed(3));a.push(`N${w+1}. Площадь обреза: ${E} мм² =  ${wt(E,3)} м²; Количество: ${_.volume} шт.`)}),a.push(`
==> Варианты раскроя изделия исходя из начальных условий (матрица).`),a.push("X - варианты раскроя."),a.push("V - площадь обреза."),a.push("Пересечение V/X -  количество распилов длины V по отношению к длине сырья для раскроя."),rn(o).forEach(_=>a.push(_)),a.push(`
==> Оптимальный раскрой материала`);let r=0,g=0;const d=o[0].body.length-1,c=i?0:1;t.rows.forEach(_=>{if(_.basisIndex<=d&&_.b>0){const w=parseFloat(_.b.toFixed(c)),E=`Количество распилов варианта X${_.basisIndex+1}: ${w} шт.`;a.push(E),r+=_.b,o.forEach(F=>{const S=F.body[_.basisIndex];S&&(g+=_.b*S*F.head)})}});const C=parseFloat((r*e.square).toFixed(3)),p=parseFloat(r.toFixed(c)),b=parseFloat(g.toFixed(3)),h=parseFloat((C-g).toFixed(3));return a.push(`
Количество заготовок для распила: ${p} шт.`),a.push(`Полезная площадь распилов: ${b} мм²  = ${wt(b,3)} м²`),a.push(`Общая площадь требуемых заготовок для распилов: ${C} мм² =  ${wt(C,3)} м²`),a.push(`Остатки: ${h} мм² = ${wt(h,3)} м²`),a}class xn{constructor(e){Qe(this,"head",0);Qe(this,"body",[]);Qe(this,"tail",0);e&&(this.head=e.head,this.body=[...e.body],this.tail=e.tail)}}const li=(t,e)=>{const n=[];return e.forEach(o=>{const i=new xn;i.head=o.profile.square,t.forEach(l=>{const a=l.filter(s=>s.id===o.profile.id).length;i.body.push(a)}),i.tail=o.volume,n.push(i)}),n},ui=t=>{const e=t.map(i=>new xn(i)),n=t.map(()=>0),o=(i,l)=>(l[i]=-1,l);return t.forEach((i,l)=>{const a=i.body.concat(o(l,[...n]));e[l].body=a.map(s=>s*-1),e[l].tail*=-1}),e};class fn{constructor(e){Qe(this,"basisIndex",0);Qe(this,"rowCoefficients",[]);Qe(this,"b",0);e&&(this.basisIndex=e.basisIndex,this.rowCoefficients=[...e.rowCoefficients],this.b=e.b)}}class sn{constructor(e){Qe(this,"rowCoefficients",[]);Qe(this,"b",0);e&&(this.rowCoefficients=[...e.rowCoefficients],this.b=e.b)}}class Vt{constructor(e){Qe(this,"rows",[]);Qe(this,"rowF",new sn);e&&(this.rowF=new sn(e.rowF),this.rows=e.rows.map(n=>new fn(n)))}}const fi=t=>{const e=new Vt,n=[];for(let o=t.length;o>0;o--)n.push(t[0].body.length-o);return n.forEach((o,i)=>{const l=t[i],a=new fn({basisIndex:o,rowCoefficients:l.body,b:l.tail});e.rows.push(a)}),e.rowF=new sn({b:0,rowCoefficients:[]}),t[0].body.forEach((o,i)=>{const l=n.includes(i);e.rowF.rowCoefficients.push(l?0:1)}),e},cn=(t,e)=>{const n=e.rowIndex,o=e.colIndex,i=new Vt(t);i.rows[n].basisIndex=o;const l=t.rows[n],a=l.rowCoefficients,s=a[o];t.rows.forEach((d,c)=>{const C=i.rows[c];if(c!==n){const p=d.rowCoefficients[o],b=l.b;C.b=d.b-p*b/s,C.rowCoefficients=d.rowCoefficients.map((h,_)=>{if(_===o)return 0;{const w=l.rowCoefficients[_];return h-p*w/s}})}else C.b=d.b/s,C.rowCoefficients=d.rowCoefficients.map(p=>p/s)});const r=i.rowF,g=t.rowF.rowCoefficients[o];return r.b=t.rowF.b-l.b*g/s,t.rowF.rowCoefficients.forEach((d,c)=>{c!==o?r.rowCoefficients[c]=d-a[c]*g/s:r.rowCoefficients[c]=0}),i};function ci(t,e){const n=(s,r=!0)=>{const g=p=>{let b=0;const h=p.rows;return h.forEach((_,w)=>{if(r&&_.b<0){const E=h[b].b>=0?0:h[b].b*-1;b=_.b*-1>E?w:b}else if(!r){const E=h[b].b>=0?h[b].b:h[b].b*-1;b=(_.b>=0?_.b:_.b*-1)>E?w:b}}),b},d=(p,b)=>{const h=b.rows[p].rowCoefficients;let _=0;return h.forEach((w,E)=>{const F=h[_]>=0?h[_]:h[_]*-1;_=(w>=0?w:w*-1)>F?E:_}),_},c=g(s),C=d(c,s);return{rowIndex:c,colIndex:C}},o=s=>![...s.rows].filter(r=>r.b<0).length;let i=1,l=new Vt(t),a=o(l);for(;!a;){e.push(`
==> Начало итерации N${i}`),e.push(`
==> Этап 2. Шаг 1. Исходная таблица`),e.push(...kt(l)),e.push(`
==> Этап 2. Шаг 2. Проверка свободных членов на допустимость решения`),e.push(`Все свободные члены >= 0 ? Ответ:${a}`);const s=n(l);e.push(`
==> Этап 2. Шаг 3. Поиск ведущей строки и столбца`),e.push(`Строка: ${s.rowIndex}, столбец: ${s.colIndex}`),l=cn(l,s),e.push(`
==> Этап 2. Шаг 4. Расчет новой симплекс таблицы `),e.push(...kt(l)),e.push(`
==> Конец итерации N${i}`),a=o(l),i>30&&(a=!0,e.push(`
==> Внимание! Завершилось после 30 итераций`)),i++}return l}function di(t,e){const n=(s,r=!0)=>{const g=(p,b)=>{let h=0;return b.forEach((_,w)=>{const E=_.b/_.rowCoefficients[p];if(E>=0){const F=b[h].b/b[h].rowCoefficients[p];h=E<F||F<0?w:h}}),h},c=(p=>{let b=0;return p.forEach((h,_)=>{if(r&&h<0){const w=p[b]*-1;b=h*-1>w?_:b}else if(!r){const w=p[b]>=0?p[b]:p[b]*-1;b=(h>=0?h:h*-1)>w?_:b}}),b})(s.rowF.rowCoefficients);return{rowIndex:g(c,s.rows),colIndex:c}},o=s=>![...s.rowF.rowCoefficients].filter(r=>r<0).length;let i=1,l=new Vt(t),a=o(l);for(;!a;){e.push(`
==> Начало итерации N${i}`),e.push(`
==> Этап 3. Шаг 1. Исходная таблица`),e.push(...kt(l)),e.push(`
==> Этап 3. Шаг 2. Проверка коэффициентов функции F на допустимость решения.`),e.push(`Все коэффициентов >= 0 ? Ответ:${a}`);const s=n(l);e.push(`
==> Этап 3. Шаг 3. Поиск ведущей строки и столбца для коэффициентов функции F`),e.push(`Строка: ${s.rowIndex}, столбец: ${s.colIndex}`),l=cn(l,s),e.push(`
==> Этап 3. Шаг 4. Расчет новой симплекс таблицы `),e.push(...kt(l)),e.push(`
==> Конец итерации N${i}`),a=o(l),i>20&&(a=!0),i++}return l}function hi(t,e){const n=d=>!d.rows.filter(c=>+c.b.toFixed(2)%1!==0).length,o=(d,c=2)=>{const C=new Vt(d);return C.rows.forEach(p=>{p.b=Number(p.b.toFixed(c)),p.rowCoefficients=p.rowCoefficients.map(b=>Number(b.toFixed(c)))}),C.rowF.rowCoefficients=C.rowF.rowCoefficients.map(p=>Number(p.toFixed(c))),C},i=d=>{const c=h=>{let _=0,w=0;return h.rows.forEach((E,F)=>{const S=E.b%1;S>_&&(_=S,w=F)}),e.push(`Максимальная дробная часть:${_}`),e.push(`Индекс максимальной дробной части:${w}`),w},C=h=>{const _=h%1;return h>=0?-_:_<0?-1-_:_},p=c(d),b=new fn(d.rows[p]);return b.b=C(b.b),b.rowCoefficients=[...b.rowCoefficients.map(h=>C(h)),1],b},l=d=>{const c=(C,p)=>{let b=0;return p.forEach((h,_)=>{const w=C/h;if(w>0){const E=h/p[b];b=w<E||E<0?_:b}}),b};return{rowIndex:r.rows.length-1,colIndex:c(d.b,d.rowCoefficients)}},a=(d,c)=>{const C=b=>{const h=new Vt(b);return h.rows.forEach(_=>_.rowCoefficients.push(0)),h.rowF.rowCoefficients.push(0),h},p=new Vt(d);return r=C(r),p.rows.push(c),p};let s=1,r=new Vt(t),g=n(r);for(e.push(`
==> Этап 4. Шаг 0. Проверка свободных членов на целочисленность.`),e.push(`Все свободные члены b целые ? Ответ:${g}`),r=o(r);!g;){e.push(`
==> Начало итерации N${s}`),e.push(`
==> Этап 4. Шаг 1. Исходная таблица`),e.push(...kt(r)),e.push(`
==> Этап 4. Шаг 2. Формирование нового ограничения`);const d=i(r);r=a(r,d),e.push(...kt(r));const c=l(d);e.push(`
==> Этап 4. Шаг 3. Поиск ведущей строки и столбца`),e.push(`Строка: ${c.rowIndex}, столбец: ${c.colIndex}`),e.push(`
==> Этап 4. Шаг 4. Расчет новой симплекс таблицы `),r=o(cn(r,c)),e.push(...kt(r)),e.push(`
==> Этап 4. Шаг 4. Проверка свободных членов на целочисленность.`),g=n(r),e.push(`Все свободные члены b целые ? Ответ: ${g}`),e.push(`
==> Конец итерации N${s}`),s>20&&(g=!0,e.push(`
==> Внимание! Завершилось после 100 итераций`)),s++}return r}const gi=t=>{const e=n=>{const o=n.profileBlanks;console.log(n);const i=t.processing.stockSawing*2*n.baseProfile.size.h,l=[];l.push(`
==> Этап 0. Подготовка данных и коэффициентов `),l.push(`Припуск распила: ${t.processing.stockSawing}`),l.push(`Площадь припуска распила: ${i} мм² = ${wt(i,10)} м²`),l.push(`
Таблица заготовок и их параметров`),l.push(...ai(n.baseProfile,o));const a=ri(t.processing.stockSawing,n.baseProfile.size.maxBaseLength,o);l.push(`
==> Этап 0. Шаг 1. Варианты раскроя изделия исходя из начальных условий.`),l.push(`Количество комбинаций: ${a.cuttingCombinations.length}`),l.push(`
==> Этап 1. Переход к канонической форме задачи линейного программирования путем введения неотрицательных дополнительных балансовых переменных.`);const s=li(a.cuttingCombinations,o);l.push(`
==> Этап 1. Шаг 1. Получение матрицы коэффициентов`),l.push(...rn(s)),console.log(l);const r=ui(s);l.push(`
==> Этап 1. Шаг 2. Переход к канонической форме задачи линейного программирования путем введения неотрицательных дополнительных балансовых переменных.`),l.push(...rn(r,!0)),l.push(`
==> Этап 2.  Проверка симплекс таблицы на допустимость решения. Расчет новой симплекс таблицы. `),l.push(`
==> Этап 2. Шаг 0. Инициализация симплекс таблицы`);const g=fi(r);l.push(...kt(g));const d=ci(g,l);l.push(`
==> Этап 3. Основной алгоритм решения задачи ЛП симплекс-методом. Расчет новой симплекс таблицы. `);const c=di(d,l);l.push(...kt(c)),l.push(...Pn(c,n.baseProfile,o,s).map(h=>`
${h}`)),l.push("[integer]"),l.push(`
==> Этап 4. Алгоритм поиска целочисленного решения ЗЛП методом Гомори `);const C=hi(c,l);l.push(...Pn(C,n.baseProfile,o,s,!0).map(h=>`
${h}`));let p=An(s[0].body.length-1,C.rows,a.drawCombinations),b=l;if(!p.length){p=An(s[0].body.length-1,c.rows,a.drawCombinations);const h=l.findIndex(_=>_==="[integer]");b=l.slice(0,h)}return p=si(t.processing.stockSawing,n.baseProfile.size.maxBaseLength,o,p),{doorFrame:n.doorFrame,baseProfile:n.baseProfile,listLogMessages:b,drawCombinations:a.drawCombinations,optimumDrawCombinations:p}};return t.allDoorFrameProfiles.map(n=>e(n))};function mi(t){let e,n;return{c(){e=tt("svg"),n=tt("path"),this.h()},l(o){e=nt(o,"svg",{"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var i=y(e);n=nt(i,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),y(n).forEach(v),i.forEach(v),this.h()},h(){f(n,"stroke","white"),f(n,"stroke-linecap","round"),f(n,"stroke-width","2"),f(n,"d","M7.24 7.194a24.16 24.16 0 0 1 3.72-3.062m0 0c3.443-2.277 6.732-2.969 8.24-1.46 2.054 2.053.03 7.407-4.522 11.959-4.552 4.551-9.906 6.576-11.96 4.522C1.223 17.658 1.89 14.412 4.121 11m6.838-6.868c-3.443-2.277-6.732-2.969-8.24-1.46-2.054 2.053-.03 7.407 4.522 11.959m3.718-10.499a24.16 24.16 0 0 1 3.719 3.062M17.798 11c2.23 3.412 2.898 6.658 1.402 8.153-1.502 1.503-4.771.822-8.2-1.433m1-6.808a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","1 0 25 22"),f(e,"width","25"),f(e,"data-view-component","true")},m(o,i){ae(o,e,i),u(e,n)},p:Me,i:Me,o:Me,d(o){o&&v(e)}}}class pi extends Ae{constructor(e){super(),Pe(this,e,null,mi,Ne,{})}}function _i(t){let e,n,o,i,l,a,s,r,g,d,c,C=wt(t[0])+"",p,b,h,_,w,E,F,S=wt(t[1])+"",T,q,m=_n(t[1],t[0])+"",M,Q,k,N,V,x,le,ge=wt(t[2])+"",ie,$,J=_n(t[2],t[0])+"",ce,ve;return{c(){e=B("div"),n=B("ul"),o=B("li"),i=K("Количество пилов: "),l=K(t[3]),a=K(" шт."),s=z(),r=B("li"),g=K("Общая площадь: "),d=K(t[0]),c=K(" мм² = "),p=K(C),b=K(" м² = 100%"),h=z(),_=B("li"),w=K("Полезная площадь: "),E=K(t[1]),F=K(" мм² = "),T=K(S),q=K(" м² = "),M=K(m),Q=K("%"),k=z(),N=B("li"),V=K("Площадь остатков: "),x=K(t[2]),le=K(" мм² = "),ie=K(ge),$=K(" м² = "),ce=K(J),ve=K("%"),this.h()},l(_e){e=I(_e,"DIV",{});var he=y(e);n=I(he,"UL",{style:!0});var ue=y(n);o=I(ue,"LI",{class:!0});var qe=y(o);i=Y(qe,"Количество пилов: "),l=Y(qe,t[3]),a=Y(qe," шт."),qe.forEach(v),s=O(ue),r=I(ue,"LI",{});var De=y(r);g=Y(De,"Общая площадь: "),d=Y(De,t[0]),c=Y(De," мм² = "),p=Y(De,C),b=Y(De," м² = 100%"),De.forEach(v),h=O(ue),_=I(ue,"LI",{});var me=y(_);w=Y(me,"Полезная площадь: "),E=Y(me,t[1]),F=Y(me," мм² = "),T=Y(me,S),q=Y(me," м² = "),M=Y(me,m),Q=Y(me,"%"),me.forEach(v),k=O(ue),N=I(ue,"LI",{});var de=y(N);V=Y(de,"Площадь остатков: "),x=Y(de,t[2]),le=Y(de," мм² = "),ie=Y(de,ge),$=Y(de," м² = "),ce=Y(de,J),ve=Y(de,"%"),de.forEach(v),ue.forEach(v),he.forEach(v),this.h()},h(){f(o,"class","mb-2"),ho(n,"list-style","inside")},m(_e,he){ae(_e,e,he),u(e,n),u(n,o),u(o,i),u(o,l),u(o,a),u(n,s),u(n,r),u(r,g),u(r,d),u(r,c),u(r,p),u(r,b),u(n,h),u(n,_),u(_,w),u(_,E),u(_,F),u(_,T),u(_,q),u(_,M),u(_,Q),u(n,k),u(n,N),u(N,V),u(N,x),u(N,le),u(N,ie),u(N,$),u(N,ce),u(N,ve)},p:Me,i:Me,o:Me,d(_e){_e&&v(e)}}}function bi(t,e,n){let{order:o}=e,{result:i}=e;const l=i.optimumDrawCombinations.reduce((c,C)=>(c.totalSquare+=C.squaresStats.totalSquare*C.volume,c.remainSquare+=C.squaresStats.remainSquare*C.volume,c.usefulSquare+=C.squaresStats.usefulSquare*C.volume,c.numbersOfSawing+=C.numbersOfSawing*C.volume,c),{totalSquare:0,usefulSquare:0,remainSquare:0,numbersOfSawing:0}),a=o.calcNumbersOfBoxType(i.doorFrame.id),s=parseFloat(l.totalSquare.toFixed(0))*a,r=parseFloat(l.usefulSquare.toFixed(0))*a,g=parseFloat(l.remainSquare.toFixed(0))*a,d=l.numbersOfSawing*a;return t.$$set=c=>{"order"in c&&n(4,o=c.order),"result"in c&&n(5,i=c.result)},[s,r,g,d,o,i]}class vi extends Ae{constructor(e){super(),Pe(this,e,bi,_i,Ne,{order:4,result:5})}}function Nn(t,e,n){const o=t.slice();return o[4]=e[n],o}function wi(t){let e,n;return e=new vi({props:{result:t[4],order:t[0]}}),{c(){U(e.$$.fragment)},l(o){j(e.$$.fragment,o)},m(o,i){G(e,o,i),n=!0},p(o,i){const l={};i&2&&(l.result=o[4]),i&1&&(l.order=o[0]),e.$set(l)},i(o){n||(D(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Ci(t){let e,n;return{c(){e=B("div"),this.h()},l(o){e=I(o,"DIV",{id:!0,class:!0}),y(e).forEach(v),this.h()},h(){f(e,"id",n="containerOptimumCombinationsCanvas_"+t[4].id),f(e,"class","flex flex-col overflow-auto max-w-[80vw]")},m(o,i){ae(o,e,i)},p(o,i){i&2&&n!==(n="containerOptimumCombinationsCanvas_"+o[4].id)&&f(e,"id",n)},d(o){o&&v(e)}}}function Wn(t){let e,n,o=t[4].doorFrame.name+"",i,l,a=t[0].calcNumbersOfBoxType(t[4].doorFrame.id)+"",s,r,g,d,c,C,p,b,h,_;return c=new on({props:{title:"Статистика по раскрою",isOpen:!0,$$slots:{default:[wi]},$$scope:{ctx:t}}}),b=new on({props:{title:"Схемы раскроя ",isOpen:!0,$$slots:{default:[Ci]},$$scope:{ctx:t}}}),{c(){e=B("h2"),n=K('Для коробки "'),i=K(o),l=K('" ('),s=K(a),r=K(" шт.)"),g=z(),d=B("div"),U(c.$$.fragment),C=z(),p=B("div"),U(b.$$.fragment),h=z(),this.h()},l(w){e=I(w,"H2",{class:!0});var E=y(e);n=Y(E,'Для коробки "'),i=Y(E,o),l=Y(E,'" ('),s=Y(E,a),r=Y(E," шт.)"),E.forEach(v),g=O(w),d=I(w,"DIV",{class:!0});var F=y(d);j(c.$$.fragment,F),F.forEach(v),C=O(w),p=I(w,"DIV",{class:!0});var S=y(p);j(b.$$.fragment,S),h=O(S),S.forEach(v),this.h()},h(){f(e,"class","mt-20 text-xl font-bold text-gray-900 dark:text-white"),f(d,"class","mt-5"),f(p,"class","mt-5")},m(w,E){ae(w,e,E),u(e,n),u(e,i),u(e,l),u(e,s),u(e,r),ae(w,g,E),ae(w,d,E),G(c,d,null),ae(w,C,E),ae(w,p,E),G(b,p,null),u(p,h),_=!0},p(w,E){(!_||E&2)&&o!==(o=w[4].doorFrame.name+"")&&xt(i,o),(!_||E&3)&&a!==(a=w[0].calcNumbersOfBoxType(w[4].doorFrame.id)+"")&&xt(s,a);const F={};E&131&&(F.$$scope={dirty:E,ctx:w}),c.$set(F);const S={};E&130&&(S.$$scope={dirty:E,ctx:w}),b.$set(S)},i(w){_||(D(c.$$.fragment,w),D(b.$$.fragment,w),_=!0)},o(w){R(c.$$.fragment,w),R(b.$$.fragment,w),_=!1},d(w){w&&v(e),w&&v(g),w&&v(d),Z(c),w&&v(C),w&&v(p),Z(b)}}}function Fi(t){let e,n,o,i,l,a,s,r,g,d,c,C,p,b,h,_,w;r=new pi({});let E=t[1],F=[];for(let T=0;T<E.length;T+=1)F[T]=Wn(Nn(t,E,T));const S=T=>R(F[T],1,1,()=>{F[T]=null});return p=new vo({}),{c(){e=B("section"),n=B("div"),o=B("div"),i=B("h2"),l=K("Форма расчета"),a=z(),s=B("button"),U(r.$$.fragment),g=K(`
                Запустить расчет`),d=z();for(let T=0;T<F.length;T+=1)F[T].c();c=z(),C=B("button"),U(p.$$.fragment),b=K(" Показать отчет"),this.h()},l(T){e=I(T,"SECTION",{class:!0});var q=y(e);n=I(q,"DIV",{class:!0});var m=y(n);o=I(m,"DIV",{class:!0});var M=y(o);i=I(M,"H2",{class:!0});var Q=y(i);l=Y(Q,"Форма расчета"),Q.forEach(v),a=O(M),s=I(M,"BUTTON",{class:!0});var k=y(s);j(r.$$.fragment,k),g=Y(k,`
                Запустить расчет`),k.forEach(v),M.forEach(v),d=O(m);for(let V=0;V<F.length;V+=1)F[V].l(m);m.forEach(v),q.forEach(v),c=O(T),C=I(T,"BUTTON",{class:!0});var N=y(C);j(p.$$.fragment,N),b=Y(N," Показать отчет"),N.forEach(v),this.h()},h(){f(i,"class","mb-4 text-[28px] font-bold text-gray-900 dark:text-white"),f(s,"class","gap-1 inline-flex items-center px-5 py-2.5 font-medium text-center text-white bg-primary-600 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-700"),f(o,"class","my-20 flex justify-between align-middle items-center"),f(n,"class","py-8 px-4 mx-auto lg:py-16"),f(e,"class","bg-white dark:bg-gray-900"),f(C,"class","gap-1 inline-flex items-center px-5 py-2.5 font-medium text-center float-right text-white bg-primary-600 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-700")},m(T,q){ae(T,e,q),u(e,n),u(n,o),u(o,i),u(i,l),u(o,a),u(o,s),G(r,s,null),u(s,g),u(n,d);for(let m=0;m<F.length;m+=1)F[m]&&F[m].m(n,null);ae(T,c,q),ae(T,C,q),G(p,C,null),u(C,b),h=!0,_||(w=[Ct(s,"click",t[3]),Ct(C,"click",t[2])],_=!0)},p(T,[q]){if(q&3){E=T[1];let m;for(m=0;m<E.length;m+=1){const M=Nn(T,E,m);F[m]?(F[m].p(M,q),D(F[m],1)):(F[m]=Wn(M),F[m].c(),D(F[m],1),F[m].m(n,null))}for(ot(),m=E.length;m<F.length;m+=1)S(m);it()}},i(T){if(!h){D(r.$$.fragment,T);for(let q=0;q<E.length;q+=1)D(F[q]);D(p.$$.fragment,T),h=!0}},o(T){R(r.$$.fragment,T),F=F.filter(Boolean);for(let q=0;q<F.length;q+=1)R(F[q]);R(p.$$.fragment,T),h=!1},d(T){T&&v(e),Z(r),en(F,T),T&&v(c),T&&v(C),Z(p),_=!1,ln(w)}}}function Ei(t,e,n){let{order:o}=e,i=[];const l=()=>{bn("results_report",i),bn("order_report",o),window.open("/report")},a=()=>{n(1,i=[]);const s=new Cn({id:oe(),type:"info",text:"Расчет запущен!"});Fn.add(En(s)),gi(o).forEach(g=>{const d=new oo({id:oe(),log:"",shortLog:"",doorFrame:g.doorFrame,baseProfile:g.baseProfile,drawCombinations:g.drawCombinations,optimumDrawCombinations:g.optimumDrawCombinations});d.log=g.listLogMessages.map(c=>c.includes("==>")?`<p class='mt-2 font-bold'>${c}</p>`:`<p '>${c}</p>`).join(""),d.shortLog=g.listLogMessages.slice(g.listLogMessages.findLastIndex(c=>c.includes("Результаты вычисления задачи поиска решения оптимального раскроя")),g.listLogMessages.findLastIndex(c=>c.includes("Остатки: "))+1).map(c=>c.includes("==>")?`<p class='mt-2 font-bold'>${c}</p>`:`<p '>${c}</p>`).join(""),i.push(d)}),n(1,i=[...i]),setTimeout(()=>{i.forEach(d=>{vn(`containerWorkPieceCanvas_${d.id}`,o.processing.stockSawing,d.baseProfile,d.drawCombinations),vn(`containerOptimumCombinationsCanvas_${d.id}`,o.processing.stockSawing,d.baseProfile,d.optimumDrawCombinations)});const g=new Cn({id:oe(),type:"success",text:"Расчет завершен!"});Fn.add(En(g))},1e3)};return un(()=>{setTimeout(()=>{a()},1e3)}),t.$$set=s=>{"order"in s&&n(0,o=s.order)},[o,i,l,a]}class Si extends Ae{constructor(e){super(),Pe(this,e,Ei,Fi,Ne,{order:0})}}function qi(t){let e,n,o,i,l,a,s,r,g,d,c,C,p,b,h,_,w,E,F,S,T;function q($){t[16]($)}let m={workers:t[1],managers:t[0],companies:t[2]};t[11].metaOrder!==void 0&&(m.metaOrder=t[11].metaOrder),n=new oi({props:m}),ee.push(()=>te(n,"metaOrder",q));function M($){t[17]($)}let Q={canvasConstructionTypes:t[6]};t[11].equipments!==void 0&&(Q.equipments=t[11].equipments),r=new Lo({props:Q}),ee.push(()=>te(r,"equipments",M));function k($){t[18]($)}function N($){t[19]($)}let V={};t[11].processing!==void 0&&(V.processing=t[11].processing),t[11].equipments!==void 0&&(V.equipments=t[11].equipments),c=new jo({props:V}),ee.push(()=>te(c,"processing",k)),ee.push(()=>te(c,"equipments",N));function x($){t[20]($)}function le($){t[21]($)}function ge($){t[22]($)}let ie={profileMaterials:t[8],openingSides:t[3],doorFrames:t[5],endFaceTypes:t[7],hingesTypes:t[4],profileColors:t[9],millingVersions:t[10],addBuildPiece:t[13],copyBuildPiece:t[14],removeBuildPiece:t[15]};return t[12]!==void 0&&(ie.buildPieces=t[12]),t[11].equipments!==void 0&&(ie.equipments=t[11].equipments),t[11].processing!==void 0&&(ie.processing=t[11].processing),h=new Po({props:ie}),ee.push(()=>te(h,"buildPieces",x)),ee.push(()=>te(h,"equipments",le)),ee.push(()=>te(h,"processing",ge)),S=new Si({props:{order:t[11]}}),{c(){e=B("div"),U(n.$$.fragment),i=z(),l=B("hr"),a=z(),s=B("div"),U(r.$$.fragment),d=z(),U(c.$$.fragment),b=z(),U(h.$$.fragment),F=z(),U(S.$$.fragment),this.h()},l($){e=I($,"DIV",{class:!0});var J=y(e);j(n.$$.fragment,J),i=O(J),l=I(J,"HR",{class:!0}),a=O(J),s=I(J,"DIV",{class:!0});var ce=y(s);j(r.$$.fragment,ce),d=O(ce),j(c.$$.fragment,ce),ce.forEach(v),b=O(J),j(h.$$.fragment,J),F=O(J),j(S.$$.fragment,J),J.forEach(v),this.h()},h(){f(l,"class","h-px my-8 bg-gray-200 border-0 dark:bg-gray-700"),f(s,"class","animate__animated animate__fadeInDown animate__slow flex justify-around"),f(e,"class","")},m($,J){ae($,e,J),G(n,e,null),u(e,i),u(e,l),u(e,a),u(e,s),G(r,s,null),u(s,d),G(c,s,null),u(e,b),G(h,e,null),u(e,F),G(S,e,null),T=!0},p($,[J]){const ce={};J&2&&(ce.workers=$[1]),J&1&&(ce.managers=$[0]),J&4&&(ce.companies=$[2]),!o&&J&2048&&(o=!0,ce.metaOrder=$[11].metaOrder,ne(()=>o=!1)),n.$set(ce);const ve={};J&64&&(ve.canvasConstructionTypes=$[6]),!g&&J&2048&&(g=!0,ve.equipments=$[11].equipments,ne(()=>g=!1)),r.$set(ve);const _e={};!C&&J&2048&&(C=!0,_e.processing=$[11].processing,ne(()=>C=!1)),!p&&J&2048&&(p=!0,_e.equipments=$[11].equipments,ne(()=>p=!1)),c.$set(_e);const he={};J&256&&(he.profileMaterials=$[8]),J&8&&(he.openingSides=$[3]),J&32&&(he.doorFrames=$[5]),J&128&&(he.endFaceTypes=$[7]),J&16&&(he.hingesTypes=$[4]),J&512&&(he.profileColors=$[9]),J&1024&&(he.millingVersions=$[10]),!_&&J&4096&&(_=!0,he.buildPieces=$[12],ne(()=>_=!1)),!w&&J&2048&&(w=!0,he.equipments=$[11].equipments,ne(()=>w=!1)),!E&&J&2048&&(E=!0,he.processing=$[11].processing,ne(()=>E=!1)),h.$set(he);const ue={};J&2048&&(ue.order=$[11]),S.$set(ue)},i($){T||(D(n.$$.fragment,$),D(r.$$.fragment,$),D(c.$$.fragment,$),D(h.$$.fragment,$),D(S.$$.fragment,$),T=!0)},o($){R(n.$$.fragment,$),R(r.$$.fragment,$),R(c.$$.fragment,$),R(h.$$.fragment,$),R(S.$$.fragment,$),T=!1},d($){$&&v(e),Z(n),Z(r),Z(c),Z(h),Z(S)}}}function ki(t,e,n){let{managers:o=[]}=e,{workers:i=[]}=e,{companies:l=[]}=e,{openingSides:a=[]}=e,{hingesTypes:s=[]}=e,{doorFrames:r=[]}=e,{canvasConstructionTypes:g=[]}=e,{endFaceTypes:d=[]}=e,{profileMaterials:c=[]}=e,{profileColors:C=[]}=e,{millingVersions:p=[]}=e,b=new io({id:oe(),doorsVolume:2,metaOrder:new ro({id:oe(),creatingDate:new Date,numberSpecification:1,manager:o[0],company:l[0],worker:i[0],comment:""}),equipments:new so,processing:new Xn,doorFrames:r,buildPieces:[new Yt({id:oe(),heightDoorCanvas:2e3,widthDoorCanvas:800,openingSide:a[0],doorFrame:r[0],typeHinge:s[0],typeEndFace:d[0],profileMaterial:c[0],profileColor:C[0],millingVersion:p[0],volumeHinges:2,volume:1}),new Yt({id:oe(),heightDoorCanvas:3e3,widthDoorCanvas:600,openingSide:a[0],doorFrame:r[1],typeHinge:s[0],typeEndFace:d[0],profileMaterial:c[0],profileColor:C[0],millingVersion:p[0],volumeHinges:2,volume:1}),new Yt({id:oe(),heightDoorCanvas:3e3,widthDoorCanvas:600,openingSide:a[0],doorFrame:r[0],typeHinge:s[0],typeEndFace:d[0],profileMaterial:c[0],profileColor:C[0],millingVersion:p[0],volumeHinges:2,volume:1})]}),h=b.buildPieces;const _=()=>{const k=new Yt;b.buildPieces.length&&k.setFromCopy(b.buildPieces[b.buildPieces.length-1]),b.addBuildPiece(k),n(12,h=b.buildPieces)},w=k=>{b.copyBuildPiece(k),n(12,h=b.buildPieces)},E=k=>{b.removeBuildPiece(k),n(12,h=b.buildPieces)};un(()=>{ii(b)});function F(k){t.$$.not_equal(b.metaOrder,k)&&(b.metaOrder=k,n(11,b))}function S(k){t.$$.not_equal(b.equipments,k)&&(b.equipments=k,n(11,b))}function T(k){t.$$.not_equal(b.processing,k)&&(b.processing=k,n(11,b))}function q(k){t.$$.not_equal(b.equipments,k)&&(b.equipments=k,n(11,b))}function m(k){h=k,n(12,h)}function M(k){t.$$.not_equal(b.equipments,k)&&(b.equipments=k,n(11,b))}function Q(k){t.$$.not_equal(b.processing,k)&&(b.processing=k,n(11,b))}return t.$$set=k=>{"managers"in k&&n(0,o=k.managers),"workers"in k&&n(1,i=k.workers),"companies"in k&&n(2,l=k.companies),"openingSides"in k&&n(3,a=k.openingSides),"hingesTypes"in k&&n(4,s=k.hingesTypes),"doorFrames"in k&&n(5,r=k.doorFrames),"canvasConstructionTypes"in k&&n(6,g=k.canvasConstructionTypes),"endFaceTypes"in k&&n(7,d=k.endFaceTypes),"profileMaterials"in k&&n(8,c=k.profileMaterials),"profileColors"in k&&n(9,C=k.profileColors),"millingVersions"in k&&n(10,p=k.millingVersions)},[o,i,l,a,s,r,g,d,c,C,p,b,h,_,w,E,F,S,T,q,m,M,Q]}class yi extends Ae{constructor(e){super(),Pe(this,e,ki,qi,Ne,{managers:0,workers:1,companies:2,openingSides:3,hingesTypes:4,doorFrames:5,canvasConstructionTypes:6,endFaceTypes:7,profileMaterials:8,profileColors:9,millingVersions:10})}}function Ln(t){let e,n,o,i;const l=[{workers:t[0].workers},{managers:t[0].managers},{companies:t[0].companies},t[0].paramsForCreatingBuildPiece];let a={};for(let s=0;s<l.length;s+=1)a=go(a,l[s]);return e=new yi({props:a}),{c(){U(e.$$.fragment),n=z(),o=B("hr"),this.h()},l(s){j(e.$$.fragment,s),n=O(s),o=I(s,"HR",{class:!0}),this.h()},h(){f(o,"class","mt-[300px]")},m(s,r){G(e,s,r),ae(s,n,r),ae(s,o,r),i=!0},p(s,r){const g=r&1?mo(l,[{workers:s[0].workers},{managers:s[0].managers},{companies:s[0].companies},po(s[0].paramsForCreatingBuildPiece)]):{};e.$set(g)},i(s){i||(D(e.$$.fragment,s),i=!0)},o(s){R(e.$$.fragment,s),i=!1},d(s){Z(e,s),s&&v(n),s&&v(o)}}}function Ti(t){let e,n,o,i,l,a,s=t[0].workers&&Ln(t);return{c(){e=B("div"),n=B("div"),o=B("main"),i=B("div"),l=B("div"),s&&s.c(),this.h()},l(r){e=I(r,"DIV",{class:!0});var g=y(e);n=I(g,"DIV",{class:!0});var d=y(n);o=I(d,"MAIN",{class:!0});var c=y(o);i=I(c,"DIV",{class:!0});var C=y(i);l=I(C,"DIV",{class:!0});var p=y(l);s&&s.l(p),p.forEach(v),C.forEach(v),c.forEach(v),d.forEach(v),g.forEach(v),this.h()},h(){f(l,"class","flex-auto max-w-8xl min-w-0 pt-6 lg:px-8 lg:pt-8 pb:12 xl:pb-24 lg:pb-16"),f(i,"class","flex w-full"),f(o,"class","flex-auto w-full min-w-0 lg:static lg:max-h-full lg:overflow-visible"),f(n,"class","lg:flex"),f(e,"class","animate__animated w-full px-4 mx-auto max-w-8xl min-h-[300vh]")},m(r,g){ae(r,e,g),u(e,n),u(n,o),u(o,i),u(i,l),s&&s.m(l,null),a=!0},p(r,[g]){r[0].workers?s?(s.p(r,g),g&1&&D(s,1)):(s=Ln(r),s.c(),D(s,1),s.m(l,null)):s&&(ot(),R(s,1,1,()=>{s=null}),it())},i(r){a||(D(s),a=!0)},o(r){R(s),a=!1},d(r){r&&v(e),s&&s.d()}}}function Bi(t,e,n){let{data:o}=e;return un(()=>{}),t.$$set=i=>{"data"in i&&n(0,o=i.data)},[o]}class Ri extends Ae{constructor(e){super(),Pe(this,e,Bi,Ti,Ne,{data:0})}}export{Ri as component,Vi as universal};
