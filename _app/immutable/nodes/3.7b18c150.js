var fo=Object.defineProperty;var co=(t,e,n)=>e in t?fo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nt=(t,e,n)=>(co(t,typeof e!="symbol"?e+"":e,n),n);import{W as St,n as ge,C as Jt,c as Qt,U as xt,u as en,O as tn,D as _n,a as bn,E as vn,P as wn,b as nn,M as Cn,H as an,d as ho,o as Fn,e as mo,f as go,g as po,I as jt,h as Te,i as eo,j as to,L as no,k as Tt,l as hn,m as Ut,p as Zt,t as je,q as Mt,R as _o,s as ln,r as Sn,v as bo,w as vo,x as wo,y as Co,B as Lt}from"../chunks/ResultsForm.fa866f54.js";import{S as He,i as Ve,s as Me,k as y,a as z,Z as rt,l as T,m as E,c as R,_ as st,h as _,n as f,b as he,X as u,L as dt,g as O,v as Ye,d as V,f as Je,a0 as Kt,R as rn,j as sn,y as G,z as Z,A as K,B as Y,q as W,r as L,u as Re,w as le,G as $e,I as Fo,M as So,N as Eo,O as qo,a4 as fe,a5 as ce,Q as ko,e as Xt,p as oo,a6 as En,a7 as Do,o as mn,E as yo,P as To,Y as Io}from"../chunks/index.8eacf69c.js";import{I as io}from"../chunks/Img.d6a855d0.js";import{T as qn,t as kn,c as Dn}from"../chunks/all-toast.store.897c6e97.js";const Bo=async({params:t})=>{const n=new St({id:ge(),name:"Основная",size:{a:5e3,c:5e3,h:800,maxLength:4900}});ge(),new St({id:ge(),name:"Д. №1",size:{a:500,c:1e3,h:800,maxLength:n.size.maxLength}}),ge(),new St({id:ge(),name:"Д. №5",size:{a:1e3,c:500,h:800,maxLength:n.size.maxLength}}),ge(),new St({id:ge(),name:"Деталь №4",size:{a:500,c:500,h:800,maxLength:n.size.maxLength}});const o=new Jt({id:ge(),name:"KLIMOV.RED",type:Qt.BUSINESS}),r=[new xt({id:ge(),name:"Николай Поздняков",company:o,type:en.MANAGER,avatar:"/orders-klimov-red-public/imgs/user/managers/manager.png"}),new xt({id:ge(),name:"Дмитрий Рудин",company:o,type:en.MANAGER})],l=[new xt({id:ge(),name:"Эдуард Рябов",company:o,type:en.WORKER}),new xt({id:ge(),name:"Василий Петров",company:o,type:en.WORKER})],i=[new Jt({id:ge(),name:"ООО Транзит",type:Qt.BUSINESS}),new Jt({id:ge(),name:"ИП Иванов",type:Qt.IE}),new Jt({id:ge(),name:"Самозанятый Ласточкин",type:Qt.INDIVIDUAL})],a={openingSides:[new tn({id:ge(),name:"Правая на себя",side:"right",opening:"inside"}),new tn({id:ge(),name:"Правая от себя",side:"right",opening:"outside"}),new tn({id:ge(),name:"Левая на себя",side:"left",opening:"inside"}),new tn({id:ge(),name:"Левая от себя",side:"left",opening:"outside"})],doorFrames:[new _n({id:ge(),name:"HANK REARDEN 59",width:42.2,height:36,length:5e3}),new _n({id:ge(),name:"RAGNAR DANNESKJOLD 42",width:52.5,height:28.2,length:5e3})],canvasConstructionTypes:[new bn({id:"torec",name:"Торец"}),new bn({id:"carcas",name:"Каркас"})],endFaceTypes:[new vn({id:ge(),name:"EddieWillers 42.1 | Прямой",width:42,height:7.75,length:5e3}),new vn({id:ge(),name:"Dagny Taggart 58.1 | С четвертью ",width:58,height:2.55,length:5e3})],profileMaterials:[new wn({id:ge(),name:"Алюминий"}),new wn({id:ge(),name:"Сталь"})],profileColors:[new nn({id:ge(),name:"Зеленый",color:"green"}),new nn({id:ge(),name:"Синий",color:"blue"}),new nn({id:ge(),name:"Серый",color:"gray"}),new nn({id:ge(),name:"Белый",color:"white"})],millingVersions:[new Cn({id:ge(),name:"6360/38"}),new Cn({id:ge(),name:"B-Forty N62 WC"})],hingesTypes:[new an({id:ge(),name:"Петля 20х120",width:20,height:120}),new an({id:ge(),name:"Петля 40х100",width:40,height:100}),new an({id:ge(),name:"Петля 50х100",width:50,height:100})]};return{managers:new Promise(s=>s(r)),workers:new Promise(s=>s(l)),companies:new Promise(s=>s(i)),paramsForCreatingBuildPiece:new Promise(s=>s(a))}},nr=Object.freeze(Object.defineProperty({__proto__:null,load:Bo},Symbol.toStringTag,{value:"Module"}));class Oo{constructor(e){nt(this,"id");nt(this,"text");nt(this,"img");nt(this,"colorClasses");this.id=e.id,this.text=e.text,this.img=e.img}}function yn(t,e,n){const o=t.slice();return o[23]=e[n],o}function Tn(t){let e,n,o;return n=new io({props:{class:"w-9 h-9  rounded-full bg-gray-100 text-green-500",src:t[5].img,alt:t[5].text}}),{c(){e=y("div"),G(n.$$.fragment),this.h()},l(r){e=T(r,"DIV",{class:!0});var l=E(e);Z(n.$$.fragment,l),l.forEach(_),this.h()},h(){f(e,"class","divide-x-2 pr-2 mr-2 border-r")},m(r,l){he(r,e,l),K(n,e,null),o=!0},p(r,l){const i={};l&32&&(i.src=r[5].img),l&32&&(i.alt=r[5].text),n.$set(i)},i(r){o||(O(n.$$.fragment,r),o=!0)},o(r){V(n.$$.fragment,r),o=!1},d(r){r&&_(e),Y(n)}}}function In(t){let e,n,o,r,l,i,a=t[23].text+"",s,d,h,p,C,g;r=new io({props:{class:"w-9 h-9  rounded-full bg-gray-100 text-green-500",src:t[23].img,alt:t[23].text}});function m(){return t[19](t[23])}return{c(){e=y("li"),n=y("a"),o=y("div"),G(r.$$.fragment),i=z(),s=W(a),h=z(),this.h()},l(c){e=T(c,"LI",{});var b=E(e);n=T(b,"A",{href:!0,class:!0});var F=E(n);o=T(F,"DIV",{class:!0});var S=E(o);Z(r.$$.fragment,S),S.forEach(_),i=R(F),s=L(F,a),F.forEach(_),h=R(b),b.forEach(_),this.h()},h(){o.hidden=l=!t[23].img,f(o,"class","divide-x-2 pr-2 mr-2 border-r"),f(n,"href","#"),f(n,"class",d="flex items-center px-4 py-2 dark:hover:bg-gray-600 dark:hover:text-white "+t[8](t[23]))},m(c,b){he(c,e,b),u(e,n),u(n,o),K(r,o,null),u(n,i),u(n,s),u(e,h),p=!0,C||(g=dt(n,"click",m),C=!0)},p(c,b){t=c;const F={};b&8&&(F.src=t[23].img),b&8&&(F.alt=t[23].text),r.$set(F),(!p||b&8&&l!==(l=!t[23].img))&&(o.hidden=l),(!p||b&8)&&a!==(a=t[23].text+"")&&Re(s,a),(!p||b&8&&d!==(d="flex items-center px-4 py-2 dark:hover:bg-gray-600 dark:hover:text-white "+t[8](t[23])))&&f(n,"class",d)},i(c){p||(O(r.$$.fragment,c),p=!0)},o(c){V(r.$$.fragment,c),p=!1},d(c){c&&_(e),Y(r),C=!1,g()}}}function zo(t){let e,n,o,r,l,i,a,s,d,h,p,C,g,m,c,b,F,S=t[1]&&t[5].img&&Tn(t),k=t[3],w=[];for(let q=0;q<k.length;q+=1)w[q]=In(yn(t,k,q));const I=q=>V(w[q],1,1,()=>{w[q]=null});return{c(){e=y("button"),n=y("div"),S&&S.c(),o=z(),r=y("input"),a=z(),s=rt("svg"),d=rt("path"),p=z(),C=y("div"),g=y("ul");for(let q=0;q<w.length;q+=1)w[q].c();this.h()},l(q){e=T(q,"BUTTON",{id:!0,class:!0,type:!0,title:!0});var v=E(e);n=T(v,"DIV",{class:!0});var $=E(n);S&&S.l($),o=R($),r=T($,"INPUT",{class:!0}),a=R($),s=st($,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var oe=E(s);d=st(oe,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),E(d).forEach(_),oe.forEach(_),$.forEach(_),v.forEach(_),p=R(q),C=T(q,"DIV",{id:!0,class:!0});var D=E(C);g=T(D,"UL",{class:!0,"aria-labelledby":!0});var X=E(g);for(let B=0;B<w.length;B+=1)w[B].l(X);X.forEach(_),D.forEach(_),this.h()},h(){f(r,"class",l="z-[-1] w-full bg-white "+t[4]),r.value=i=t[5].text,r.disabled=!0,f(d,"stroke","currentColor"),f(d,"stroke-linecap","round"),f(d,"stroke-linejoin","round"),f(d,"stroke-width","2"),f(d,"d","m1 1 4 4 4-4"),f(s,"class","w-2.5 h-2.5 ml-2.5"),f(s,"aria-hidden","true"),f(s,"xmlns","http://www.w3.org/2000/svg"),f(s,"fill","none"),f(s,"viewBox","0 0 10 6"),f(n,"class","relative z-1 bg-[transparent] inline-flex justify-between items-center"),f(e,"id","dropdownDefaultButton"),f(e,"class",h=t[5].classes+t[5].colorClasses+t[4]),f(e,"type","button"),f(e,"title",t[0]),e.disabled=t[2],f(g,"class","text-sm py-2 text-gray-700 dark:text-gray-200"),f(g,"aria-labelledby","dropdownDefaultButton"),f(C,"id","dropdown"),C.hidden=m=!t[6],f(C,"class","w-auto absolute z-10 bg-[white] divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700")},m(q,v){he(q,e,v),u(e,n),S&&S.m(n,null),u(n,o),u(n,r),u(n,a),u(n,s),u(s,d),t[17](e),he(q,p,v),he(q,C,v),u(C,g);for(let $=0;$<w.length;$+=1)w[$]&&w[$].m(g,null);c=!0,b||(F=[dt(window,"click",t[9]),dt(e,"click",t[18])],b=!0)},p(q,[v]){if(q[1]&&q[5].img?S?(S.p(q,v),v&34&&O(S,1)):(S=Tn(q),S.c(),O(S,1),S.m(n,o)):S&&(Ye(),V(S,1,1,()=>{S=null}),Je()),(!c||v&16&&l!==(l="z-[-1] w-full bg-white "+q[4]))&&f(r,"class",l),(!c||v&32&&i!==(i=q[5].text)&&r.value!==i)&&(r.value=i),(!c||v&48&&h!==(h=q[5].classes+q[5].colorClasses+q[4]))&&f(e,"class",h),(!c||v&1)&&f(e,"title",q[0]),(!c||v&4)&&(e.disabled=q[2]),v&1288){k=q[3];let $;for($=0;$<k.length;$+=1){const oe=yn(q,k,$);w[$]?(w[$].p(oe,v),O(w[$],1)):(w[$]=In(oe),w[$].c(),O(w[$],1),w[$].m(g,null))}for(Ye(),$=k.length;$<w.length;$+=1)I($);Je()}(!c||v&64&&m!==(m=!q[6]))&&(C.hidden=m)},i(q){if(!c){O(S);for(let v=0;v<k.length;v+=1)O(w[v]);c=!0}},o(q){V(S),w=w.filter(Boolean);for(let v=0;v<w.length;v+=1)V(w[v]);c=!1},d(q){q&&_(e),S&&S.d(),t[17](null),q&&_(p),q&&_(C),Kt(w,q),b=!1,rn(F)}}}function Ro(t,e,n){const o={optionSettings:{idField:"id",valueField:"id",textField:"name"}};let{id:r=""}=e,{title:l=""}=e,{placeholder:i=""}=e,{options:a=[]}=e,{value:s}=e,{disabled:d=!1}=e,{required:h=!1}=e,{onChange:p=void 0}=e,{optionSettings:C=o.optionSettings}=e;C=Object.assign({},o.optionSettings,C),l=l.length?l:i;const g=()=>s[C.imgField],m=D=>Array.isArray(C.textField)?C.textField.map(X=>D[X]).join(" | "):D[C.textField];let c=a.map(D=>new Oo({id:D[C.idField],img:D[C.imgField],text:m(D)})),b="",F={text:i,img:"",colorClasses:"text-gray",classes:"relative bg-[white] border border-[transparent] rounded-lg  text-sm z-0 ring-1 ring-gray-300 focus:shadow-outline focus:ring-blue-600 focus:border-blue-600 w-full mt-[1px] px-[12px] py-[7px] dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 "};sn(()=>{s&&s.id&&String(s.id).startsWith("empty_")&&n(1,s=void 0),n(5,F.colorClasses=s?" text-gray-900":"",F),n(5,F.img=s?g():"",F),n(3,c=[...c]),d===!0?(n(4,b+=" bg-gray-100 focus:bg-[white]"),n(5,F.text="-",F)):(n(5,F.text=s?m(s):i,F),n(4,b=""))});const S=D=>s&&D.id===s[C.idField]?" text-white bg-primary-500 ":" hover:bg-gray-200";let k=!1,w;const I=D=>{w.contains(D.target)==!1&&n(6,k=!1)},q=D=>{n(1,s=a.find(X=>X.id===D.id))};function v(D){le[D?"unshift":"push"](()=>{w=D,n(7,w)})}const $=()=>n(6,k=!k),oe=D=>q(D);return t.$$set=D=>{"id"in D&&n(12,r=D.id),"title"in D&&n(0,l=D.title),"placeholder"in D&&n(13,i=D.placeholder),"options"in D&&n(14,a=D.options),"value"in D&&n(1,s=D.value),"disabled"in D&&n(2,d=D.disabled),"required"in D&&n(15,h=D.required),"onChange"in D&&n(16,p=D.onChange),"optionSettings"in D&&n(11,C=D.optionSettings)},[l,s,d,c,b,F,k,w,S,I,q,C,r,i,a,h,p,v,$,oe]}class Vt extends He{constructor(e){super(),Ve(this,e,Ro,zo,Me,{id:12,title:0,placeholder:13,options:14,value:1,disabled:2,required:15,onChange:16,optionSettings:11})}}function Ho(t){let e,n;return{c(){e=y("div"),this.h()},l(o){e=T(o,"DIV",{id:!0,class:!0}),E(e).forEach(_),this.h()},h(){f(e,"id",n="drawContainer"+t[0].id),f(e,"class","flex flex-col overflow-auto max-w-[100%]")},m(o,r){he(o,e,r)},p(o,[r]){r&1&&n!==(n="drawContainer"+o[0].id)&&f(e,"id",n)},i:$e,o:$e,d(o){o&&_(e)}}}function Vo(t,e,n){let{processing:o}=e,{equipments:r}=e,{buildPiece:l}=e;return sn(()=>{const i=`drawContainer${l.id}`,a=document.getElementById(i);if(a){ho(a);const s=l.widthDoorCanvas+450,d=l.widthDoorCanvas/Fn.wDivider*3,h=l.heightDoorCanvas/Fn.hDivider+d;a.style.maxHeight="800px";const p=mo(a,s,h,!1);go(p,l,o,r),po(p,l,o,r)}}),t.$$set=i=>{"processing"in i&&n(1,o=i.processing),"equipments"in i&&n(2,r=i.equipments),"buildPiece"in i&&n(0,l=i.buildPiece)},[l,o,r]}class Mo extends He{constructor(e){super(),Ve(this,e,Vo,Ho,Me,{processing:1,equipments:2,buildPiece:0})}}function Ao(t){let e,n,o,r,l,i,a,s,d,h,p,C,g,m,c,b,F;const S=t[6].default,k=Fo(S,t,t[5],null);return{c(){e=y("div"),n=y("h2"),o=y("button"),r=y("span"),l=W(t[1]),i=z(),a=rt("svg"),s=rt("path"),h=z(),p=y("div"),C=y("div"),k&&k.c(),this.h()},l(w){e=T(w,"DIV",{id:!0,"data-accordion":!0});var I=E(e);n=T(I,"H2",{id:!0});var q=E(n);o=T(q,"BUTTON",{type:!0,class:!0,"data-accordion-target":!0,"aria-expanded":!0,"aria-controls":!0});var v=E(o);r=T(v,"SPAN",{});var $=E(r);l=L($,t[1]),$.forEach(_),i=R(v),a=st(v,"svg",{"data-accordion-icon":!0,class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var oe=E(a);s=st(oe,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),E(s).forEach(_),oe.forEach(_),v.forEach(_),q.forEach(_),h=R(I),p=T(I,"DIV",{id:!0,class:!0,"aria-labelledby":!0});var D=E(p);C=T(D,"DIV",{class:!0});var X=E(C);k&&k.l(X),X.forEach(_),D.forEach(_),I.forEach(_),this.h()},h(){f(s,"stroke","currentColor"),f(s,"stroke-linecap","round"),f(s,"stroke-linejoin","round"),f(s,"stroke-width","2"),f(s,"d","M9 5 5 1 1 5"),f(a,"data-accordion-icon",""),f(a,"class",d="w-3 h-3 "+(t[0]?"rotate-180":"")+" shrink-0"),f(a,"aria-hidden","true"),f(a,"xmlns","http://www.w3.org/2000/svg"),f(a,"fill","none"),f(a,"viewBox","0 0 10 6"),f(o,"type","button"),f(o,"class",t[2]),f(o,"data-accordion-target","#accordion-collapse-body-1"),f(o,"aria-expanded","true"),f(o,"aria-controls","accordion-collapse-body-1"),f(n,"id","accordion-collapse-heading-1"),f(C,"class","p-5 border border-gray-200 dark:border-gray-700 dark:bg-gray-900"),f(p,"id","accordion-collapse-body-1"),f(p,"class",g=t[0]?"":"hidden"),f(p,"aria-labelledby","accordion-collapse-heading-1"),f(e,"id","accordion-collapse"),f(e,"data-accordion",m=t[0]?"open":"collapse")},m(w,I){he(w,e,I),u(e,n),u(n,o),u(o,r),u(r,l),u(o,i),u(o,a),u(a,s),u(e,h),u(e,p),u(p,C),k&&k.m(C,null),c=!0,b||(F=dt(o,"click",t[7]),b=!0)},p(w,[I]){(!c||I&2)&&Re(l,w[1]),(!c||I&1&&d!==(d="w-3 h-3 "+(w[0]?"rotate-180":"")+" shrink-0"))&&f(a,"class",d),(!c||I&4)&&f(o,"class",w[2]),k&&k.p&&(!c||I&32)&&So(k,S,w,w[5],c?qo(S,w[5],I,null):Eo(w[5]),null),(!c||I&1&&g!==(g=w[0]?"":"hidden"))&&f(p,"class",g),(!c||I&1&&m!==(m=w[0]?"open":"collapse"))&&f(e,"data-accordion",m)},i(w){c||(O(k,w),c=!0)},o(w){V(k,w),c=!1},d(w){w&&_(e),k&&k.d(w),b=!1,F()}}}function Po(t,e,n){let{$$slots:o={},$$scope:r}=e,{title:l=""}=e,{classes:i=""}=e,{isOpen:a=!1}=e;const s=()=>n(0,a=!a);let d=`${i} flex items-center justify-between w-full p-5 font-medium text-left border border-gray-200 rounded-xl focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800`;const h=()=>s();return t.$$set=p=>{"title"in p&&n(1,l=p.title),"classes"in p&&n(4,i=p.classes),"isOpen"in p&&n(0,a=p.isOpen),"$$scope"in p&&n(5,r=p.$$scope)},t.$$.update=()=>{if(t.$$.dirty&5){const p="rounded-xl",C="rounded-t-xl",g=" bg-gray-100";a?(n(2,d=d.replace(p,C)),n(2,d+=g)):(n(2,d=d.replace(C,p)),n(2,d=d.replace(g,"")))}},[a,l,d,s,i,r,o,h]}class Yt extends He{constructor(e){super(),Ve(this,e,Po,Ao,Me,{title:1,classes:4,isOpen:0})}}function No(t){let e,n;return{c(){e=rt("svg"),n=rt("path"),this.h()},l(o){e=st(o,"svg",{class:!0,"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var r=E(e);n=st(r,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),E(n).forEach(_),r.forEach(_),this.h()},h(){f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-width","2"),f(n,"d","M1 5h16M7 8v8m4-8v8M7 1h4a1 1 0 0 1 1 1v3H6V2a1 1 0 0 1 1-1ZM3 5h12v13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V5Z"),f(e,"class",t[0]),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","0 0 20 20"),f(e,"width","18"),f(e,"data-view-component","true")},m(o,r){he(o,e,r),u(e,n)},p(o,[r]){r&1&&f(e,"class",o[0])},i:$e,o:$e,d(o){o&&_(e)}}}function $o(t,e,n){let{class:o=""}=e;return t.$$set=r=>{"class"in r&&n(0,o=r.class)},[o]}class Wo extends He{constructor(e){super(),Ve(this,e,$o,No,Me,{class:0})}}function Lo(t){let e,n;return{c(){e=rt("svg"),n=rt("path"),this.h()},l(o){e=st(o,"svg",{"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var r=E(e);n=st(r,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),E(n).forEach(_),r.forEach(_),this.h()},h(){f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-width","2"),f(n,"d","M11 14h6m-3 3v-6M1.857 1h4.286c.473 0 .857.384.857.857v4.286A.857.857 0 0 1 6.143 7H1.857A.857.857 0 0 1 1 6.143V1.857C1 1.384 1.384 1 1.857 1Zm10 0h4.286c.473 0 .857.384.857.857v4.286a.857.857 0 0 1-.857.857h-4.286A.857.857 0 0 1 11 6.143V1.857c0-.473.384-.857.857-.857Zm-10 10h4.286c.473 0 .857.384.857.857v4.286a.857.857 0 0 1-.857.857H1.857A.857.857 0 0 1 1 16.143v-4.286c0-.473.384-.857.857-.857Z"),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","0 0 20 20"),f(e,"width","18"),f(e,"data-view-component","true")},m(o,r){he(o,e,r),u(e,n)},p:$e,i:$e,o:$e,d(o){o&&_(e)}}}class jo extends He{constructor(e){super(),Ve(this,e,null,Lo,Me,{})}}function Uo(t){let e,n;return{c(){e=rt("svg"),n=rt("path"),this.h()},l(o){e=st(o,"svg",{class:!0,"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var r=E(e);n=st(r,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),E(n).forEach(_),r.forEach(_),this.h()},h(){f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"stroke-width","2"),f(n,"d","m7.708 2.292.706-.706A2 2 0 0 1 9.828 1h6.239A.97.97 0 0 1 17 2v12a.97.97 0 0 1-.933 1H15M6 5v4a1 1 0 0 1-1 1H1m11-4v12a.97.97 0 0 1-.933 1H1.933A.97.97 0 0 1 1 18V9.828a2 2 0 0 1 .586-1.414l2.828-2.828A2 2 0 0 1 5.828 5h5.239A.97.97 0 0 1 12 6Z"),f(e,"class",t[0]),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","0 0 20 20"),f(e,"width","18"),f(e,"data-view-component","true")},m(o,r){he(o,e,r),u(e,n)},p(o,[r]){r&1&&f(e,"class",o[0])},i:$e,o:$e,d(o){o&&_(e)}}}function Xo(t,e,n){let{class:o=""}=e;return t.$$set=r=>{"class"in r&&n(0,o=r.class)},[o]}class Go extends He{constructor(e){super(),Ve(this,e,Xo,Uo,Me,{class:0})}}function Bn(t,e,n){const o=t.slice();return o[25]=e[n],o[26]=e,o[27]=n,o}function On(t){let e,n;return e=new Mo({props:{buildPiece:t[25],equipments:t[9],processing:t[8]}}),{c(){G(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,r){K(e,o,r),n=!0},p(o,r){const l={};r&1&&(l.buildPiece=o[25]),r&512&&(l.equipments=o[9]),r&256&&(l.processing=o[8]),e.$set(l)},i(o){n||(O(e.$$.fragment,o),n=!0)},o(o){V(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Zo(t){let e,n,o=t[25]&&On(t);return{c(){o&&o.c(),e=Xt()},l(r){o&&o.l(r),e=Xt()},m(r,l){o&&o.m(r,l),he(r,e,l),n=!0},p(r,l){r[25]?o?(o.p(r,l),l&1&&O(o,1)):(o=On(r),o.c(),O(o,1),o.m(e.parentNode,e)):o&&(Ye(),V(o,1,1,()=>{o=null}),Je())},i(r){n||(O(o),n=!0)},o(r){V(o),n=!1},d(r){o&&o.d(r),r&&_(e)}}}function zn(t){let e,n,o=t[27]+1+"",r,l,i,a,s,d,h,p,C,g,m,c,b,F,S,k,w,I,q,v,$,oe,D,X,B,ie,x,ne,ue,A,ee,H,J,re,U,de,ve,se,ae,me,Fe,M,N,j,Se,ze,ye,pe,we,Ie,Ae,Be,Pe,Qe,Ge,Ze;function Et(Q){t[13](Q,t[25])}let xe={id:"heightPiece",type:"number",disabled:!t[9].hasDoorBox,placeholder:"Введите высоту полотна...",numSettings:{min:1},required:!0};t[25].heightDoorCanvas!==void 0&&(xe.value=t[25].heightDoorCanvas),a=new jt({props:xe}),le.push(()=>fe(a,"value",Et));function et(Q){t[14](Q,t[25])}let Ft={id:"widthPiece",type:"number",disabled:!t[9].hasDoorBox,placeholder:"Введите ширину полотна...",numSettings:{min:1},required:!0};t[25].widthDoorCanvas!==void 0&&(Ft.value=t[25].widthDoorCanvas),p=new jt({props:Ft}),le.push(()=>fe(p,"value",et));function tt(Q){t[15](Q,t[25])}let It={id:"openingSide",disabled:!t[9].hasDoorBox,placeholder:"Выберите сторону открывания...",options:t[1],required:!0};t[25].openingSide!==void 0&&(It.value=t[25].openingSide),c=new Vt({props:It}),le.push(()=>fe(c,"value",tt));function Bt(Q){t[16](Q,t[25])}let bt={id:"typeEndFace",placeholder:"Выберите тип торца...",disabled:!t[9].hasEndFaceOrFrameCanvas,options:t[4],optionSettings:{textField:["name","width"]},required:!0};t[25].typeEndFace!==void 0&&(bt.value=t[25].typeEndFace),k=new Vt({props:bt}),le.push(()=>fe(k,"value",Bt));function Ot(Q){t[17](Q,t[25])}let ot={id:"doorFrame",placeholder:"Выберите профиль коробки...",disabled:!t[9].hasDoorBox,optionSettings:{textField:["name","height","width","length"]},options:t[2],required:!0};t[25].doorFrame!==void 0&&(ot.value=t[25].doorFrame),v=new Vt({props:ot}),le.push(()=>fe(v,"value",Ot));function ht(Q){t[18](Q,t[25])}let zt={id:"typeHinge",placeholder:"Выберите вариант петель...",disabled:!t[9].hasHinges,options:t[3],required:!0};t[25].typeHinge!==void 0&&(zt.value=t[25].typeHinge),X=new Vt({props:zt}),le.push(()=>fe(X,"value",ht));function qt(Q){t[19](Q,t[25])}let Rt={id:"volumeHinges",type:"number",placeholder:"Введите количество петель...",disabled:!t[9].hasHinges,numSettings:{min:0},required:!0};t[25].volumeHinges!==void 0&&(Rt.value=t[25].volumeHinges),ne=new jt({props:Rt}),le.push(()=>fe(ne,"value",qt));function Pt(Q){t[20](Q,t[25])}let mt={id:"profileColor",placeholder:"Выберите материал...",disabled:!t[9].hasHinges&&!t[9].hasEndFaceOrFrameCanvas&&!t[9].hasLockAndResponse,options:t[6],required:!0};t[25].profileMaterial!==void 0&&(mt.value=t[25].profileMaterial),H=new Vt({props:mt}),le.push(()=>fe(H,"value",Pt));function Ee(Q){t[21](Q,t[25])}let $t={id:"profileColor",placeholder:"Выберите покрытие...",disabled:!t[9].hasHinges&&!t[9].hasEndFaceOrFrameCanvas&&!t[9].hasLockAndResponse,options:t[5],required:!0};t[25].profileColor!==void 0&&($t.value=t[25].profileColor),de=new Vt({props:$t}),le.push(()=>fe(de,"value",Ee));function qe(Q){t[22](Q,t[25])}let Ne={id:"millingVersion",placeholder:"Выберите фрезеровку...",disabled:!0,options:t[7],required:!0};t[25].millingVersion!==void 0&&(Ne.value=t[25].millingVersion),me=new Vt({props:Ne}),le.push(()=>fe(me,"value",qe)),Se=new Go({props:{class:"w-4 h-4"}});function Ce(){return t[23](t[25])}pe=new Wo({props:{class:"w-4 h-4"}});function ke(){return t[24](t[25])}return Be=new Yt({props:{title:"Схема для строки №"+(t[27]+1),classes:"mt-2.5 relative",$$slots:{default:[Zo]},$$scope:{ctx:t}}}),{c(){e=y("tr"),n=y("th"),r=W(o),l=z(),i=y("td"),G(a.$$.fragment),d=z(),h=y("td"),G(p.$$.fragment),g=z(),m=y("td"),G(c.$$.fragment),F=z(),S=y("td"),G(k.$$.fragment),I=z(),q=y("td"),G(v.$$.fragment),oe=z(),D=y("td"),G(X.$$.fragment),ie=z(),x=y("td"),G(ne.$$.fragment),A=z(),ee=y("td"),G(H.$$.fragment),re=z(),U=y("td"),G(de.$$.fragment),se=z(),ae=y("td"),G(me.$$.fragment),M=z(),N=y("td"),j=y("button"),G(Se.$$.fragment),ze=z(),ye=y("button"),G(pe.$$.fragment),we=z(),Ie=y("tr"),Ae=y("td"),G(Be.$$.fragment),Pe=z(),this.h()},l(Q){e=T(Q,"TR",{class:!0});var te=E(e);n=T(te,"TH",{scope:!0,class:!0});var be=E(n);r=L(be,o),be.forEach(_),l=R(te),i=T(te,"TD",{class:!0});var vt=E(i);Z(a.$$.fragment,vt),vt.forEach(_),d=R(te),h=T(te,"TD",{class:!0});var at=E(h);Z(p.$$.fragment,at),at.forEach(_),g=R(te),m=T(te,"TD",{class:!0});var gt=E(m);Z(c.$$.fragment,gt),gt.forEach(_),F=R(te),S=T(te,"TD",{class:!0});var lt=E(S);Z(k.$$.fragment,lt),lt.forEach(_),I=R(te),q=T(te,"TD",{class:!0});var Oe=E(q);Z(v.$$.fragment,Oe),Oe.forEach(_),oe=R(te),D=T(te,"TD",{class:!0});var pt=E(D);Z(X.$$.fragment,pt),pt.forEach(_),ie=R(te),x=T(te,"TD",{class:!0});var P=E(x);Z(ne.$$.fragment,P),P.forEach(_),A=R(te),ee=T(te,"TD",{class:!0});var _e=E(ee);Z(H.$$.fragment,_e),_e.forEach(_),re=R(te),U=T(te,"TD",{class:!0});var We=E(U);Z(de.$$.fragment,We),We.forEach(_),se=R(te),ae=T(te,"TD",{class:!0});var Ue=E(ae);Z(me.$$.fragment,Ue),Ue.forEach(_),M=R(te),N=T(te,"TD",{class:!0});var it=E(N);j=T(it,"BUTTON",{type:!0,title:!0,class:!0});var _t=E(j);Z(Se.$$.fragment,_t),_t.forEach(_),ze=R(it),ye=T(it,"BUTTON",{type:!0,title:!0,class:!0});var De=E(ye);Z(pe.$$.fragment,De),De.forEach(_),it.forEach(_),te.forEach(_),we=R(Q),Ie=T(Q,"TR",{});var ut=E(Ie);Ae=T(ut,"TD",{colspan:!0});var Ke=E(Ae);Z(Be.$$.fragment,Ke),Ke.forEach(_),Pe=R(ut),ut.forEach(_),this.h()},h(){f(n,"scope","row"),f(n,"class","px-3 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"),f(i,"class","px-2 py-4"),f(h,"class","px-2 py-4 border-r"),f(m,"class","px-3 py-4"),f(S,"class","px-3 py-4"),f(q,"class","px-3 py-4"),f(D,"class","px-3 py-4"),f(x,"class","px-3 py-4"),f(ee,"class","px-3 py-4"),f(U,"class","px-3 py-4"),f(ae,"class","px-3 py-4"),f(j,"type","button"),f(j,"title","Клонировать строку"),f(j,"class","px-3 py-2 text-xl text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg"),f(ye,"type","button"),f(ye,"title","Удалить строку"),f(ye,"class","px-3 py-2 text-xl text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg"),f(N,"class","px-3 py-4 inline-flex gap-2"),f(e,"class","border-b dark:bg-gray-700 dark:border-gray-600 hover:bg-[gray]/5 dark:hover:bg-gray-600"),f(Ae,"colspan","20")},m(Q,te){he(Q,e,te),u(e,n),u(n,r),u(e,l),u(e,i),K(a,i,null),u(e,d),u(e,h),K(p,h,null),u(e,g),u(e,m),K(c,m,null),u(e,F),u(e,S),K(k,S,null),u(e,I),u(e,q),K(v,q,null),u(e,oe),u(e,D),K(X,D,null),u(e,ie),u(e,x),K(ne,x,null),u(e,A),u(e,ee),K(H,ee,null),u(e,re),u(e,U),K(de,U,null),u(e,se),u(e,ae),K(me,ae,null),u(e,M),u(e,N),u(N,j),K(Se,j,null),u(N,ze),u(N,ye),K(pe,ye,null),he(Q,we,te),he(Q,Ie,te),u(Ie,Ae),K(Be,Ae,null),u(Ie,Pe),Qe=!0,Ge||(Ze=[dt(j,"click",Ce),dt(ye,"click",ke)],Ge=!0)},p(Q,te){t=Q;const be={};te&512&&(be.disabled=!t[9].hasDoorBox),!s&&te&1&&(s=!0,be.value=t[25].heightDoorCanvas,ce(()=>s=!1)),a.$set(be);const vt={};te&512&&(vt.disabled=!t[9].hasDoorBox),!C&&te&1&&(C=!0,vt.value=t[25].widthDoorCanvas,ce(()=>C=!1)),p.$set(vt);const at={};te&512&&(at.disabled=!t[9].hasDoorBox),te&2&&(at.options=t[1]),!b&&te&1&&(b=!0,at.value=t[25].openingSide,ce(()=>b=!1)),c.$set(at);const gt={};te&512&&(gt.disabled=!t[9].hasEndFaceOrFrameCanvas),te&16&&(gt.options=t[4]),!w&&te&1&&(w=!0,gt.value=t[25].typeEndFace,ce(()=>w=!1)),k.$set(gt);const lt={};te&512&&(lt.disabled=!t[9].hasDoorBox),te&4&&(lt.options=t[2]),!$&&te&1&&($=!0,lt.value=t[25].doorFrame,ce(()=>$=!1)),v.$set(lt);const Oe={};te&512&&(Oe.disabled=!t[9].hasHinges),te&8&&(Oe.options=t[3]),!B&&te&1&&(B=!0,Oe.value=t[25].typeHinge,ce(()=>B=!1)),X.$set(Oe);const pt={};te&512&&(pt.disabled=!t[9].hasHinges),!ue&&te&1&&(ue=!0,pt.value=t[25].volumeHinges,ce(()=>ue=!1)),ne.$set(pt);const P={};te&512&&(P.disabled=!t[9].hasHinges&&!t[9].hasEndFaceOrFrameCanvas&&!t[9].hasLockAndResponse),te&64&&(P.options=t[6]),!J&&te&1&&(J=!0,P.value=t[25].profileMaterial,ce(()=>J=!1)),H.$set(P);const _e={};te&512&&(_e.disabled=!t[9].hasHinges&&!t[9].hasEndFaceOrFrameCanvas&&!t[9].hasLockAndResponse),te&32&&(_e.options=t[5]),!ve&&te&1&&(ve=!0,_e.value=t[25].profileColor,ce(()=>ve=!1)),de.$set(_e);const We={};te&128&&(We.options=t[7]),!Fe&&te&1&&(Fe=!0,We.value=t[25].millingVersion,ce(()=>Fe=!1)),me.$set(We);const Ue={};te&268436225&&(Ue.$$scope={dirty:te,ctx:t}),Be.$set(Ue)},i(Q){Qe||(O(a.$$.fragment,Q),O(p.$$.fragment,Q),O(c.$$.fragment,Q),O(k.$$.fragment,Q),O(v.$$.fragment,Q),O(X.$$.fragment,Q),O(ne.$$.fragment,Q),O(H.$$.fragment,Q),O(de.$$.fragment,Q),O(me.$$.fragment,Q),O(Se.$$.fragment,Q),O(pe.$$.fragment,Q),O(Be.$$.fragment,Q),Qe=!0)},o(Q){V(a.$$.fragment,Q),V(p.$$.fragment,Q),V(c.$$.fragment,Q),V(k.$$.fragment,Q),V(v.$$.fragment,Q),V(X.$$.fragment,Q),V(ne.$$.fragment,Q),V(H.$$.fragment,Q),V(de.$$.fragment,Q),V(me.$$.fragment,Q),V(Se.$$.fragment,Q),V(pe.$$.fragment,Q),V(Be.$$.fragment,Q),Qe=!1},d(Q){Q&&_(e),Y(a),Y(p),Y(c),Y(k),Y(v),Y(X),Y(ne),Y(H),Y(de),Y(me),Y(Se),Y(pe),Q&&_(we),Q&&_(Ie),Y(Be),Ge=!1,rn(Ze)}}}function Ko(t){let e,n,o,r,l,i,a,s,d,h,p,C,g,m,c,b,F,S,k,w,I,q,v,$,oe,D,X,B,ie,x,ne,ue,A,ee,H,J,re,U,de,ve,se,ae,me,Fe,M,N,j,Se,ze,ye,pe,we,Ie,Ae,Be,Pe,Qe,Ge,Ze,Et,xe,et,Ft,tt,It,Bt,bt,Ot,ot,ht,zt,qt,Rt,Pt,mt=t[0],Ee=[];for(let qe=0;qe<mt.length;qe+=1)Ee[qe]=zn(Bn(t,mt,qe));const $t=qe=>V(Ee[qe],1,1,()=>{Ee[qe]=null});return ht=new jo({}),{c(){e=y("section"),n=y("div"),o=y("h2"),r=W("Список требуемых деталей"),l=z(),i=y("table"),a=y("thead"),s=y("tr"),d=y("th"),h=W("Полотно"),p=z(),C=y("th"),g=W("Коробка"),m=z(),c=y("th"),b=W("Фурнитура"),F=z(),S=y("th"),k=W("Дополнительно"),w=z(),I=y("th"),q=z(),v=y("tr"),$=y("th"),oe=W("№"),D=z(),X=y("th"),B=W("Размер"),ie=z(),x=y("th"),ne=W("Сторона открывания"),ue=z(),A=y("th"),ee=W("Торец"),H=z(),J=y("th"),re=W("Профиль"),U=z(),de=y("th"),ve=W("Петли"),se=z(),ae=y("th"),me=W("Фрезеровка"),Fe=z(),M=y("tr"),N=y("th"),j=W("Высота, мм"),Se=z(),ze=y("th"),ye=W("Ширина, мм"),pe=z(),we=y("th"),Ie=W("Тип"),Ae=z(),Be=y("th"),Pe=W("Тип"),Qe=z(),Ge=y("th"),Ze=W("Количество"),Et=z(),xe=y("th"),et=W("Материал"),Ft=z(),tt=y("th"),It=W("Покрытие"),Bt=z(),bt=y("tbody");for(let qe=0;qe<Ee.length;qe+=1)Ee[qe].c();Ot=z(),ot=y("button"),G(ht.$$.fragment),zt=W(" Добавить строку"),this.h()},l(qe){e=T(qe,"SECTION",{class:!0});var Ne=E(e);n=T(Ne,"DIV",{class:!0});var Ce=E(n);o=T(Ce,"H2",{class:!0});var ke=E(o);r=L(ke,"Список требуемых деталей"),ke.forEach(_),l=R(Ce),i=T(Ce,"TABLE",{class:!0});var Q=E(i);a=T(Q,"THEAD",{class:!0});var te=E(a);s=T(te,"TR",{});var be=E(s);d=T(be,"TH",{scope:!0,colspan:!0,class:!0});var vt=E(d);h=L(vt,"Полотно"),vt.forEach(_),p=R(be),C=T(be,"TH",{scope:!0,colspan:!0,class:!0});var at=E(C);g=L(at,"Коробка"),at.forEach(_),m=R(be),c=T(be,"TH",{scope:!0,rowspan:!0,colspan:!0,class:!0});var gt=E(c);b=L(gt,"Фурнитура"),gt.forEach(_),F=R(be),S=T(be,"TH",{scope:!0,colspan:!0,class:!0});var lt=E(S);k=L(lt,"Дополнительно"),lt.forEach(_),w=R(be),I=T(be,"TH",{scope:!0,rowspan:!0,class:!0}),E(I).forEach(_),be.forEach(_),q=R(te),v=T(te,"TR",{});var Oe=E(v);$=T(Oe,"TH",{scope:!0,rowspan:!0,class:!0});var pt=E($);oe=L(pt,"№"),pt.forEach(_),D=R(Oe),X=T(Oe,"TH",{scope:!0,colspan:!0,class:!0});var P=E(X);B=L(P,"Размер"),P.forEach(_),ie=R(Oe),x=T(Oe,"TH",{scope:!0,rowspan:!0,class:!0});var _e=E(x);ne=L(_e,"Сторона открывания"),_e.forEach(_),ue=R(Oe),A=T(Oe,"TH",{scope:!0,colspan:!0,class:!0});var We=E(A);ee=L(We,"Торец"),We.forEach(_),H=R(Oe),J=T(Oe,"TH",{scope:!0,rowspan:!0,class:!0});var Ue=E(J);re=L(Ue,"Профиль"),Ue.forEach(_),U=R(Oe),de=T(Oe,"TH",{scope:!0,colspan:!0,class:!0});var it=E(de);ve=L(it,"Петли"),it.forEach(_),se=R(Oe),ae=T(Oe,"TH",{scope:!0,rowspan:!0,class:!0});var _t=E(ae);me=L(_t,"Фрезеровка"),_t.forEach(_),Oe.forEach(_),Fe=R(te),M=T(te,"TR",{});var De=E(M);N=T(De,"TH",{class:!0});var ut=E(N);j=L(ut,"Высота, мм"),ut.forEach(_),Se=R(De),ze=T(De,"TH",{class:!0});var Ke=E(ze);ye=L(Ke,"Ширина, мм"),Ke.forEach(_),pe=R(De),we=T(De,"TH",{scope:!0,rowspan:!0,class:!0});var kt=E(we);Ie=L(kt,"Тип"),kt.forEach(_),Ae=R(De),Be=T(De,"TH",{scope:!0,rowspan:!0,class:!0});var wt=E(Be);Pe=L(wt,"Тип"),wt.forEach(_),Qe=R(De),Ge=T(De,"TH",{scope:!0,rowspan:!0,class:!0});var Ct=E(Ge);Ze=L(Ct,"Количество"),Ct.forEach(_),Et=R(De),xe=T(De,"TH",{scope:!0,rowspan:!0,class:!0});var Xe=E(xe);et=L(Xe,"Материал"),Xe.forEach(_),Ft=R(De),tt=T(De,"TH",{scope:!0,rowspan:!0,class:!0});var Dt=E(tt);It=L(Dt,"Покрытие"),Dt.forEach(_),De.forEach(_),te.forEach(_),Bt=R(Q),bt=T(Q,"TBODY",{});var ft=E(bt);for(let Ht=0;Ht<Ee.length;Ht+=1)Ee[Ht].l(ft);ft.forEach(_),Q.forEach(_),Ot=R(Ce),ot=T(Ce,"BUTTON",{type:!0,class:!0});var Wt=E(ot);Z(ht.$$.fragment,Wt),zt=L(Wt," Добавить строку"),Wt.forEach(_),Ce.forEach(_),Ne.forEach(_),this.h()},h(){f(o,"class","mb-4 text-[28px] font-bold text-gray-900 dark:text-white"),f(d,"scope","col"),f(d,"colspan","5"),f(d,"class",Le),f(C,"scope","col"),f(C,"colspan","3"),f(C,"class",Le),f(c,"scope","col"),f(c,"rowspan","2"),f(c,"colspan","2"),f(c,"class",Le),f(S,"scope","col"),f(S,"colspan","1"),f(S,"class",Le),f(I,"scope","col"),f(I,"rowspan","3"),f(I,"class",Le),f($,"scope","col"),f($,"rowspan","2"),f($,"class",Le+ct),f(X,"scope","col"),f(X,"colspan","2"),f(X,"class",Le+ct),f(x,"scope","col"),f(x,"rowspan","2"),f(x,"class",Le+ct),f(A,"scope","col"),f(A,"colspan","1"),f(A,"class",Le),f(J,"scope","col"),f(J,"rowspan","2"),f(J,"class",Le+ct),f(de,"scope","col"),f(de,"colspan","2"),f(de,"class",Le+ct),f(ae,"scope","col"),f(ae,"rowspan","2"),f(ae,"class",Le+ct),f(N,"class","min-w-[100px] "+(Le+ct)),f(ze,"class","min-w-[100px] "+(Le+ct)),f(we,"scope","col"),f(we,"rowspan","2"),f(we,"class",Le+ct),f(Be,"scope","col"),f(Be,"rowspan","2"),f(Be,"class",Le+ct),f(Ge,"scope","col"),f(Ge,"rowspan","2"),f(Ge,"class",Le+ct),f(xe,"scope","col"),f(xe,"rowspan","2"),f(xe,"class",Le+ct),f(tt,"scope","col"),f(tt,"rowspan","2"),f(tt,"class",Le+ct),f(a,"class","text-gray-600 dark:text-gray-400"),f(i,"class","text-left text-gray-500 dark:text-gray-400"),f(ot,"type","button"),f(ot,"class","gap-2 inline-flex items-center mt-4 sm:mt-6 float-right px-3 py-2 text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm"),f(n,"class","p-4 mx-auto"),f(e,"class","overflow-auto lg:overflow-hidden animate__animated animate__fadeInDown animate__slower dark:bg-gray-900")},m(qe,Ne){he(qe,e,Ne),u(e,n),u(n,o),u(o,r),u(n,l),u(n,i),u(i,a),u(a,s),u(s,d),u(d,h),u(s,p),u(s,C),u(C,g),u(s,m),u(s,c),u(c,b),u(s,F),u(s,S),u(S,k),u(s,w),u(s,I),u(a,q),u(a,v),u(v,$),u($,oe),u(v,D),u(v,X),u(X,B),u(v,ie),u(v,x),u(x,ne),u(v,ue),u(v,A),u(A,ee),u(v,H),u(v,J),u(J,re),u(v,U),u(v,de),u(de,ve),u(v,se),u(v,ae),u(ae,me),u(a,Fe),u(a,M),u(M,N),u(N,j),u(M,Se),u(M,ze),u(ze,ye),u(M,pe),u(M,we),u(we,Ie),u(M,Ae),u(M,Be),u(Be,Pe),u(M,Qe),u(M,Ge),u(Ge,Ze),u(M,Et),u(M,xe),u(xe,et),u(M,Ft),u(M,tt),u(tt,It),u(i,Bt),u(i,bt);for(let Ce=0;Ce<Ee.length;Ce+=1)Ee[Ce]&&Ee[Ce].m(bt,null);u(n,Ot),u(n,ot),K(ht,ot,null),u(ot,zt),qt=!0,Rt||(Pt=dt(ot,"click",function(){ko(t[10])&&t[10].apply(this,arguments)}),Rt=!0)},p(qe,[Ne]){if(t=qe,Ne&7167){mt=t[0];let Ce;for(Ce=0;Ce<mt.length;Ce+=1){const ke=Bn(t,mt,Ce);Ee[Ce]?(Ee[Ce].p(ke,Ne),O(Ee[Ce],1)):(Ee[Ce]=zn(ke),Ee[Ce].c(),O(Ee[Ce],1),Ee[Ce].m(bt,null))}for(Ye(),Ce=mt.length;Ce<Ee.length;Ce+=1)$t(Ce);Je()}},i(qe){if(!qt){for(let Ne=0;Ne<mt.length;Ne+=1)O(Ee[Ne]);O(ht.$$.fragment,qe),qt=!0}},o(qe){Ee=Ee.filter(Boolean);for(let Ne=0;Ne<Ee.length;Ne+=1)V(Ee[Ne]);V(ht.$$.fragment,qe),qt=!1},d(qe){qe&&_(e),Kt(Ee,qe),Y(ht),Rt=!1,Pt()}}}const ct=" font-normal",Le="p-3 text-center bg-gray-50 dark:bg-gray-600 border-2 ";function Yo(t,e,n){let{openingSides:o=[]}=e,{doorFrames:r=[]}=e,{hingesTypes:l=[]}=e,{endFaceTypes:i=[]}=e,{profileColors:a=[]}=e,{profileMaterials:s=[]}=e,{millingVersions:d=[]}=e,{buildPieces:h=[]}=e,{processing:p}=e,{equipments:C}=e,{addBuildPiece:g}=e,{copyBuildPiece:m}=e,{removeBuildPiece:c}=e;function b(B,ie){t.$$.not_equal(ie.heightDoorCanvas,B)&&(ie.heightDoorCanvas=B,n(0,h))}function F(B,ie){t.$$.not_equal(ie.widthDoorCanvas,B)&&(ie.widthDoorCanvas=B,n(0,h))}function S(B,ie){t.$$.not_equal(ie.openingSide,B)&&(ie.openingSide=B,n(0,h))}function k(B,ie){t.$$.not_equal(ie.typeEndFace,B)&&(ie.typeEndFace=B,n(0,h))}function w(B,ie){t.$$.not_equal(ie.doorFrame,B)&&(ie.doorFrame=B,n(0,h))}function I(B,ie){t.$$.not_equal(ie.typeHinge,B)&&(ie.typeHinge=B,n(0,h))}function q(B,ie){t.$$.not_equal(ie.volumeHinges,B)&&(ie.volumeHinges=B,n(0,h))}function v(B,ie){t.$$.not_equal(ie.profileMaterial,B)&&(ie.profileMaterial=B,n(0,h))}function $(B,ie){t.$$.not_equal(ie.profileColor,B)&&(ie.profileColor=B,n(0,h))}function oe(B,ie){t.$$.not_equal(ie.millingVersion,B)&&(ie.millingVersion=B,n(0,h))}const D=B=>m(B.id),X=B=>c(B.id);return t.$$set=B=>{"openingSides"in B&&n(1,o=B.openingSides),"doorFrames"in B&&n(2,r=B.doorFrames),"hingesTypes"in B&&n(3,l=B.hingesTypes),"endFaceTypes"in B&&n(4,i=B.endFaceTypes),"profileColors"in B&&n(5,a=B.profileColors),"profileMaterials"in B&&n(6,s=B.profileMaterials),"millingVersions"in B&&n(7,d=B.millingVersions),"buildPieces"in B&&n(0,h=B.buildPieces),"processing"in B&&n(8,p=B.processing),"equipments"in B&&n(9,C=B.equipments),"addBuildPiece"in B&&n(10,g=B.addBuildPiece),"copyBuildPiece"in B&&n(11,m=B.copyBuildPiece),"removeBuildPiece"in B&&n(12,c=B.removeBuildPiece)},[h,o,r,l,i,a,s,d,p,C,g,m,c,b,F,S,k,w,I,q,v,$,oe,D,X]}class Jo extends He{constructor(e){super(),Ve(this,e,Yo,Ko,Me,{openingSides:1,doorFrames:2,hingesTypes:3,endFaceTypes:4,profileColors:5,profileMaterials:6,millingVersions:7,buildPieces:0,processing:8,equipments:9,addBuildPiece:10,copyBuildPiece:11,removeBuildPiece:12})}}function Rn(t,e,n){const o=t.slice();return o[12]=e[n],o[13]=e,o[14]=n,o}function Hn(t){let e,n,o,r,l,i,a,s,d,h,p,C,g,m,c,b,F,S,k,w,I,q,v,$,oe,D,X;function B(M){t[2](M)}let ie={id:"doorBox",label:"Дверная коробка",type:"checkbox",required:!0};t[1].hasDoorBox!==void 0&&(ie.value=t[1].hasDoorBox),o=new Te({props:ie}),le.push(()=>fe(o,"value",B));function x(M){t[3](M)}let ne={id:"hasEndFaceOrFrameCanvas",label:"Торец/Каркас полотна",type:"checkbox",required:!0};t[1].hasEndFaceOrFrameCanvas!==void 0&&(ne.value=t[1].hasEndFaceOrFrameCanvas),i=new Te({props:ne}),le.push(()=>fe(i,"value",x));let ue=t[1].hasEndFaceOrFrameCanvas&&Vn(t);function A(M){t[6](M)}let ee={id:"hinges",label:"Петли",type:"checkbox",required:!0};t[1].hasHinges!==void 0&&(ee.value=t[1].hasHinges),h=new Te({props:ee}),le.push(()=>fe(h,"value",A));function H(M){t[7](M)}let J={id:"lock",label:"Замок и ответка",type:"checkbox",required:!0};t[1].hasLockAndResponse!==void 0&&(J.value=t[1].hasLockAndResponse),g=new Te({props:J}),le.push(()=>fe(g,"value",H));function re(M){t[8](M)}let U={id:"sealer",label:"Уплотнитель",type:"checkbox",required:!0};t[1].hasSealer!==void 0&&(U.value=t[1].hasSealer),b=new Te({props:U}),le.push(()=>fe(b,"value",re));function de(M){t[9](M)}let ve={id:"corners",label:"Сухари/уголки для сборки",type:"checkbox",required:!0};t[1].hasCorners!==void 0&&(ve.value=t[1].hasCorners),k=new Te({props:ve}),le.push(()=>fe(k,"value",de));function se(M){t[10](M)}let ae={id:"mountingPlates",label:"Монтажные пластины",type:"checkbox",required:!0};t[1].hasMountingPlates!==void 0&&(ae.value=t[1].hasMountingPlates),q=new Te({props:ae}),le.push(()=>fe(q,"value",se));function me(M){t[11](M)}let Fe={id:"plasterMesh",label:"Штукатурная сетка",type:"checkbox",required:!0};return t[1].hasPlasterMesh!==void 0&&(Fe.value=t[1].hasPlasterMesh),oe=new Te({props:Fe}),le.push(()=>fe(oe,"value",me)),{c(){e=y("form"),n=y("div"),G(o.$$.fragment),l=z(),G(i.$$.fragment),s=z(),ue&&ue.c(),d=z(),G(h.$$.fragment),C=z(),G(g.$$.fragment),c=z(),G(b.$$.fragment),S=z(),G(k.$$.fragment),I=z(),G(q.$$.fragment),$=z(),G(oe.$$.fragment),this.h()},l(M){e=T(M,"FORM",{action:!0});var N=E(e);n=T(N,"DIV",{class:!0});var j=E(n);Z(o.$$.fragment,j),l=R(j),Z(i.$$.fragment,j),s=R(j),ue&&ue.l(j),d=R(j),Z(h.$$.fragment,j),C=R(j),Z(g.$$.fragment,j),c=R(j),Z(b.$$.fragment,j),S=R(j),Z(k.$$.fragment,j),I=R(j),Z(q.$$.fragment,j),$=R(j),Z(oe.$$.fragment,j),j.forEach(_),N.forEach(_),this.h()},h(){f(n,"class","grid"),f(e,"action","#")},m(M,N){he(M,e,N),u(e,n),K(o,n,null),u(n,l),K(i,n,null),u(n,s),ue&&ue.m(n,null),u(n,d),K(h,n,null),u(n,C),K(g,n,null),u(n,c),K(b,n,null),u(n,S),K(k,n,null),u(n,I),K(q,n,null),u(n,$),K(oe,n,null),X=!0},p(M,N){const j={};!r&&N&2&&(r=!0,j.value=M[1].hasDoorBox,ce(()=>r=!1)),o.$set(j);const Se={};!a&&N&2&&(a=!0,Se.value=M[1].hasEndFaceOrFrameCanvas,ce(()=>a=!1)),i.$set(Se),M[1].hasEndFaceOrFrameCanvas?ue?(ue.p(M,N),N&2&&O(ue,1)):(ue=Vn(M),ue.c(),O(ue,1),ue.m(n,d)):ue&&(Ye(),V(ue,1,1,()=>{ue=null}),Je());const ze={};!p&&N&2&&(p=!0,ze.value=M[1].hasHinges,ce(()=>p=!1)),h.$set(ze);const ye={};!m&&N&2&&(m=!0,ye.value=M[1].hasLockAndResponse,ce(()=>m=!1)),g.$set(ye);const pe={};!F&&N&2&&(F=!0,pe.value=M[1].hasSealer,ce(()=>F=!1)),b.$set(pe);const we={};!w&&N&2&&(w=!0,we.value=M[1].hasCorners,ce(()=>w=!1)),k.$set(we);const Ie={};!v&&N&2&&(v=!0,Ie.value=M[1].hasMountingPlates,ce(()=>v=!1)),q.$set(Ie);const Ae={};!D&&N&2&&(D=!0,Ae.value=M[1].hasPlasterMesh,ce(()=>D=!1)),oe.$set(Ae)},i(M){X||(O(o.$$.fragment,M),O(i.$$.fragment,M),O(ue),O(h.$$.fragment,M),O(g.$$.fragment,M),O(b.$$.fragment,M),O(k.$$.fragment,M),O(q.$$.fragment,M),O(oe.$$.fragment,M),X=!0)},o(M){V(o.$$.fragment,M),V(i.$$.fragment,M),V(ue),V(h.$$.fragment,M),V(g.$$.fragment,M),V(b.$$.fragment,M),V(k.$$.fragment,M),V(q.$$.fragment,M),V(oe.$$.fragment,M),X=!1},d(M){M&&_(e),Y(o),Y(i),ue&&ue.d(),Y(h),Y(g),Y(b),Y(k),Y(q),Y(oe)}}}function Vn(t){let e,n,o=t[0],r=[];for(let i=0;i<o.length;i+=1)r[i]=Mn(Rn(t,o,i));const l=i=>V(r[i],1,1,()=>{r[i]=null});return{c(){e=y("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=T(i,"DIV",{class:!0});var a=E(e);for(let s=0;s<r.length;s+=1)r[s].l(a);a.forEach(_),this.h()},h(){f(e,"class","ml-6 grid")},m(i,a){he(i,e,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null);n=!0},p(i,a){if(a&3){o=i[0];let s;for(s=0;s<o.length;s+=1){const d=Rn(i,o,s);r[s]?(r[s].p(d,a),O(r[s],1)):(r[s]=Mn(d),r[s].c(),O(r[s],1),r[s].m(e,null))}for(Ye(),s=o.length;s<r.length;s+=1)l(s);Je()}},i(i){if(!n){for(let a=0;a<o.length;a+=1)O(r[a]);n=!0}},o(i){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)V(r[a]);n=!1},d(i){i&&_(e),Kt(r,i)}}}function Mn(t){let e,n,o,r;function l(s){t[4](s)}function i(s){t[5](s,t[12],t[13],t[14])}let a={id:"constructionType"+t[12].id,label:t[12].name,disabled:t[12].name==="Каркас",type:"radio",required:!0};return t[1].canvasConstructionType!==void 0&&(a.group=t[1].canvasConstructionType),t[12]!==void 0&&(a.value=t[12]),e=new Te({props:a}),le.push(()=>fe(e,"group",l)),le.push(()=>fe(e,"value",i)),{c(){G(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,d){K(e,s,d),r=!0},p(s,d){t=s;const h={};d&1&&(h.id="constructionType"+t[12].id),d&1&&(h.label=t[12].name),d&1&&(h.disabled=t[12].name==="Каркас"),!n&&d&2&&(n=!0,h.group=t[1].canvasConstructionType,ce(()=>n=!1)),!o&&d&1&&(o=!0,h.value=t[12],ce(()=>o=!1)),e.$set(h)},i(s){r||(O(e.$$.fragment,s),r=!0)},o(s){V(e.$$.fragment,s),r=!1},d(s){Y(e,s)}}}function Qo(t){let e,n,o,r,l,i,a=t[1]&&Hn(t);return{c(){e=y("section"),n=y("div"),o=y("h2"),r=W("Комплектация"),l=z(),a&&a.c(),this.h()},l(s){e=T(s,"SECTION",{class:!0});var d=E(e);n=T(d,"DIV",{class:!0});var h=E(n);o=T(h,"H2",{class:!0});var p=E(o);r=L(p,"Комплектация"),p.forEach(_),l=R(h),a&&a.l(h),h.forEach(_),d.forEach(_),this.h()},h(){f(o,"class","mb-4 text-[28px] font-bold text-gray-900 dark:text-white"),f(n,"class","p-4 mx-auto max-w-6xl"),f(e,"class","dark:bg-gray-900")},m(s,d){he(s,e,d),u(e,n),u(n,o),u(o,r),u(n,l),a&&a.m(n,null),i=!0},p(s,[d]){s[1]?a?(a.p(s,d),d&2&&O(a,1)):(a=Hn(s),a.c(),O(a,1),a.m(n,null)):a&&(Ye(),V(a,1,1,()=>{a=null}),Je())},i(s){i||(O(a),i=!0)},o(s){V(a),i=!1},d(s){s&&_(e),a&&a.d()}}}function xo(t,e,n){let{canvasConstructionTypes:o}=e,{equipments:r}=e;r.canvasConstructionType=o[0];function l(c){t.$$.not_equal(r.hasDoorBox,c)&&(r.hasDoorBox=c,n(1,r))}function i(c){t.$$.not_equal(r.hasEndFaceOrFrameCanvas,c)&&(r.hasEndFaceOrFrameCanvas=c,n(1,r))}function a(c){t.$$.not_equal(r.canvasConstructionType,c)&&(r.canvasConstructionType=c,n(1,r))}function s(c,b,F,S){F[S]=c,n(0,o)}function d(c){t.$$.not_equal(r.hasHinges,c)&&(r.hasHinges=c,n(1,r))}function h(c){t.$$.not_equal(r.hasLockAndResponse,c)&&(r.hasLockAndResponse=c,n(1,r))}function p(c){t.$$.not_equal(r.hasSealer,c)&&(r.hasSealer=c,n(1,r))}function C(c){t.$$.not_equal(r.hasCorners,c)&&(r.hasCorners=c,n(1,r))}function g(c){t.$$.not_equal(r.hasMountingPlates,c)&&(r.hasMountingPlates=c,n(1,r))}function m(c){t.$$.not_equal(r.hasPlasterMesh,c)&&(r.hasPlasterMesh=c,n(1,r))}return t.$$set=c=>{"canvasConstructionTypes"in c&&n(0,o=c.canvasConstructionTypes),"equipments"in c&&n(1,r=c.equipments)},[o,r,l,i,a,s,d,h,p,C,g,m]}class ei extends He{constructor(e){super(),Ve(this,e,xo,Qo,Me,{canvasConstructionTypes:0,equipments:1})}}function An(t){let e,n,o,r,l,i,a,s,d,h,p,C,g,m,c,b,F,S,k,w,I,q,v,$,oe,D,X,B,ie,x,ne,ue,A,ee,H,J,re,U,de,ve,se,ae,me,Fe,M,N,j,Se,ze,ye,pe,we,Ie,Ae,Be,Pe,Qe,Ge,Ze,Et,xe,et,Ft,tt;function It(P){t[2](P)}let Bt={id:"processing.stockSawing",label:"Припуск, мм",classes:Gt,inputClasses:Nt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].stockSawing!==void 0&&(Bt.value=t[0].stockSawing),s=new Te({props:Bt}),le.push(()=>fe(s,"value",It));function bt(P){t[3](P)}let Ot={id:"processing.boxIndent.top",label:"Сверху",disabled:!t[1].hasDoorBox,classes:Gt,inputClasses:Nt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].boxIndent.top!==void 0&&(Ot.value=t[0].boxIndent.top),w=new Te({props:Ot}),le.push(()=>fe(w,"value",bt));function ot(P){t[4](P)}let ht={id:"processing.boxIndent.right",label:"Справа",disabled:!t[1].hasDoorBox,classes:Gt,inputClasses:Nt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].boxIndent.right!==void 0&&(ht.value=t[0].boxIndent.right),v=new Te({props:ht}),le.push(()=>fe(v,"value",ot));function zt(P){t[5](P)}let qt={id:"processing.boxIndent.bottom",label:"Снизу",disabled:!t[1].hasDoorBox,classes:Gt,inputClasses:Nt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].boxIndent.bottom!==void 0&&(qt.value=t[0].boxIndent.bottom),X=new Te({props:qt}),le.push(()=>fe(X,"value",zt));function Rt(P){t[6](P)}let Pt={id:"processing.boxIndent.left",label:"Слева",disabled:!t[1].hasDoorBox,classes:Gt,inputClasses:Nt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].boxIndent.left!==void 0&&(Pt.value=t[0].boxIndent.left),x=new Te({props:Pt}),le.push(()=>fe(x,"value",Rt));function mt(P){t[7](P)}let Ee={id:"isBoxMillingForHinges",label:"Фрезеровка коробки под петли и ответку замка",type:"checkbox",disabled:!t[1].hasDoorBox,placeholder:"Фрезеровка коробки под петли и ответку замка",required:!0};t[0].isBoxMillingForHinges!==void 0&&(Ee.value=t[0].isBoxMillingForHinges),re=new Te({props:Ee}),le.push(()=>fe(re,"value",mt));function $t(P){t[8](P)}let qe={id:"isMillingForNonStandard",label:"Фрезеровка под нестандартную фурнитуру",type:"checkbox",disabled:!t[1].hasDoorBox,placeholder:"Фрезеровка под нестандартную фурнитуру",required:!0};t[0].isMillingForNonStandard!==void 0&&(qe.value=t[0].isMillingForNonStandard),ve=new Te({props:qe}),le.push(()=>fe(ve,"value",$t));function Ne(P){t[9](P)}let Ce={id:"isForDoorsWithoutTopCrossbar",label:"Для дверей без верхней поперечины, мм сверху",type:"checkbox",disabled:!t[1].hasDoorBox,placeholder:"Для дверей без верхней поперечины, мм сверху",required:!0};t[0].isForDoorsWithoutTopCrossbar!==void 0&&(Ce.value=t[0].isForDoorsWithoutTopCrossbar),me=new Te({props:Ce}),le.push(()=>fe(me,"value",Ne));let ke=t[0].isForDoorsWithoutTopCrossbar&&Pn(t);function Q(P){t[11](P)}let te={id:"isEndFaceCuttingForCanvas",label:"Пилим торец в размер полотна",type:"checkbox",disabled:!t[1].hasEndFaceOrFrameCanvas,placeholder:"Пилим торец в размер полотна",required:!0};t[0].isEndFaceCuttingForCanvas!==void 0&&(te.value=t[0].isEndFaceCuttingForCanvas),we=new Te({props:te}),le.push(()=>fe(we,"value",Q));let be=t[0].isEndFaceCuttingForCanvas&&Nn(t);function vt(P){t[17](P)}let at={id:"isEndFaceMillingForHinges",label:"Фрезеровка торца/каркаса под петли и замок",type:"checkbox",disabled:!t[1].hasEndFaceOrFrameCanvas,placeholder:"Фрезеровка торца/каркаса под петли и замок",required:!0};t[0].isEndFaceMillingForHinges!==void 0&&(at.value=t[0].isEndFaceMillingForHinges),Pe=new Te({props:at}),le.push(()=>fe(Pe,"value",vt));function gt(P){t[18](P)}let lt={id:"isAtBottomCanvasStraightEndFace",label:"На низ реверсивных полотен прямой торец",type:"checkbox",disabled:!t[1].hasEndFaceOrFrameCanvas,placeholder:"На низ реверсивных полотен прямой торец",required:!0};t[0].isAtBottomCanvasStraightEndFace!==void 0&&(lt.value=t[0].isAtBottomCanvasStraightEndFace),Ze=new Te({props:lt}),le.push(()=>fe(Ze,"value",gt));function Oe(P){t[19](P)}let pt={id:"isAtTopCanvasStraightEndFace",label:"На верх полотен без поперечины прямой торец",type:"checkbox",disabled:!t[1].hasEndFaceOrFrameCanvas,placeholder:"На верх полотен без поперечины прямой торец",required:!0};return t[0].isAtTopCanvasStraightEndFace!==void 0&&(pt.value=t[0].isAtTopCanvasStraightEndFace),et=new Te({props:pt}),le.push(()=>fe(et,"value",Oe)),{c(){e=y("form"),n=y("div"),o=y("div"),r=y("h3"),l=W("Параметры пилы"),i=z(),a=y("div"),G(s.$$.fragment),h=z(),p=y("div"),C=y("h3"),g=W("Коробка"),m=z(),c=y("div"),b=y("h4"),F=W("Отступы между коробкой и полотном, мм"),S=z(),k=y("div"),G(w.$$.fragment),q=z(),G(v.$$.fragment),oe=z(),D=y("div"),G(X.$$.fragment),ie=z(),G(x.$$.fragment),ue=z(),A=y("div"),ee=y("h4"),H=W("Фрезеровка"),J=z(),G(re.$$.fragment),de=z(),G(ve.$$.fragment),ae=z(),G(me.$$.fragment),M=z(),ke&&ke.c(),N=z(),j=y("div"),Se=y("h3"),ze=W("Торец"),ye=z(),pe=y("div"),G(we.$$.fragment),Ae=z(),be&&be.c(),Be=z(),G(Pe.$$.fragment),Ge=z(),G(Ze.$$.fragment),xe=z(),G(et.$$.fragment),this.h()},l(P){e=T(P,"FORM",{action:!0});var _e=E(e);n=T(_e,"DIV",{class:!0});var We=E(n);o=T(We,"DIV",{class:!0});var Ue=E(o);r=T(Ue,"H3",{class:!0});var it=E(r);l=L(it,"Параметры пилы"),it.forEach(_),i=R(Ue),a=T(Ue,"DIV",{class:!0});var _t=E(a);Z(s.$$.fragment,_t),_t.forEach(_),Ue.forEach(_),h=R(We),p=T(We,"DIV",{class:!0});var De=E(p);C=T(De,"H3",{class:!0});var ut=E(C);g=L(ut,"Коробка"),ut.forEach(_),m=R(De),c=T(De,"DIV",{class:!0});var Ke=E(c);b=T(Ke,"H4",{class:!0});var kt=E(b);F=L(kt,"Отступы между коробкой и полотном, мм"),kt.forEach(_),S=R(Ke),k=T(Ke,"DIV",{class:!0});var wt=E(k);Z(w.$$.fragment,wt),q=R(wt),Z(v.$$.fragment,wt),wt.forEach(_),oe=R(Ke),D=T(Ke,"DIV",{class:!0});var Ct=E(D);Z(X.$$.fragment,Ct),ie=R(Ct),Z(x.$$.fragment,Ct),Ct.forEach(_),Ke.forEach(_),ue=R(De),A=T(De,"DIV",{class:!0});var Xe=E(A);ee=T(Xe,"H4",{class:!0});var Dt=E(ee);H=L(Dt,"Фрезеровка"),Dt.forEach(_),J=R(Xe),Z(re.$$.fragment,Xe),de=R(Xe),Z(ve.$$.fragment,Xe),ae=R(Xe),Z(me.$$.fragment,Xe),M=R(Xe),ke&&ke.l(Xe),Xe.forEach(_),De.forEach(_),N=R(We),j=T(We,"DIV",{class:!0});var ft=E(j);Se=T(ft,"H3",{class:!0});var Wt=E(Se);ze=L(Wt,"Торец"),Wt.forEach(_),ye=R(ft),pe=T(ft,"DIV",{class:!0});var Ht=E(pe);Z(we.$$.fragment,Ht),Ae=R(Ht),be&&be.l(Ht),Ht.forEach(_),Be=R(ft),Z(Pe.$$.fragment,ft),Ge=R(ft),Z(Ze.$$.fragment,ft),xe=R(ft),Z(et.$$.fragment,ft),ft.forEach(_),We.forEach(_),_e.forEach(_),this.h()},h(){f(r,"class","text-[20px] font-bold text-gray-900 dark:text-white"),f(a,"class","ml-6 grid gap-2"),f(o,"class","ml-6 grid gap-2"),f(C,"class","text-[20px] font-bold text-gray-900 dark:text-white"),f(b,"class","my-2 text-[16px] font-bold text-gray-900 dark:text-white"),f(k,"class","ml-6 grid grid-cols-2 gap-2"),f(D,"class","ml-6 grid grid-cols-2 gap-2"),f(c,"class","ml-6 grid gap-2"),f(ee,"class","my-2 text-[16px] font-bold text-gray-900 dark:text-white"),f(A,"class","ml-6 grid gap-2"),f(p,"class","ml-6 mt-2 grid gap-2"),f(Se,"class","mb-4 text-[20px] font-bold text-gray-900 dark:text-white"),f(pe,"class","grid gap-2"),f(j,"class","ml-6 grid gap-2"),f(n,"class","grid gap-2"),f(e,"action","#")},m(P,_e){he(P,e,_e),u(e,n),u(n,o),u(o,r),u(r,l),u(o,i),u(o,a),K(s,a,null),u(n,h),u(n,p),u(p,C),u(C,g),u(p,m),u(p,c),u(c,b),u(b,F),u(c,S),u(c,k),K(w,k,null),u(k,q),K(v,k,null),u(c,oe),u(c,D),K(X,D,null),u(D,ie),K(x,D,null),u(p,ue),u(p,A),u(A,ee),u(ee,H),u(A,J),K(re,A,null),u(A,de),K(ve,A,null),u(A,ae),K(me,A,null),u(A,M),ke&&ke.m(A,null),u(n,N),u(n,j),u(j,Se),u(Se,ze),u(j,ye),u(j,pe),K(we,pe,null),u(pe,Ae),be&&be.m(pe,null),u(j,Be),K(Pe,j,null),u(j,Ge),K(Ze,j,null),u(j,xe),K(et,j,null),tt=!0},p(P,_e){const We={};!d&&_e&1&&(d=!0,We.value=P[0].stockSawing,ce(()=>d=!1)),s.$set(We);const Ue={};_e&2&&(Ue.disabled=!P[1].hasDoorBox),!I&&_e&1&&(I=!0,Ue.value=P[0].boxIndent.top,ce(()=>I=!1)),w.$set(Ue);const it={};_e&2&&(it.disabled=!P[1].hasDoorBox),!$&&_e&1&&($=!0,it.value=P[0].boxIndent.right,ce(()=>$=!1)),v.$set(it);const _t={};_e&2&&(_t.disabled=!P[1].hasDoorBox),!B&&_e&1&&(B=!0,_t.value=P[0].boxIndent.bottom,ce(()=>B=!1)),X.$set(_t);const De={};_e&2&&(De.disabled=!P[1].hasDoorBox),!ne&&_e&1&&(ne=!0,De.value=P[0].boxIndent.left,ce(()=>ne=!1)),x.$set(De);const ut={};_e&2&&(ut.disabled=!P[1].hasDoorBox),!U&&_e&1&&(U=!0,ut.value=P[0].isBoxMillingForHinges,ce(()=>U=!1)),re.$set(ut);const Ke={};_e&2&&(Ke.disabled=!P[1].hasDoorBox),!se&&_e&1&&(se=!0,Ke.value=P[0].isMillingForNonStandard,ce(()=>se=!1)),ve.$set(Ke);const kt={};_e&2&&(kt.disabled=!P[1].hasDoorBox),!Fe&&_e&1&&(Fe=!0,kt.value=P[0].isForDoorsWithoutTopCrossbar,ce(()=>Fe=!1)),me.$set(kt),P[0].isForDoorsWithoutTopCrossbar?ke?(ke.p(P,_e),_e&1&&O(ke,1)):(ke=Pn(P),ke.c(),O(ke,1),ke.m(A,null)):ke&&(Ye(),V(ke,1,1,()=>{ke=null}),Je());const wt={};_e&2&&(wt.disabled=!P[1].hasEndFaceOrFrameCanvas),!Ie&&_e&1&&(Ie=!0,wt.value=P[0].isEndFaceCuttingForCanvas,ce(()=>Ie=!1)),we.$set(wt),P[0].isEndFaceCuttingForCanvas?be?(be.p(P,_e),_e&1&&O(be,1)):(be=Nn(P),be.c(),O(be,1),be.m(pe,null)):be&&(Ye(),V(be,1,1,()=>{be=null}),Je());const Ct={};_e&2&&(Ct.disabled=!P[1].hasEndFaceOrFrameCanvas),!Qe&&_e&1&&(Qe=!0,Ct.value=P[0].isEndFaceMillingForHinges,ce(()=>Qe=!1)),Pe.$set(Ct);const Xe={};_e&2&&(Xe.disabled=!P[1].hasEndFaceOrFrameCanvas),!Et&&_e&1&&(Et=!0,Xe.value=P[0].isAtBottomCanvasStraightEndFace,ce(()=>Et=!1)),Ze.$set(Xe);const Dt={};_e&2&&(Dt.disabled=!P[1].hasEndFaceOrFrameCanvas),!Ft&&_e&1&&(Ft=!0,Dt.value=P[0].isAtTopCanvasStraightEndFace,ce(()=>Ft=!1)),et.$set(Dt)},i(P){tt||(O(s.$$.fragment,P),O(w.$$.fragment,P),O(v.$$.fragment,P),O(X.$$.fragment,P),O(x.$$.fragment,P),O(re.$$.fragment,P),O(ve.$$.fragment,P),O(me.$$.fragment,P),O(ke),O(we.$$.fragment,P),O(be),O(Pe.$$.fragment,P),O(Ze.$$.fragment,P),O(et.$$.fragment,P),tt=!0)},o(P){V(s.$$.fragment,P),V(w.$$.fragment,P),V(v.$$.fragment,P),V(X.$$.fragment,P),V(x.$$.fragment,P),V(re.$$.fragment,P),V(ve.$$.fragment,P),V(me.$$.fragment,P),V(ke),V(we.$$.fragment,P),V(be),V(Pe.$$.fragment,P),V(Ze.$$.fragment,P),V(et.$$.fragment,P),tt=!1},d(P){P&&_(e),Y(s),Y(w),Y(v),Y(X),Y(x),Y(re),Y(ve),Y(me),ke&&ke.d(),Y(we),be&&be.d(),Y(Pe),Y(Ze),Y(et)}}}function Pn(t){let e,n,o;function r(i){t[10](i)}let l={type:"number",placeholder:"Для дверей без верхней поперечины",numSettings:{min:0,max:100},required:!0};return t[0].marginForDoorsWithoutTopCrossbar!==void 0&&(l.value=t[0].marginForDoorsWithoutTopCrossbar),e=new jt({props:l}),le.push(()=>fe(e,"value",r)),{c(){G(e.$$.fragment)},l(i){Z(e.$$.fragment,i)},m(i,a){K(e,i,a),o=!0},p(i,a){const s={};!n&&a&1&&(n=!0,s.value=i[0].marginForDoorsWithoutTopCrossbar,ce(()=>n=!1)),e.$set(s)},i(i){o||(O(e.$$.fragment,i),o=!0)},o(i){V(e.$$.fragment,i),o=!1},d(i){Y(e,i)}}}function Nn(t){let e,n,o,r,l,i,a,s,d,h,p,C;function g(I){t[12](I)}let m={id:"isEndFaceWithMargin",label:"С запасом, мм",type:"radio",placeholder:"С запасом, мм",value:!0,required:!0};t[0].isEndFaceWithMargin!==void 0&&(m.group=t[0].isEndFaceWithMargin),n=new Te({props:m}),le.push(()=>fe(n,"group",g));let c=t[0].isEndFaceWithMargin&&$n(t);function b(I){t[14](I)}let F={id:"isEndFaceWithOutMargin",label:"С запилом под 45 (без запаса)",type:"radio",placeholder:"С запилом под 45 (без запаса)",value:!1,required:!0};t[0].isEndFaceWithMargin!==void 0&&(F.group=t[0].isEndFaceWithMargin),i=new Te({props:F}),le.push(()=>fe(i,"group",b));function S(I){t[15](I)}let k={id:"isEndFaceContactsSpotCuttingForCanvas",label:"Отрезаем контактные пятна, мм",type:"checkbox",placeholder:"Отрезаем контактные пятна, мм",required:!0};t[0].isEndFaceContactsSpotCuttingForCanvas!==void 0&&(k.value=t[0].isEndFaceContactsSpotCuttingForCanvas),d=new Te({props:k}),le.push(()=>fe(d,"value",S));let w=t[0].isEndFaceContactsSpotCuttingForCanvas&&Wn(t);return{c(){e=y("div"),G(n.$$.fragment),r=z(),c&&c.c(),l=z(),G(i.$$.fragment),s=z(),G(d.$$.fragment),p=z(),w&&w.c(),this.h()},l(I){e=T(I,"DIV",{class:!0});var q=E(e);Z(n.$$.fragment,q),r=R(q),c&&c.l(q),l=R(q),Z(i.$$.fragment,q),s=R(q),Z(d.$$.fragment,q),p=R(q),w&&w.l(q),q.forEach(_),this.h()},h(){f(e,"class","ml-6 grid gap-2")},m(I,q){he(I,e,q),K(n,e,null),u(e,r),c&&c.m(e,null),u(e,l),K(i,e,null),u(e,s),K(d,e,null),u(e,p),w&&w.m(e,null),C=!0},p(I,q){const v={};!o&&q&1&&(o=!0,v.group=I[0].isEndFaceWithMargin,ce(()=>o=!1)),n.$set(v),I[0].isEndFaceWithMargin?c?(c.p(I,q),q&1&&O(c,1)):(c=$n(I),c.c(),O(c,1),c.m(e,l)):c&&(Ye(),V(c,1,1,()=>{c=null}),Je());const $={};!a&&q&1&&(a=!0,$.group=I[0].isEndFaceWithMargin,ce(()=>a=!1)),i.$set($);const oe={};!h&&q&1&&(h=!0,oe.value=I[0].isEndFaceContactsSpotCuttingForCanvas,ce(()=>h=!1)),d.$set(oe),I[0].isEndFaceContactsSpotCuttingForCanvas?w?(w.p(I,q),q&1&&O(w,1)):(w=Wn(I),w.c(),O(w,1),w.m(e,null)):w&&(Ye(),V(w,1,1,()=>{w=null}),Je())},i(I){C||(O(n.$$.fragment,I),O(c),O(i.$$.fragment,I),O(d.$$.fragment,I),O(w),C=!0)},o(I){V(n.$$.fragment,I),V(c),V(i.$$.fragment,I),V(d.$$.fragment,I),V(w),C=!1},d(I){I&&_(e),Y(n),c&&c.d(),Y(i),Y(d),w&&w.d()}}}function $n(t){let e,n,o;function r(i){t[13](i)}let l={id:"marginEndFace",classes:"ml-6 flex  flex-col justify-around ",inputClasses:Nt,placeholder:"С запасом, мм",numSettings:{min:0,max:100},type:"number",required:!0};return t[0].marginEndFace!==void 0&&(l.value=t[0].marginEndFace),e=new jt({props:l}),le.push(()=>fe(e,"value",r)),{c(){G(e.$$.fragment)},l(i){Z(e.$$.fragment,i)},m(i,a){K(e,i,a),o=!0},p(i,a){const s={};!n&&a&1&&(n=!0,s.value=i[0].marginEndFace,ce(()=>n=!1)),e.$set(s)},i(i){o||(O(e.$$.fragment,i),o=!0)},o(i){V(e.$$.fragment,i),o=!1},d(i){Y(e,i)}}}function Wn(t){let e,n,o;function r(i){t[16](i)}let l={id:"sizeContactsSpot",disabled:!t[0].isEndFaceContactsSpotCuttingForCanvas,classes:"ml-6 flex  flex-col justify-around ",inputClasses:Nt,type:"number",placeholder:"Отрезаем контактные пятна, мм",numSettings:{min:0,max:100},required:!0};return t[0].sizeContactsSpot!==void 0&&(l.value=t[0].sizeContactsSpot),e=new jt({props:l}),le.push(()=>fe(e,"value",r)),{c(){G(e.$$.fragment)},l(i){Z(e.$$.fragment,i)},m(i,a){K(e,i,a),o=!0},p(i,a){const s={};a&1&&(s.disabled=!i[0].isEndFaceContactsSpotCuttingForCanvas),!n&&a&1&&(n=!0,s.value=i[0].sizeContactsSpot,ce(()=>n=!1)),e.$set(s)},i(i){o||(O(e.$$.fragment,i),o=!0)},o(i){V(e.$$.fragment,i),o=!1},d(i){Y(e,i)}}}function ti(t){let e,n,o,r,l,i,a=t[0]&&An(t);return{c(){e=y("section"),n=y("div"),o=y("h2"),r=W("Обработка"),l=z(),a&&a.c(),this.h()},l(s){e=T(s,"SECTION",{class:!0});var d=E(e);n=T(d,"DIV",{class:!0});var h=E(n);o=T(h,"H2",{class:!0});var p=E(o);r=L(p,"Обработка"),p.forEach(_),l=R(h),a&&a.l(h),h.forEach(_),d.forEach(_),this.h()},h(){f(o,"class","mb-4 text-[28px] font-bold text-gray-900 dark:text-white"),f(n,"class","p-4 mx-auto max-w-6xl"),f(e,"class","dark:bg-gray-900")},m(s,d){he(s,e,d),u(e,n),u(n,o),u(o,r),u(n,l),a&&a.m(n,null),i=!0},p(s,[d]){s[0]?a?(a.p(s,d),d&1&&O(a,1)):(a=An(s),a.c(),O(a,1),a.m(n,null)):a&&(Ye(),V(a,1,1,()=>{a=null}),Je())},i(s){i||(O(a),i=!0)},o(s){V(a),i=!1},d(s){s&&_(e),a&&a.d()}}}const Gt="max-w-[150px] flex flex-col justify-around ",Nt="max-w-[100px]";function ni(t,e,n){let{processing:o=new eo}=e,{equipments:r=new to}=e;function l(v){t.$$.not_equal(o.stockSawing,v)&&(o.stockSawing=v,n(0,o))}function i(v){t.$$.not_equal(o.boxIndent.top,v)&&(o.boxIndent.top=v,n(0,o))}function a(v){t.$$.not_equal(o.boxIndent.right,v)&&(o.boxIndent.right=v,n(0,o))}function s(v){t.$$.not_equal(o.boxIndent.bottom,v)&&(o.boxIndent.bottom=v,n(0,o))}function d(v){t.$$.not_equal(o.boxIndent.left,v)&&(o.boxIndent.left=v,n(0,o))}function h(v){t.$$.not_equal(o.isBoxMillingForHinges,v)&&(o.isBoxMillingForHinges=v,n(0,o))}function p(v){t.$$.not_equal(o.isMillingForNonStandard,v)&&(o.isMillingForNonStandard=v,n(0,o))}function C(v){t.$$.not_equal(o.isForDoorsWithoutTopCrossbar,v)&&(o.isForDoorsWithoutTopCrossbar=v,n(0,o))}function g(v){t.$$.not_equal(o.marginForDoorsWithoutTopCrossbar,v)&&(o.marginForDoorsWithoutTopCrossbar=v,n(0,o))}function m(v){t.$$.not_equal(o.isEndFaceCuttingForCanvas,v)&&(o.isEndFaceCuttingForCanvas=v,n(0,o))}function c(v){t.$$.not_equal(o.isEndFaceWithMargin,v)&&(o.isEndFaceWithMargin=v,n(0,o))}function b(v){t.$$.not_equal(o.marginEndFace,v)&&(o.marginEndFace=v,n(0,o))}function F(v){t.$$.not_equal(o.isEndFaceWithMargin,v)&&(o.isEndFaceWithMargin=v,n(0,o))}function S(v){t.$$.not_equal(o.isEndFaceContactsSpotCuttingForCanvas,v)&&(o.isEndFaceContactsSpotCuttingForCanvas=v,n(0,o))}function k(v){t.$$.not_equal(o.sizeContactsSpot,v)&&(o.sizeContactsSpot=v,n(0,o))}function w(v){t.$$.not_equal(o.isEndFaceMillingForHinges,v)&&(o.isEndFaceMillingForHinges=v,n(0,o))}function I(v){t.$$.not_equal(o.isAtBottomCanvasStraightEndFace,v)&&(o.isAtBottomCanvasStraightEndFace=v,n(0,o))}function q(v){t.$$.not_equal(o.isAtTopCanvasStraightEndFace,v)&&(o.isAtTopCanvasStraightEndFace=v,n(0,o))}return t.$$set=v=>{"processing"in v&&n(0,o=v.processing),"equipments"in v&&n(1,r=v.equipments)},[o,r,l,i,a,s,d,h,p,C,g,m,c,b,F,S,k,w,I,q]}class oi extends He{constructor(e){super(),Ve(this,e,ni,ti,Me,{processing:0,equipments:1})}}function ii(t){let e,n,o,r;return e=new no({props:{forName:t[0],text:t[7]}}),o=new Vt({props:{id:t[0],value:t[2],placeholder:t[1],options:t[3],required:t[4],onChange:t[5],optionSettings:t[6]}}),{c(){G(e.$$.fragment),n=z(),G(o.$$.fragment)},l(l){Z(e.$$.fragment,l),n=R(l),Z(o.$$.fragment,l)},m(l,i){K(e,l,i),he(l,n,i),K(o,l,i),r=!0},p(l,[i]){const a={};i&1&&(a.forName=l[0]),i&128&&(a.text=l[7]),e.$set(a);const s={};i&1&&(s.id=l[0]),i&4&&(s.value=l[2]),i&2&&(s.placeholder=l[1]),i&8&&(s.options=l[3]),i&16&&(s.required=l[4]),i&32&&(s.onChange=l[5]),i&64&&(s.optionSettings=l[6]),o.$set(s)},i(l){r||(O(e.$$.fragment,l),O(o.$$.fragment,l),r=!0)},o(l){V(e.$$.fragment,l),V(o.$$.fragment,l),r=!1},d(l){Y(e,l),l&&_(n),Y(o,l)}}}function ri(t,e,n){let{id:o=""}=e,{placeholder:r=""}=e,{value:l}=e,{options:i=[]}=e,{required:a=!1}=e,{onChange:s=void 0}=e,{optionSettings:d}=e,{label:h=""}=e;return t.$$set=p=>{"id"in p&&n(0,o=p.id),"placeholder"in p&&n(1,r=p.placeholder),"value"in p&&n(2,l=p.value),"options"in p&&n(3,i=p.options),"required"in p&&n(4,a=p.required),"onChange"in p&&n(5,s=p.onChange),"optionSettings"in p&&n(6,d=p.optionSettings),"label"in p&&n(7,h=p.label)},[o,r,l,i,a,s,d,h]}class un extends He{constructor(e){super(),Ve(this,e,ri,ii,Me,{id:0,placeholder:1,value:2,options:3,required:4,onChange:5,optionSettings:6,label:7})}}function si(t){let e,n,o,r,l;return{c(){e=y("textarea"),this.h()},l(i){e=T(i,"TEXTAREA",{id:!0,name:!0,placeholder:!0,title:!0,class:!0}),E(e).forEach(_),this.h()},h(){f(e,"id",t[1]),f(e,"name",t[1]),e.disabled=t[4],e.required=t[5],f(e,"placeholder",t[2]),f(e,"title",n=t[3].length?t[3]:t[2]),f(e,"class",t[6]),e.value=o=t[0]??""},m(i,a){he(i,e,a),r||(l=dt(e,"change",t[10]),r=!0)},p(i,[a]){a&2&&f(e,"id",i[1]),a&2&&f(e,"name",i[1]),a&16&&(e.disabled=i[4]),a&32&&(e.required=i[5]),a&4&&f(e,"placeholder",i[2]),a&12&&n!==(n=i[3].length?i[3]:i[2])&&f(e,"title",n),a&64&&f(e,"class",i[6]),a&1&&o!==(o=i[0]??"")&&(e.value=o)},i:$e,o:$e,d(i){i&&_(e),r=!1,l()}}}function ai(t,e,n){let{id:o=""}=e,{placeholder:r=""}=e,{title:l=""}=e,{disabled:i=!1}=e,{required:a=!1}=e,{value:s}=e,{onChange:d=void 0}=e,{classes:h}=e,p=`border border-gray-300 text-gray-900   rounded-lg focus:bg-[white] focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5
                                                         dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500
                                                          ${h}`;i&&(p+=" bg-gray-100");const C=m=>{n(0,s=m)},g=m=>C(m.target.value);return t.$$set=m=>{"id"in m&&n(1,o=m.id),"placeholder"in m&&n(2,r=m.placeholder),"title"in m&&n(3,l=m.title),"disabled"in m&&n(4,i=m.disabled),"required"in m&&n(5,a=m.required),"value"in m&&n(0,s=m.value),"onChange"in m&&n(8,d=m.onChange),"classes"in m&&n(9,h=m.classes)},[s,o,r,l,i,a,p,C,d,h,g]}class li extends He{constructor(e){super(),Ve(this,e,ai,si,Me,{id:1,placeholder:2,title:3,disabled:4,required:5,value:0,onChange:8,classes:9})}}function ui(t){let e,n,o,r,l;e=new no({props:{forName:t[1],text:t[5]}});function i(s){t[6](s)}let a={id:t[1],placeholder:t[2],required:t[3],onChange:t[4]};return t[0]!==void 0&&(a.value=t[0]),o=new li({props:a}),le.push(()=>fe(o,"value",i)),{c(){G(e.$$.fragment),n=z(),G(o.$$.fragment)},l(s){Z(e.$$.fragment,s),n=R(s),Z(o.$$.fragment,s)},m(s,d){K(e,s,d),he(s,n,d),K(o,s,d),l=!0},p(s,[d]){const h={};d&2&&(h.forName=s[1]),d&32&&(h.text=s[5]),e.$set(h);const p={};d&2&&(p.id=s[1]),d&4&&(p.placeholder=s[2]),d&8&&(p.required=s[3]),d&16&&(p.onChange=s[4]),!r&&d&1&&(r=!0,p.value=s[0],ce(()=>r=!1)),o.$set(p)},i(s){l||(O(e.$$.fragment,s),O(o.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),V(o.$$.fragment,s),l=!1},d(s){Y(e,s),s&&_(n),Y(o,s)}}}function fi(t,e,n){let{id:o=""}=e,{placeholder:r=""}=e,{required:l=!1}=e,{value:i}=e,{onChange:a=void 0}=e,{label:s=""}=e;function d(h){i=h,n(0,i)}return t.$$set=h=>{"id"in h&&n(1,o=h.id),"placeholder"in h&&n(2,r=h.placeholder),"required"in h&&n(3,l=h.required),"value"in h&&n(0,i=h.value),"onChange"in h&&n(4,a=h.onChange),"label"in h&&n(5,s=h.label)},[i,o,r,l,a,s,d]}class ci extends He{constructor(e){super(),Ve(this,e,fi,ui,Me,{id:1,placeholder:2,required:3,value:0,onChange:4,label:5})}}function di(t){let e,n,o,r,l,i,a,s,d,h,p,C,g,m,c,b,F,S,k,w,I,q,v,$,oe,D,X,B,ie,x,ne,ue,A;function ee(N){t[4](N)}let H={id:"creatingDate",label:"Дата создания",type:"date",placeholder:"Выберите дату...","})":!0,required:!0};t[0].creatingDate!==void 0&&(H.value=t[0].creatingDate),d=new Te({props:H}),le.push(()=>fe(d,"value",ee));function J(N){t[5](N)}let re={id:"numberSpecification",label:"Номер спецификации",type:"number",placeholder:"Введите номер спецификации...",numSettings:{min:1},required:!0};t[0].numberSpecification!==void 0&&(re.value=t[0].numberSpecification),c=new Te({props:re}),le.push(()=>fe(c,"value",J));function U(N){t[6](N)}let de={id:"company",label:"Клиент",placeholder:"Выберите клиента...",options:t[3],optionSettings:{imgField:"avatar"},required:!0};t[0].company!==void 0&&(de.value=t[0].company),k=new un({props:de}),le.push(()=>fe(k,"value",U));function ve(N){t[7](N)}let se={id:"manager",label:"Менеджер",placeholder:"Выберите менеджера...",options:t[1],optionSettings:{imgField:"avatar"},required:!0};t[0].manager!==void 0&&(se.value=t[0].manager),v=new un({props:se}),le.push(()=>fe(v,"value",ve));function ae(N){t[8](N)}let me={id:"worker",label:"Ответственный на производстве",placeholder:"Выберите сотрудника...",options:t[2],optionSettings:{imgField:"avatar"},required:!0};t[0].worker!==void 0&&(me.value=t[0].worker),X=new un({props:me}),le.push(()=>fe(X,"value",ae));function Fe(N){t[9](N)}let M={id:"comment",label:"Примечание к заказу",placeholder:"Введите примечание...",required:!0};return t[0].comment!==void 0&&(M.value=t[0].comment),ne=new ci({props:M}),le.push(()=>fe(ne,"value",Fe)),{c(){e=y("section"),n=y("div"),o=y("h1"),r=W("О заказе"),l=z(),i=y("form"),a=y("div"),s=y("div"),G(d.$$.fragment),p=z(),C=y("div"),g=z(),m=y("div"),G(c.$$.fragment),F=z(),S=y("div"),G(k.$$.fragment),I=z(),q=y("div"),G(v.$$.fragment),oe=z(),D=y("div"),G(X.$$.fragment),ie=z(),x=y("div"),G(ne.$$.fragment),this.h()},l(N){e=T(N,"SECTION",{class:!0});var j=E(e);n=T(j,"DIV",{class:!0});var Se=E(n);o=T(Se,"H1",{class:!0});var ze=E(o);r=L(ze,"О заказе"),ze.forEach(_),l=R(Se),i=T(Se,"FORM",{action:!0});var ye=E(i);a=T(ye,"DIV",{class:!0});var pe=E(a);s=T(pe,"DIV",{});var we=E(s);Z(d.$$.fragment,we),we.forEach(_),p=R(pe),C=T(pe,"DIV",{}),E(C).forEach(_),g=R(pe),m=T(pe,"DIV",{});var Ie=E(m);Z(c.$$.fragment,Ie),Ie.forEach(_),F=R(pe),S=T(pe,"DIV",{});var Ae=E(S);Z(k.$$.fragment,Ae),Ae.forEach(_),I=R(pe),q=T(pe,"DIV",{});var Be=E(q);Z(v.$$.fragment,Be),Be.forEach(_),oe=R(pe),D=T(pe,"DIV",{});var Pe=E(D);Z(X.$$.fragment,Pe),Pe.forEach(_),ie=R(pe),x=T(pe,"DIV",{});var Qe=E(x);Z(ne.$$.fragment,Qe),Qe.forEach(_),pe.forEach(_),ye.forEach(_),Se.forEach(_),j.forEach(_),this.h()},h(){f(o,"class","mb-4 text-[38px] font-bold text-gray-900 dark:text-white"),f(a,"class","grid sm:grid-cols-2 gap-x-6 gap-y-4"),f(i,"action","#"),f(n,"class","py-8 px-4 max-w-2xl lg:py-16"),f(e,"class","animate__animated animate__fadeInDown bg-white dark:bg-gray-900")},m(N,j){he(N,e,j),u(e,n),u(n,o),u(o,r),u(n,l),u(n,i),u(i,a),u(a,s),K(d,s,null),u(a,p),u(a,C),u(a,g),u(a,m),K(c,m,null),u(a,F),u(a,S),K(k,S,null),u(a,I),u(a,q),K(v,q,null),u(a,oe),u(a,D),K(X,D,null),u(a,ie),u(a,x),K(ne,x,null),A=!0},p(N,[j]){const Se={};!h&&j&1&&(h=!0,Se.value=N[0].creatingDate,ce(()=>h=!1)),d.$set(Se);const ze={};!b&&j&1&&(b=!0,ze.value=N[0].numberSpecification,ce(()=>b=!1)),c.$set(ze);const ye={};j&8&&(ye.options=N[3]),!w&&j&1&&(w=!0,ye.value=N[0].company,ce(()=>w=!1)),k.$set(ye);const pe={};j&2&&(pe.options=N[1]),!$&&j&1&&($=!0,pe.value=N[0].manager,ce(()=>$=!1)),v.$set(pe);const we={};j&4&&(we.options=N[2]),!B&&j&1&&(B=!0,we.value=N[0].worker,ce(()=>B=!1)),X.$set(we);const Ie={};!ue&&j&1&&(ue=!0,Ie.value=N[0].comment,ce(()=>ue=!1)),ne.$set(Ie)},i(N){A||(O(d.$$.fragment,N),O(c.$$.fragment,N),O(k.$$.fragment,N),O(v.$$.fragment,N),O(X.$$.fragment,N),O(ne.$$.fragment,N),A=!0)},o(N){V(d.$$.fragment,N),V(c.$$.fragment,N),V(k.$$.fragment,N),V(v.$$.fragment,N),V(X.$$.fragment,N),V(ne.$$.fragment,N),A=!1},d(N){N&&_(e),Y(d),Y(c),Y(k),Y(v),Y(X),Y(ne)}}}function hi(t,e,n){let{managers:o}=e,{workers:r}=e,{companies:l}=e,{metaOrder:i}=e;function a(g){t.$$.not_equal(i.creatingDate,g)&&(i.creatingDate=g,n(0,i))}function s(g){t.$$.not_equal(i.numberSpecification,g)&&(i.numberSpecification=g,n(0,i))}function d(g){t.$$.not_equal(i.company,g)&&(i.company=g,n(0,i))}function h(g){t.$$.not_equal(i.manager,g)&&(i.manager=g,n(0,i))}function p(g){t.$$.not_equal(i.worker,g)&&(i.worker=g,n(0,i))}function C(g){t.$$.not_equal(i.comment,g)&&(i.comment=g,n(0,i))}return t.$$set=g=>{"managers"in g&&n(1,o=g.managers),"workers"in g&&n(2,r=g.workers),"companies"in g&&n(3,l=g.companies),"metaOrder"in g&&n(0,i=g.metaOrder)},[i,o,r,l,a,s,d,h,p,C]}class mi extends He{constructor(e){super(),Ve(this,e,hi,di,Me,{managers:1,workers:2,companies:3,metaOrder:0})}}async function gi(t){return await fetch("http://localhost:3000/pdfOrder",{method:"POST",mode:"no-cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}function on(t,e,n,o=!1){o&&e&&(t=((a,s)=>{if(a.size.angles.rightBottom<90){if(s.size.angles.leftBottom>=90){const d=a.size.angles.rightBottom+s.size.angles.leftBottom;if(s.size.angles.rightBottom>=90){const h=a.size.angles.rightBottom+s.size.angles.rightBottom;(d>=h||h>180)&&d<=180||h<=180&&s.flipHorizontal()}else if(s.size.angles.rightBottom<90){const h=a.size.angles.rightBottom+180-s.size.angles.rightBottom;(d>=h||h>180)&&d<=180||h<=180&&(s.flipHorizontal(),s.flipVertical())}}else if(s.size.angles.leftBottom<90){const d=a.size.angles.rightBottom+180-s.size.angles.leftBottom;if(s.size.angles.rightBottom>=90){const h=a.size.angles.rightBottom+s.size.angles.rightBottom;(d>=h||h>180)&&d<=180?s.flipVertical():h<=180&&s.flipHorizontal()}else if(s.size.angles.rightBottom<90){const h=a.size.angles.rightBottom+180-s.size.angles.rightBottom;(d>=h||h>180)&&d<=180?s.flipVertical():h<=180&&(s.flipHorizontal(),s.flipVertical())}}}else if(a.size.angles.rightBottom>90){if(s.size.angles.leftBottom>=90){const d=a.size.angles.rightBottom+180-s.size.angles.leftBottom;if(s.size.angles.rightBottom>=90){const h=a.size.angles.rightBottom+180-s.size.angles.rightBottom;(d>=h||h>180)&&d<=180?s.flipVertical():h<=180&&(s.flipVertical(),s.flipHorizontal())}else if(s.size.angles.rightBottom<90){const h=a.size.angles.rightBottom+180-s.size.angles.rightBottom;(d>=h||h>180)&&d<=180?s.flipVertical():h<=180&&s.flipHorizontal()}}else if(s.size.angles.leftBottom<90){const d=a.size.angles.rightBottom+s.size.angles.leftBottom;if(s.size.angles.rightBottom>=90){const h=a.size.angles.rightBottom+180-s.size.angles.rightBottom;(d>=h||h>180)&&d<=180||h<=180&&(s.flipVertical(),s.flipHorizontal())}else if(s.size.angles.rightBottom<90){const h=a.size.angles.rightBottom+s.size.angles.rightBottom;(d>=h||h>180)&&d<=180||h<=180&&s.flipHorizontal()}}}return s})(e,t));const i={x:n?n.p2.x:0,y:0};return new Tt({type:"detail",name:t.name,square:t.square,p1:i,size:t.size,colorContourLegend:"gray",colorBody:"#d1ffd8",isShowLeftContour:!1,isShowRightContour:!1,baseSpace:30,halfXBoard:0,halfYBoard:100,wDivider:4.2,hDivider:5})}function ro(t,e){const n=parseFloat(e.size.d.toFixed(2));return parseFloat(t.size.b.toFixed(2))===n&&t.size.angles.rightBottom===e.size.angles.leftTop}function so(t,e){const n=new St({id:ge(),name:Ut.STOCK,size:{a:t,b:e.size.b,d:e.size.b,h:e.size.h,angles:e.size.angles}}),o={...e.p2},r={x:o.x+n.size.a,y:o.y},l={...e.p3},i={x:l.x+n.size.c,y:l.y};return{piece:n,drawPiece:new Tt({type:"sawing-remain",name:n.name,square:n.square,p1:o,p2:r,p3:i,p4:l,size:n.size,isShowBodyText:n.square>1,isShowTopContour:n.size.c>1,isShowBottomContour:n.size.c>1,isShowLeftContour:!1,isShowRightContour:!1,colorContourLegend:"gray",colorBody:"lightgray",baseSpace:5,halfXBoard:0,halfYBoard:100,wDivider:4.2,hDivider:5})}}function ao(t,e,n){let o,r;const l=n.size.d,i=e.size.b;e.p2.x===n.p1.x?(o=t,r=t+n.p4.x-e.p3.x):(o=t+n.p4.x-e.p3.x,r=t);const a=hn(o,r,e.size.h),s=new St({id:ge(),name:Ut.STOCK,size:{a:o,c:r,b:l,d:i,h:e.size.h,angles:{leftTop:180-e.size.angles.rightTop,leftBottom:180-e.size.angles.rightBottom,rightTop:180-n.size.angles.leftTop,rightBottom:180-n.size.angles.leftBottom},maxLength:t}}),d=e?{...e.p2}:{x:0,y:0},h=new Tt({type:"body-remain",name:Ut.REMAINS,square:a,p1:d,size:s.size,isShowBodyText:a>1,isShowTopContour:o>1,isShowBottomContour:r>1,isShowLeftContour:!1,isShowRightContour:!1,colorContourLegend:"gray",colorBody:"lightgray",baseSpace:10});return{piece:s,drawPiece:h}}function lo(t){const e=t.p1.x,n=t.p4.x,o=hn(e,n,t.size.h),r={x:0,y:0},l={...t.p1},i={x:0,y:t.size.h},a={...t.p4},s=new St({id:ge(),name:Ut.REMAINS,size:{a:e,b:t.size.d,c:n,d:t.size.h,h:t.size.h,angles:t.size.angles}}),d=new Tt({type:"start-remain",name:Ut.REMAINS,square:o,p1:r,p2:l,p3:a,p4:i,size:{a:e,b:t.size.d,c:n,d:t.size.h,h:t.size.h},isShowBodyText:o>1,isShowTopContour:e>1,isShowBottomContour:n>1,isShowLeftContour:!1,isShowRightContour:!1,colorContourLegend:"gray",colorBody:"lightgray",baseSpace:10,halfXBoard:0,halfYBoard:100,wDivider:4.2,hDivider:5});return{piece:s,drawPiece:d}}function fn(t,e){const n=t-e.p2.x,o=t-e.p3.x,r=hn(n,o,e.size.h),l={...e.p2};return new Tt({type:"end-remain",name:Ut.REMAINS,square:r,p1:l,size:{a:n,b:e.size.h,c:o,d:e.size.b,h:e.size.h},isShowBodyText:r>1,isShowTopContour:n>1,isShowBottomContour:o>1,isShowLeftContour:!1,colorContourLegend:"gray",colorBody:"lightgray",baseSpace:5,sideSpace:5,halfXBoard:0,halfYBoard:100,wDivider:4.2,hDivider:5})}function pi(t,e,n){const o=(p,C)=>{for(const g of h)if(g.p2.x<=p&&g.p3.x<=C||g.p2.x<=C&&g.p3.x<=p)return!0;return!1};let r,l;const i=(p,C,g)=>{const m=c=>{g.push(c),l=c.piece,r=c.drawPiece};for(let c=p;c<C.length;c++){const b=new St(n[c].profile);let F=on(b,l,r);if(l&&r){const I=ro(r,F);if(t&&I){const q=so(t,r);m(q)}else if(!I){const q=ao(t,r,F);m(q)}F=on(b,l,r)}else if(F.p1.x>0||F.p4.x>0){const I=lo(F);m(I),F=on(b,l,r)}m({piece:b,drawPiece:F});const S=g[g.length-1].drawPiece,k=e-S.p2.x,w=e-S.p3.x;if(o(k,w)){if(i(c,C,g),C.length===2&&c===C.length-1&&l&&r&&r.type==="detail"){const I=fn(e,r);s.push([...g.map(v=>new St(v.piece))]);const q=new Zt({num:a.length+1,volume:1,combination:[...g.map(v=>new Tt(v.drawPiece)),I]});a.push(q)}}else if(k>=0&&w>=0&&l&&r){const I=fn(e,r);s.push([...g.map(v=>new St(v.piece))]);const q=new Zt({num:a.length+1,volume:1,combination:[...g.map(v=>new Tt(v.drawPiece)),I]});a.push(q)}g.pop(),g.length>0&&g[g.length-1].drawPiece.type.includes("remain")&&g.pop(),g.length>0?(r=g[g.length-1].drawPiece,l=g[g.length-1].piece):(r=void 0,l=void 0)}},a=[],s=[],d=[],h=n.map(p=>on(p.profile));return i(0,h,d),{drawCombinations:a,cuttingCombinations:s}}function Ln(t,e,n){const r=[];return e.forEach(l=>{if(l.basisIndex<=t&&l.b>0){const i=parseFloat(l.b.toFixed(0)),a=new Zt({num:l.basisIndex+1,volume:i,combination:n[l.basisIndex].combination});r.push(a)}}),r.sort((l,i)=>l.volume-i.volume)}function _i(t,e,n,o){let r=o.map(b=>new Zt({volume:b.volume===0?1:b.volume,num:b.num,combination:b.combination.map(F=>new Tt(F))})).sort((b,F)=>b.combination.length-F.combination.length);const l=b=>r.map(F=>F.combination.filter(S=>S.name===b).length*F.volume).reduce((F,S)=>F+S,0),i=n.sort((b,F)=>b.profile.square-F.profile.square),a=n.sort((b,F)=>F.profile.square-b.profile.square),s=[];a.forEach(b=>{const F=r.filter(S=>S.combination.find(k=>k.name===b.profile.name));i.forEach(S=>{const k=S.profile.name;F.forEach(w=>{let I=!1;if(w.combination.forEach(q=>{q.name===k&&l(k)>S.volume&&(w.combination=w.combination.filter(v=>v.id!==q.id),I=!0)}),I){const v=w.combination.filter($=>$.type==="detail").flatMap($=>{const oe=[];for(let D=0;D<w.volume;D++)oe.push(new Tt($));return oe});s.push(...v),w.combination=[]}})})}),r=(()=>{let b=0;return r.filter(F=>(F.combination.length&&(F.num=++b),F.combination.length))})();let h=[],p;const C=b=>{const F=p?p.p2.x:0;b.calcNewLocation(F,0)};let g=s.sort((b,F)=>F.square-b.square);const m=b=>{p=b,h.push(b),b.type==="detail"&&(g=g.filter(F=>F.id!==b.id))},c=()=>{const b=h[h.length-1],F=e-b.p2.x-t,S=e-b.p3.x-t;for(const k of g)if(k.size.a<=F&&k.size.c<=S)return!0;return!1};for(;g.length;)if(g.forEach(b=>{if(C(b),h.length){let F;if((p==null?void 0:p.type)==="detail"){const v=ro(p,b);t&&v?F=so(t,p).drawPiece:v||(F=ao(t,p,b).drawPiece)}const S=h[h.length-1],k=e-S.p2.x,w=e-S.p3.x,I=F?b.size.a+F.size.a:b.size.a,q=F?b.size.c+F.size.c:b.size.c;I<=k&&q<=w&&(F&&(m(F),C(b)),m(b))}else{const F=lo(b);m(F.drawPiece),C(b),m(b)}}),!c()){p&&h.push(fn(e,p)),p=void 0;const b=r.length?Math.max(...r.map(F=>F.num)):0;if(r.forEach(F=>{let S=!0;for(let k=0;k<F.combination.length;k++){const w=F.combination[k];h[k]?S=w.isCopy(h[k]):S=!1}S&&(F.volume++,h=[])}),h.length){const F=new Zt({num:b+1,volume:1,combination:[...h]});r.push(F),h=[]}}return r}function cn(t,e=!1){const n=[],o=t[0].body.length,r=()=>{let l="V |";for(let i=1;i<=o;i++)l+=` X${i} `;return l+="| P",l};return n.push(r()),t.forEach(l=>{let i=`${parseFloat(l.head.toFixed(3))} |`;l.body.forEach(a=>{i+=a>-1?` ${a}  `:`${a}  `}),i+=e?`= ${l.tail}`:`>= ${l.tail}`,n.push(i)}),n}const yt=t=>{const n=[];let o="N |  c  |  b  | ";t.rows[0].rowCoefficients.forEach((a,s)=>{o+=` X${s+1} `}),n.push(o),t.rows.forEach((a,s)=>{const d=parseFloat(a.b.toFixed(2));let h=a.b>=0?`${s+1} | X${a.basisIndex+1} | ${d} | `:`${s+1} | X${a.basisIndex+1} | ${d} | `;a.rowCoefficients.forEach(p=>{const C=parseFloat(p.toFixed(2));h+=p>-1?` ${C} `:`${C} `}),n.push(h)});const r=t.rowF;let i=`| F  | ${parseFloat(r.b.toFixed(2))} | `;return r.rowCoefficients.forEach(a=>{const s=parseFloat(a.toFixed(2));i+=a>-1?` ${s} `:`${s} `}),n.push(i),n};function bi(t,e){const o=`Площадь не обрезанной заготовки: (${t.size.a} * ${t.size.h}) = ${parseFloat(t.square.toFixed(3))} мм² = ${je(t.square,3)} м²`,l=`${e.length?" ".repeat(e[0].name.length-4):""}Имя | Площадь мм²| Количество, шт.`,i=[o,l];return e.forEach(a=>{const s=`${a.name} | ${parseFloat(a.profile.square.toFixed(3))} | ${a.volume}`;i.push(s)}),i}function jn(t,e,n,o,r=!1){const i=[],a=parseFloat(e.square.toFixed(3));i.push("==> Результаты вычисления задачи поиска решения оптимального раскроя"),i.push(`
==> Исходные данные`),i.push(`Площадь сырья для раскроя: ${a} мм² =  ${je(a,3)} м²`),i.push("Заказ:"),n.forEach((b,F)=>{const S=parseFloat(b.profile.square.toFixed(3));i.push(`N${F+1}. Площадь обреза: ${S} мм² =  ${je(S,3)} м²; Количество: ${b.volume} шт.`)}),i.push(`
==> Варианты раскроя изделия исходя из начальных условий (матрица).`),i.push("X - варианты раскроя."),i.push("V - площадь обреза."),i.push("Пересечение V/X -  количество распилов длины V по отношению к длине сырья для раскроя."),cn(o).forEach(b=>i.push(b)),i.push(`
==> Оптимальный раскрой материала`);let s=0,d=0;const h=o[0].body.length-1,p=r?0:1;t.rows.forEach(b=>{if(b.basisIndex<=h&&b.b>0){const F=parseFloat(b.b.toFixed(p)),S=`Количество распилов варианта X${b.basisIndex+1}: ${F} шт.`;i.push(S),s+=b.b,o.forEach(k=>{const w=k.body[b.basisIndex];w&&(d+=b.b*w*k.head)})}});const C=parseFloat((s*e.square).toFixed(3)),g=parseFloat(s.toFixed(p)),m=parseFloat(d.toFixed(3)),c=parseFloat((C-d).toFixed(3));return i.push(`
Количество заготовок для распила: ${g} шт.`),i.push(`Полезная площадь распилов: ${m} мм²  = ${je(m,3)} м²`),i.push(`Общая площадь требуемых заготовок для распилов: ${C} мм² =  ${je(C,3)} м²`),i.push(`Остатки: ${c} мм² = ${je(c,3)} м²`),i}class uo{constructor(e){nt(this,"head",0);nt(this,"body",[]);nt(this,"tail",0);e&&(this.head=e.head,this.body=[...e.body],this.tail=e.tail)}}const vi=(t,e)=>{const n=[];return e.forEach(o=>{const r=new uo;r.head=o.profile.square,t.forEach(l=>{const i=l.filter(a=>a.id===o.profile.id).length;r.body.push(i)}),r.tail=o.volume,n.push(r)}),n},wi=t=>{const e=t.map(r=>new uo(r)),n=t.map(()=>0),o=(r,l)=>(l[r]=-1,l);return t.forEach((r,l)=>{const i=r.body.concat(o(l,[...n]));e[l].body=i.map(a=>a*-1),e[l].tail*=-1}),e};class gn{constructor(e){nt(this,"basisIndex",0);nt(this,"rowCoefficients",[]);nt(this,"b",0);e&&(this.basisIndex=e.basisIndex,this.rowCoefficients=[...e.rowCoefficients],this.b=e.b)}}class dn{constructor(e){nt(this,"rowCoefficients",[]);nt(this,"b",0);e&&(this.rowCoefficients=[...e.rowCoefficients],this.b=e.b)}}class At{constructor(e){nt(this,"rows",[]);nt(this,"rowF",new dn);e&&(this.rowF=new dn(e.rowF),this.rows=e.rows.map(n=>new gn(n)))}}const Ci=t=>{const e=new At,n=[];for(let o=t.length;o>0;o--)n.push(t[0].body.length-o);return n.forEach((o,r)=>{const l=t[r],i=new gn({basisIndex:o,rowCoefficients:l.body,b:l.tail});e.rows.push(i)}),e.rowF=new dn({b:0,rowCoefficients:[]}),t[0].body.forEach((o,r)=>{const l=n.includes(r);e.rowF.rowCoefficients.push(l?0:1)}),e},pn=(t,e)=>{const n=e.rowIndex,o=e.colIndex,r=new At(t);r.rows[n].basisIndex=o;const l=t.rows[n],i=l.rowCoefficients,a=i[o];t.rows.forEach((h,p)=>{const C=r.rows[p];if(p!==n){const g=h.rowCoefficients[o],m=l.b;C.b=h.b-g*m/a,C.rowCoefficients=h.rowCoefficients.map((c,b)=>{if(b===o)return 0;{const F=l.rowCoefficients[b];return c-g*F/a}})}else C.b=h.b/a,C.rowCoefficients=h.rowCoefficients.map(g=>g/a)});const s=r.rowF,d=t.rowF.rowCoefficients[o];return s.b=t.rowF.b-l.b*d/a,t.rowF.rowCoefficients.forEach((h,p)=>{p!==o?s.rowCoefficients[p]=h-i[p]*d/a:s.rowCoefficients[p]=0}),r};function Fi(t,e){const n=(a,s=!0)=>{const d=g=>{let m=0;const c=g.rows;return c.forEach((b,F)=>{if(s&&b.b<0){const S=c[m].b>=0?0:c[m].b*-1;m=b.b*-1>S?F:m}else if(!s){const S=c[m].b>=0?c[m].b:c[m].b*-1;m=(b.b>=0?b.b:b.b*-1)>S?F:m}}),m},h=(g,m)=>{const c=m.rows[g].rowCoefficients;let b=0;return c.forEach((F,S)=>{const k=c[b]>=0?c[b]:c[b]*-1;b=(F>=0?F:F*-1)>k?S:b}),b},p=d(a),C=h(p,a);return{rowIndex:p,colIndex:C}},o=a=>![...a.rows].filter(s=>s.b<0).length;let r=1,l=new At(t),i=o(l);for(;!i;){e.push(`
==> Начало итерации N${r}`),e.push(`
==> Этап 2. Шаг 1. Исходная таблица`),e.push(...yt(l)),e.push(`
==> Этап 2. Шаг 2. Проверка свободных членов на допустимость решения`),e.push(`Все свободные члены >= 0 ? Ответ:${i}`);const a=n(l);e.push(`
==> Этап 2. Шаг 3. Поиск ведущей строки и столбца`),e.push(`Строка: ${a.rowIndex}, столбец: ${a.colIndex}`),l=pn(l,a),e.push(`
==> Этап 2. Шаг 4. Расчет новой симплекс таблицы `),e.push(...yt(l)),e.push(`
==> Конец итерации N${r}`),i=o(l),r>30&&(i=!0,e.push(`
==> Внимание! Завершилось после 30 итераций`)),r++}return l}function Si(t,e){const n=(a,s=!0)=>{const d=(g,m)=>{let c=0;return m.forEach((b,F)=>{const S=b.b/b.rowCoefficients[g];if(S>=0){const k=m[c].b/m[c].rowCoefficients[g];c=S<k||k<0?F:c}}),c},p=(g=>{let m=0;return g.forEach((c,b)=>{if(s&&c<0){const F=g[m]*-1;m=c*-1>F?b:m}else if(!s){const F=g[m]>=0?g[m]:g[m]*-1;m=(c>=0?c:c*-1)>F?b:m}}),m})(a.rowF.rowCoefficients);return{rowIndex:d(p,a.rows),colIndex:p}},o=a=>![...a.rowF.rowCoefficients].filter(s=>s<0).length;let r=1,l=new At(t),i=o(l);for(;!i;){e.push(`
==> Начало итерации N${r}`),e.push(`
==> Этап 3. Шаг 1. Исходная таблица`),e.push(...yt(l)),e.push(`
==> Этап 3. Шаг 2. Проверка коэффициентов функции F на допустимость решения.`),e.push(`Все коэффициентов >= 0 ? Ответ:${i}`);const a=n(l);e.push(`
==> Этап 3. Шаг 3. Поиск ведущей строки и столбца для коэффициентов функции F`),e.push(`Строка: ${a.rowIndex}, столбец: ${a.colIndex}`),l=pn(l,a),e.push(`
==> Этап 3. Шаг 4. Расчет новой симплекс таблицы `),e.push(...yt(l)),e.push(`
==> Конец итерации N${r}`),i=o(l),r>50&&(i=!0),r++}return l}function Ei(t,e){const n=h=>!h.rows.filter(p=>+p.b.toFixed(2)%1!==0).length,o=(h,p=2)=>{const C=new At(h);return C.rows.forEach(g=>{g.b=Number(g.b.toFixed(p)),g.rowCoefficients=g.rowCoefficients.map(m=>Number(m.toFixed(p)))}),C.rowF.rowCoefficients=C.rowF.rowCoefficients.map(g=>Number(g.toFixed(p))),C},r=h=>{const p=c=>{let b=0,F=0;return c.rows.forEach((S,k)=>{const w=S.b%1;w>b&&(b=w,F=k)}),e.push(`Максимальная дробная часть:${b}`),e.push(`Индекс максимальной дробной части:${F}`),F},C=c=>{const b=c%1;return c>=0?-b:b<0?-1-b:b},g=p(h),m=new gn(h.rows[g]);return m.b=C(m.b),m.rowCoefficients=[...m.rowCoefficients.map(c=>C(c)),1],m},l=h=>{const p=(C,g)=>{let m=0;return g.forEach((c,b)=>{const F=C/c;if(F>0){const S=c/g[m];m=F<S||S<0?b:m}}),m};return{rowIndex:s.rows.length-1,colIndex:p(h.b,h.rowCoefficients)}},i=(h,p)=>{const C=m=>{const c=new At(m);return c.rows.forEach(b=>b.rowCoefficients.push(0)),c.rowF.rowCoefficients.push(0),c},g=new At(h);return s=C(s),g.rows.push(p),g};let a=1,s=new At(t),d=n(s);for(e.push(`
==> Этап 4. Шаг 0. Проверка свободных членов на целочисленность.`),e.push(`Все свободные члены b целые ? Ответ:${d}`),s=o(s);!d;){e.push(`
==> Начало итерации N${a}`),e.push(`
==> Этап 4. Шаг 1. Исходная таблица`),e.push(...yt(s)),e.push(`
==> Этап 4. Шаг 2. Формирование нового ограничения`);const h=r(s);s=i(s,h),e.push(...yt(s));const p=l(h);e.push(`
==> Этап 4. Шаг 3. Поиск ведущей строки и столбца`),e.push(`Строка: ${p.rowIndex}, столбец: ${p.colIndex}`),e.push(`
==> Этап 4. Шаг 4. Расчет новой симплекс таблицы `),s=o(pn(s,p)),e.push(...yt(s)),e.push(`
==> Этап 4. Шаг 4. Проверка свободных членов на целочисленность.`),d=n(s),e.push(`Все свободные члены b целые ? Ответ: ${d}`),e.push(`
==> Конец итерации N${a}`),a>20&&(d=!0,e.push(`
==> Внимание! Завершилось после 100 итераций`)),a++}return s}const Un=(t,e)=>{const n=o=>{const r=o.profileBlanks,l=t*2*o.baseProfile.size.h,i=[];i.push(`
==> Этап 0. Подготовка данных и коэффициентов `),i.push(`Припуск распила: ${t}`),i.push(`Площадь припуска распила: ${l} мм² = ${je(l,10)} м²`),i.push(`
Таблица заготовок и их параметров`),i.push(...bi(o.baseProfile,r));const a=pi(t,o.baseProfile.size.maxBaseLength,r);i.push(`
==> Этап 0. Шаг 1. Варианты раскроя изделия исходя из начальных условий.`),i.push(`Количество комбинаций: ${a.cuttingCombinations.length}`),i.push(`
==> Этап 1. Переход к канонической форме задачи линейного программирования путем введения неотрицательных дополнительных балансовых переменных.`);const s=vi(a.cuttingCombinations,r);i.push(`
==> Этап 1. Шаг 1. Получение матрицы коэффициентов`),i.push(...cn(s));const d=wi(s);i.push(`
==> Этап 1. Шаг 2. Переход к канонической форме задачи линейного программирования путем введения неотрицательных дополнительных балансовых переменных.`),i.push(...cn(d,!0)),i.push(`
==> Этап 2.  Проверка симплекс таблицы на допустимость решения. Расчет новой симплекс таблицы. `),i.push(`
==> Этап 2. Шаг 0. Инициализация симплекс таблицы`);const h=Ci(d);i.push(...yt(h));const p=Fi(h,i);i.push(`
==> Этап 3. Основной алгоритм решения задачи ЛП симплекс-методом. Расчет новой симплекс таблицы. `);const C=Si(p,i);i.push(...yt(C)),i.push(...jn(C,o.baseProfile,r,s).map(b=>`
${b}`)),i.push("[integer]"),i.push(`
==> Этап 4. Алгоритм поиска целочисленного решения ЗЛП методом Гомори `);const g=Ei(C,i);i.push(...jn(g,o.baseProfile,r,s,!0).map(b=>`
${b}`));let m=Ln(s[0].body.length-1,g.rows,a.drawCombinations),c=i;if(!m.length){m=Ln(s[0].body.length-1,C.rows,a.drawCombinations),m=m.length?m:a.drawCombinations;const b=i.findIndex(F=>F==="[integer]");c=i.slice(0,b)}return console.log("        if (!optimumCombinations.length) {"),console.log(m),m=_i(t,o.baseProfile.size.maxBaseLength,r,m),{baseProfile:o.baseProfile,listLogMessages:c,drawCombinations:a.drawCombinations,optimumDrawCombinations:m}};return e.map(o=>n(o))};function qi(t){let e,n;return{c(){e=rt("svg"),n=rt("path"),this.h()},l(o){e=st(o,"svg",{"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var r=E(e);n=st(r,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),E(n).forEach(_),r.forEach(_),this.h()},h(){f(n,"stroke","white"),f(n,"stroke-linecap","round"),f(n,"stroke-width","2"),f(n,"d","M7.24 7.194a24.16 24.16 0 0 1 3.72-3.062m0 0c3.443-2.277 6.732-2.969 8.24-1.46 2.054 2.053.03 7.407-4.522 11.959-4.552 4.551-9.906 6.576-11.96 4.522C1.223 17.658 1.89 14.412 4.121 11m6.838-6.868c-3.443-2.277-6.732-2.969-8.24-1.46-2.054 2.053-.03 7.407 4.522 11.959m3.718-10.499a24.16 24.16 0 0 1 3.719 3.062M17.798 11c2.23 3.412 2.898 6.658 1.402 8.153-1.502 1.503-4.771.822-8.2-1.433m1-6.808a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","1 0 25 22"),f(e,"width","25"),f(e,"data-view-component","true")},m(o,r){he(o,e,r),u(e,n)},p:$e,i:$e,o:$e,d(o){o&&_(e)}}}class ki extends He{constructor(e){super(),Ve(this,e,null,qi,Me,{})}}function Di(t){let e,n;return{c(){e=rt("svg"),n=rt("path"),this.h()},l(o){e=st(o,"svg",{class:!0,"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var r=E(e);n=st(r,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),E(n).forEach(_),r.forEach(_),this.h()},h(){f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-width","2"),f(n,"d","M1 18a.969.969 0 0 0 .933 1h12.134A.97.97 0 0 0 15 18M1 7V5.828a2 2 0 0 1 .586-1.414l2.828-2.828A2 2 0 0 1 5.828 1h8.239A.97.97 0 0 1 15 2v5M6 1v4a1 1 0 0 1-1 1H1m0 9v-5h1.5a1.5 1.5 0 1 1 0 3H1m12 2v-5h2m-2 3h2m-8-3v5h1.375A1.626 1.626 0 0 0 10 13.375v-1.75A1.626 1.626 0 0 0 8.375 10H7Z"),f(e,"class",t[0]),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","0 0 20 20"),f(e,"width","18"),f(e,"data-view-component","true")},m(o,r){he(o,e,r),u(e,n)},p(o,[r]){r&1&&f(e,"class",o[0])},i:$e,o:$e,d(o){o&&_(e)}}}function yi(t,e,n){let{class:o=""}=e;return t.$$set=r=>{"class"in r&&n(0,o=r.class)},[o]}class Ti extends He{constructor(e){super(),Ve(this,e,yi,Di,Me,{class:0})}}function Xn(t){let e,n,o,r,l=t[1].numbersOfSawing+"",i,a,s,d,h,p=t[1].totalSquare+"",C,g,m=je(t[1].totalSquare)+"",c,b,F,S,k,w=t[1].usefulSquare+"",I,q,v=je(t[1].usefulSquare)+"",$,oe,D=Mt(t[1].usefulSquare,t[1].totalSquare)+"",X,B,ie,x,ne,ue=t[1].remainSquare+"",A,ee,H=je(t[1].remainSquare)+"",J,re,U=Mt(t[1].remainSquare,t[1].totalSquare)+"",de,ve;return{c(){e=y("div"),n=y("ul"),o=y("li"),r=W("Количество пилов: "),i=W(l),a=W(" шт."),s=z(),d=y("li"),h=W("Общая площадь: "),C=W(p),g=W(" мм² = "),c=W(m),b=W(" м² = 100%"),F=z(),S=y("li"),k=W("Полезная площадь: "),I=W(w),q=W(" мм² = "),$=W(v),oe=W(` м² =
                `),X=W(D),B=W("%"),ie=z(),x=y("li"),ne=W("Площадь остатков: "),A=W(ue),ee=W(" мм² = "),J=W(H),re=W(` м² =
                `),de=W(U),ve=W("%"),this.h()},l(se){e=T(se,"DIV",{});var ae=E(e);n=T(ae,"UL",{style:!0});var me=E(n);o=T(me,"LI",{class:!0});var Fe=E(o);r=L(Fe,"Количество пилов: "),i=L(Fe,l),a=L(Fe," шт."),Fe.forEach(_),s=R(me),d=T(me,"LI",{});var M=E(d);h=L(M,"Общая площадь: "),C=L(M,p),g=L(M," мм² = "),c=L(M,m),b=L(M," м² = 100%"),M.forEach(_),F=R(me),S=T(me,"LI",{});var N=E(S);k=L(N,"Полезная площадь: "),I=L(N,w),q=L(N," мм² = "),$=L(N,v),oe=L(N,` м² =
                `),X=L(N,D),B=L(N,"%"),N.forEach(_),ie=R(me),x=T(me,"LI",{});var j=E(x);ne=L(j,"Площадь остатков: "),A=L(j,ue),ee=L(j," мм² = "),J=L(j,H),re=L(j,` м² =
                `),de=L(j,U),ve=L(j,"%"),j.forEach(_),me.forEach(_),ae.forEach(_),this.h()},h(){f(o,"class","mb-2"),oo(n,"list-style","inside")},m(se,ae){he(se,e,ae),u(e,n),u(n,o),u(o,r),u(o,i),u(o,a),u(n,s),u(n,d),u(d,h),u(d,C),u(d,g),u(d,c),u(d,b),u(n,F),u(n,S),u(S,k),u(S,I),u(S,q),u(S,$),u(S,oe),u(S,X),u(S,B),u(n,ie),u(n,x),u(x,ne),u(x,A),u(x,ee),u(x,J),u(x,re),u(x,de),u(x,ve)},p(se,ae){ae&2&&l!==(l=se[1].numbersOfSawing+"")&&Re(i,l),ae&2&&p!==(p=se[1].totalSquare+"")&&Re(C,p),ae&2&&m!==(m=je(se[1].totalSquare)+"")&&Re(c,m),ae&2&&w!==(w=se[1].usefulSquare+"")&&Re(I,w),ae&2&&v!==(v=je(se[1].usefulSquare)+"")&&Re($,v),ae&2&&D!==(D=Mt(se[1].usefulSquare,se[1].totalSquare)+"")&&Re(X,D),ae&2&&ue!==(ue=se[1].remainSquare+"")&&Re(A,ue),ae&2&&H!==(H=je(se[1].remainSquare)+"")&&Re(J,H),ae&2&&U!==(U=Mt(se[1].remainSquare,se[1].totalSquare)+"")&&Re(de,U)},d(se){se&&_(e)}}}function Ii(t){let e,n=t[0].optimumDrawCombinations&&Xn(t);return{c(){n&&n.c(),e=Xt()},l(o){n&&n.l(o),e=Xt()},m(o,r){n&&n.m(o,r),he(o,e,r)},p(o,[r]){o[0].optimumDrawCombinations?n?n.p(o,r):(n=Xn(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:$e,o:$e,d(o){n&&n.d(o),o&&_(e)}}}function Bi(t,e,n){let{order:o}=e,{result:r}=e;const l={totalSquare:0,usefulSquare:0,remainSquare:0,numbersOfSawing:0};return sn(()=>{const i=r.optimumDrawCombinations.reduce((s,d)=>(s.totalSquare+=d.squaresStats.totalSquare,s.remainSquare+=d.squaresStats.remainSquare,s.usefulSquare+=d.squaresStats.usefulSquare,s.numbersOfSawing+=d.numbersOfSawing,s),{totalSquare:0,usefulSquare:0,remainSquare:0,numbersOfSawing:0});console.log(r.endFace,i),console.log(r);const a=1;n(1,l.totalSquare=parseFloat(i.totalSquare.toFixed(0))*a,l),n(1,l.usefulSquare=parseFloat(i.usefulSquare.toFixed(0))*a,l),n(1,l.remainSquare=parseFloat(i.remainSquare.toFixed(0))*a,l),n(1,l.numbersOfSawing=i.numbersOfSawing*a,l)}),t.$$set=i=>{"order"in i&&n(2,o=i.order),"result"in i&&n(0,r=i.result)},[r,l,o]}class Oi extends He{constructor(e){super(),Ve(this,e,Bi,Ii,Me,{order:2,result:0})}}function Gn(t){let e,n,o,r,l=t[1].numbersOfSawing+"",i,a,s,d,h,p=t[1].totalSquare+"",C,g,m=je(t[1].totalSquare)+"",c,b,F,S,k,w=t[1].usefulSquare+"",I,q,v=je(t[1].usefulSquare)+"",$,oe,D=Mt(t[1].usefulSquare,t[1].totalSquare)+"",X,B,ie,x,ne,ue=t[1].remainSquare+"",A,ee,H=je(t[1].remainSquare)+"",J,re,U=Mt(t[1].remainSquare,t[1].totalSquare)+"",de,ve;return{c(){e=y("div"),n=y("ul"),o=y("li"),r=W("Количество пилов: "),i=W(l),a=W(" шт."),s=z(),d=y("li"),h=W("Общая площадь: "),C=W(p),g=W(" мм² = "),c=W(m),b=W(" м² = 100%"),F=z(),S=y("li"),k=W("Полезная площадь: "),I=W(w),q=W(" мм² = "),$=W(v),oe=W(` м² =
                `),X=W(D),B=W("%"),ie=z(),x=y("li"),ne=W("Площадь остатков: "),A=W(ue),ee=W(" мм² = "),J=W(H),re=W(` м² =
                `),de=W(U),ve=W("%"),this.h()},l(se){e=T(se,"DIV",{});var ae=E(e);n=T(ae,"UL",{style:!0});var me=E(n);o=T(me,"LI",{class:!0});var Fe=E(o);r=L(Fe,"Количество пилов: "),i=L(Fe,l),a=L(Fe," шт."),Fe.forEach(_),s=R(me),d=T(me,"LI",{});var M=E(d);h=L(M,"Общая площадь: "),C=L(M,p),g=L(M," мм² = "),c=L(M,m),b=L(M," м² = 100%"),M.forEach(_),F=R(me),S=T(me,"LI",{});var N=E(S);k=L(N,"Полезная площадь: "),I=L(N,w),q=L(N," мм² = "),$=L(N,v),oe=L(N,` м² =
                `),X=L(N,D),B=L(N,"%"),N.forEach(_),ie=R(me),x=T(me,"LI",{});var j=E(x);ne=L(j,"Площадь остатков: "),A=L(j,ue),ee=L(j," мм² = "),J=L(j,H),re=L(j,` м² =
                `),de=L(j,U),ve=L(j,"%"),j.forEach(_),me.forEach(_),ae.forEach(_),this.h()},h(){f(o,"class","mb-2"),oo(n,"list-style","inside")},m(se,ae){he(se,e,ae),u(e,n),u(n,o),u(o,r),u(o,i),u(o,a),u(n,s),u(n,d),u(d,h),u(d,C),u(d,g),u(d,c),u(d,b),u(n,F),u(n,S),u(S,k),u(S,I),u(S,q),u(S,$),u(S,oe),u(S,X),u(S,B),u(n,ie),u(n,x),u(x,ne),u(x,A),u(x,ee),u(x,J),u(x,re),u(x,de),u(x,ve)},p(se,ae){ae&2&&l!==(l=se[1].numbersOfSawing+"")&&Re(i,l),ae&2&&p!==(p=se[1].totalSquare+"")&&Re(C,p),ae&2&&m!==(m=je(se[1].totalSquare)+"")&&Re(c,m),ae&2&&w!==(w=se[1].usefulSquare+"")&&Re(I,w),ae&2&&v!==(v=je(se[1].usefulSquare)+"")&&Re($,v),ae&2&&D!==(D=Mt(se[1].usefulSquare,se[1].totalSquare)+"")&&Re(X,D),ae&2&&ue!==(ue=se[1].remainSquare+"")&&Re(A,ue),ae&2&&H!==(H=je(se[1].remainSquare)+"")&&Re(J,H),ae&2&&U!==(U=Mt(se[1].remainSquare,se[1].totalSquare)+"")&&Re(de,U)},d(se){se&&_(e)}}}function zi(t){let e,n=t[0].optimumDrawCombinations&&Gn(t);return{c(){n&&n.c(),e=Xt()},l(o){n&&n.l(o),e=Xt()},m(o,r){n&&n.m(o,r),he(o,e,r)},p(o,[r]){o[0].optimumDrawCombinations?n?n.p(o,r):(n=Gn(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:$e,o:$e,d(o){n&&n.d(o),o&&_(e)}}}function Ri(t,e,n){let{order:o}=e,{result:r}=e;const l={totalSquare:0,usefulSquare:0,remainSquare:0,numbersOfSawing:0};return sn(()=>{const i=r.optimumDrawCombinations.reduce((s,d)=>(s.totalSquare+=d.squaresStats.totalSquare,s.remainSquare+=d.squaresStats.remainSquare,s.usefulSquare+=d.squaresStats.usefulSquare,s.numbersOfSawing+=d.numbersOfSawing,s),{totalSquare:0,usefulSquare:0,remainSquare:0,numbersOfSawing:0}),a=1;n(1,l.totalSquare=parseFloat(i.totalSquare.toFixed(0))*a,l),n(1,l.usefulSquare=parseFloat(i.usefulSquare.toFixed(0))*a,l),n(1,l.remainSquare=parseFloat(i.remainSquare.toFixed(0))*a,l),n(1,l.numbersOfSawing=i.numbersOfSawing*a,l)}),t.$$set=i=>{"order"in i&&n(2,o=i.order),"result"in i&&n(0,r=i.result)},[r,l,o]}class Hi extends He{constructor(e){super(),Ve(this,e,Ri,zi,Me,{order:2,result:0})}}function Zn(t){let e,n;return e=new _o({props:{class:"mx-auto py-5 px-10 w-[300mm] h-[350mm]",canvasConstructionTypes:t[1],order:t[4],resultsForDrawDoorFrame:t[2],resultsForDrawEndFace:t[3]}}),{c(){G(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,r){K(e,o,r),n=!0},p(o,r){const l={};r&2&&(l.canvasConstructionTypes=o[1]),r&16&&(l.order=o[4]),r&4&&(l.resultsForDrawDoorFrame=o[2]),r&8&&(l.resultsForDrawEndFace=o[3]),e.$set(l)},i(o){n||(O(e.$$.fragment,o),n=!0)},o(o){V(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Vi(t){let e,n,o,r,l,i=(t[2].length||t[3].length)&&t[1].length&&t[4]&&t[0]&&Zn(t);return{c(){e=y("dialog"),i&&i.c(),this.h()},l(a){e=T(a,"DIALOG",{class:!0});var s=E(e);i&&i.l(s),s.forEach(_),this.h()},h(){f(e,"class",n=En(t[5])+" svelte-1jloh36")},m(a,s){he(a,e,s),i&&i.m(e,null),t[8](e),o=!0,r||(l=[dt(e,"close",t[9]),dt(e,"click",Do(t[10]))],r=!0)},p(a,[s]){(a[2].length||a[3].length)&&a[1].length&&a[4]&&a[0]?i?(i.p(a,s),s&31&&O(i,1)):(i=Zn(a),i.c(),O(i,1),i.m(e,null)):i&&(Ye(),V(i,1,1,()=>{i=null}),Je()),(!o||s&32&&n!==(n=En(a[5])+" svelte-1jloh36"))&&f(e,"class",n)},i(a){o||(O(i),o=!0)},o(a){V(i),o=!1},d(a){a&&_(e),i&&i.d(),t[8](null),r=!1,rn(l)}}}function Mi(t,e,n){let{canvasConstructionTypes:o}=e,{results:r=[]}=e,{resultsForDrawDoorFrame:l=[]}=e,{resultsForDrawEndFace:i=[]}=e,{order:a}=e,{class:s=""}=e,{isShow:d}=e,h;function p(m){le[m?"unshift":"push"](()=>{h=m,n(6,h)})}const C=()=>n(0,d=!1),g=()=>h.close();return t.$$set=m=>{"canvasConstructionTypes"in m&&n(1,o=m.canvasConstructionTypes),"results"in m&&n(7,r=m.results),"resultsForDrawDoorFrame"in m&&n(2,l=m.resultsForDrawDoorFrame),"resultsForDrawEndFace"in m&&n(3,i=m.resultsForDrawEndFace),"order"in m&&n(4,a=m.order),"class"in m&&n(5,s=m.class),"isShow"in m&&n(0,d=m.isShow)},t.$$.update=()=>{t.$$.dirty&65&&h&&d&&h.showModal()},[d,o,l,i,a,s,h,r,p,C,g]}class Ai extends He{constructor(e){super(),Ve(this,e,Mi,Vi,Me,{canvasConstructionTypes:1,results:7,resultsForDrawDoorFrame:2,resultsForDrawEndFace:3,order:4,class:5,isShow:0})}}function Kn(t,e,n){const o=t.slice();return o[12]=e[n],o[13]=e,o[14]=n,o}function Yn(t,e,n){const o=t.slice();return o[12]=e[n],o[15]=e,o[16]=n,o}function Pi(t){let e,n,o;function r(i){t[9](i,t[12],t[15],t[16])}let l={order:t[1]};return t[12]!==void 0&&(l.result=t[12]),e=new Hi({props:l}),le.push(()=>fe(e,"result",r)),{c(){G(e.$$.fragment)},l(i){Z(e.$$.fragment,i)},m(i,a){K(e,i,a),o=!0},p(i,a){t=i;const s={};a&2&&(s.order=t[1]),!n&&a&4&&(n=!0,s.result=t[12],ce(()=>n=!1)),e.$set(s)},i(i){o||(O(e.$$.fragment,i),o=!0)},o(i){V(e.$$.fragment,i),o=!1},d(i){Y(e,i)}}}function Ni(t){let e,n;return{c(){e=y("div"),this.h()},l(o){e=T(o,"DIV",{id:!0,class:!0}),E(e).forEach(_),this.h()},h(){f(e,"id",n="container_DoorFrame_OptimumCombinations_Canvas_"+t[12].id),f(e,"class","flex flex-col overflow-auto")},m(o,r){he(o,e,r)},p(o,r){r&4&&n!==(n="container_DoorFrame_OptimumCombinations_Canvas_"+o[12].id)&&f(e,"id",n)},d(o){o&&_(e)}}}function Jn(t){let e,n,o=t[12].doorFrame.name+"",r,l,i,a,s,d,h,p,C;return s=new Yt({props:{title:"Статистика по раскрою",$$slots:{default:[Pi]},$$scope:{ctx:t}}}),p=new Yt({props:{title:"Схемы раскроя ",isOpen:t[5],$$slots:{default:[Ni]},$$scope:{ctx:t}}}),{c(){e=y("h2"),n=W('Для коробки "'),r=W(o),l=W('"'),i=z(),a=y("div"),G(s.$$.fragment),d=z(),h=y("div"),G(p.$$.fragment),this.h()},l(g){e=T(g,"H2",{class:!0});var m=E(e);n=L(m,'Для коробки "'),r=L(m,o),l=L(m,'"'),m.forEach(_),i=R(g),a=T(g,"DIV",{class:!0});var c=E(a);Z(s.$$.fragment,c),c.forEach(_),d=R(g),h=T(g,"DIV",{class:!0});var b=E(h);Z(p.$$.fragment,b),b.forEach(_),this.h()},h(){f(e,"class","mt-20 text-xl font-bold text-gray-900 dark:text-white"),f(a,"class","mt-5"),f(h,"class","mt-5")},m(g,m){he(g,e,m),u(e,n),u(e,r),u(e,l),he(g,i,m),he(g,a,m),K(s,a,null),he(g,d,m),he(g,h,m),K(p,h,null),C=!0},p(g,m){(!C||m&4)&&o!==(o=g[12].doorFrame.name+"")&&Re(r,o);const c={};m&131078&&(c.$$scope={dirty:m,ctx:g}),s.$set(c);const b={};m&32&&(b.isOpen=g[5]),m&131076&&(b.$$scope={dirty:m,ctx:g}),p.$set(b)},i(g){C||(O(s.$$.fragment,g),O(p.$$.fragment,g),C=!0)},o(g){V(s.$$.fragment,g),V(p.$$.fragment,g),C=!1},d(g){g&&_(e),g&&_(i),g&&_(a),Y(s),g&&_(d),g&&_(h),Y(p)}}}function $i(t){let e,n,o;function r(i){t[10](i,t[12],t[13],t[14])}let l={order:t[1]};return t[12]!==void 0&&(l.result=t[12]),e=new Oi({props:l}),le.push(()=>fe(e,"result",r)),{c(){G(e.$$.fragment)},l(i){Z(e.$$.fragment,i)},m(i,a){K(e,i,a),o=!0},p(i,a){t=i;const s={};a&2&&(s.order=t[1]),!n&&a&8&&(n=!0,s.result=t[12],ce(()=>n=!1)),e.$set(s)},i(i){o||(O(e.$$.fragment,i),o=!0)},o(i){V(e.$$.fragment,i),o=!1},d(i){Y(e,i)}}}function Wi(t){let e,n;return{c(){e=y("div"),this.h()},l(o){e=T(o,"DIV",{id:!0,class:!0}),E(e).forEach(_),this.h()},h(){f(e,"id",n="container_EndFace_OptimumCombinations_Canvas_"+t[12].id),f(e,"class","flex flex-col overflow-auto")},m(o,r){he(o,e,r)},p(o,r){r&8&&n!==(n="container_EndFace_OptimumCombinations_Canvas_"+o[12].id)&&f(e,"id",n)},d(o){o&&_(e)}}}function Qn(t){let e,n,o=t[12].endFace.name+"",r,l,i,a,s,d,h,p,C;return s=new Yt({props:{title:"Статистика по раскрою",$$slots:{default:[$i]},$$scope:{ctx:t}}}),p=new Yt({props:{title:"Схемы раскроя",isOpen:t[5],$$slots:{default:[Wi]},$$scope:{ctx:t}}}),{c(){e=y("h2"),n=W('Для торца "'),r=W(o),l=W('"'),i=z(),a=y("div"),G(s.$$.fragment),d=z(),h=y("div"),G(p.$$.fragment),this.h()},l(g){e=T(g,"H2",{class:!0});var m=E(e);n=L(m,'Для торца "'),r=L(m,o),l=L(m,'"'),m.forEach(_),i=R(g),a=T(g,"DIV",{class:!0});var c=E(a);Z(s.$$.fragment,c),c.forEach(_),d=R(g),h=T(g,"DIV",{class:!0});var b=E(h);Z(p.$$.fragment,b),b.forEach(_),this.h()},h(){f(e,"class","mt-20 text-xl font-bold text-gray-900 dark:text-white"),f(a,"class","mt-5"),f(h,"class","mt-5")},m(g,m){he(g,e,m),u(e,n),u(e,r),u(e,l),he(g,i,m),he(g,a,m),K(s,a,null),he(g,d,m),he(g,h,m),K(p,h,null),C=!0},p(g,m){(!C||m&8)&&o!==(o=g[12].endFace.name+"")&&Re(r,o);const c={};m&131082&&(c.$$scope={dirty:m,ctx:g}),s.$set(c);const b={};m&32&&(b.isOpen=g[5]),m&131080&&(b.$$scope={dirty:m,ctx:g}),p.$set(b)},i(g){C||(O(s.$$.fragment,g),O(p.$$.fragment,g),C=!0)},o(g){V(s.$$.fragment,g),V(p.$$.fragment,g),C=!1},d(g){g&&_(e),g&&_(i),g&&_(a),Y(s),g&&_(d),g&&_(h),Y(p)}}}function Li(t){let e,n,o,r,l,i,a,s,d,h,p,C,g,m,c,b,F,S,k,w,I,q,v,$,oe,D;s=new ki({});let X=t[2],B=[];for(let H=0;H<X.length;H+=1)B[H]=Jn(Yn(t,X,H));const ie=H=>V(B[H],1,1,()=>{B[H]=null});let x=t[3],ne=[];for(let H=0;H<x.length;H+=1)ne[H]=Qn(Kn(t,x,H));const ue=H=>V(ne[H],1,1,()=>{ne[H]=null});k=new Ti({});function A(H){t[11](H)}let ee={canvasConstructionTypes:t[0],order:t[1],resultsForDrawDoorFrame:t[2],resultsForDrawEndFace:t[3]};return t[4]!==void 0&&(ee.isShow=t[4]),q=new Ai({props:ee}),le.push(()=>fe(q,"isShow",A)),{c(){e=y("section"),n=y("div"),o=y("div"),r=y("h2"),l=W("Форма расчета"),i=z(),a=y("button"),G(s.$$.fragment),d=W(`
                Запустить расчет`),h=z();for(let H=0;H<B.length;H+=1)B[H].c();p=z();for(let H=0;H<ne.length;H+=1)ne[H].c();C=z(),g=y("div"),m=y("button"),c=W("Посмотреть отчет в окне"),b=z(),F=y("button"),S=y("a"),G(k.$$.fragment),w=W(" Показать отчет"),I=z(),G(q.$$.fragment),this.h()},l(H){e=T(H,"SECTION",{class:!0});var J=E(e);n=T(J,"DIV",{class:!0});var re=E(n);o=T(re,"DIV",{class:!0});var U=E(o);r=T(U,"H2",{class:!0});var de=E(r);l=L(de,"Форма расчета"),de.forEach(_),i=R(U),a=T(U,"BUTTON",{class:!0});var ve=E(a);Z(s.$$.fragment,ve),d=L(ve,`
                Запустить расчет`),ve.forEach(_),U.forEach(_),h=R(re);for(let M=0;M<B.length;M+=1)B[M].l(re);p=R(re);for(let M=0;M<ne.length;M+=1)ne[M].l(re);C=R(re),g=T(re,"DIV",{class:!0});var se=E(g);m=T(se,"BUTTON",{class:!0});var ae=E(m);c=L(ae,"Посмотреть отчет в окне"),ae.forEach(_),b=R(se),F=T(se,"BUTTON",{class:!0});var me=E(F);S=T(me,"A",{target:!0,href:!0,class:!0});var Fe=E(S);Z(k.$$.fragment,Fe),w=L(Fe," Показать отчет"),Fe.forEach(_),me.forEach(_),se.forEach(_),re.forEach(_),J.forEach(_),I=R(H),Z(q.$$.fragment,H),this.h()},h(){f(r,"class","mb-4 text-[28px] font-bold text-gray-900 dark:text-white"),f(a,"class","gap-1 inline-flex items-center px-5 py-2.5 font-medium text-center text-white bg-primary-600 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-700"),f(o,"class","my-20 flex justify-between align-middle items-center"),f(m,"class","gap-1 inline-flex items-center px-5 py-2.5 font-medium text-center float-right text-white bg-primary-600 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-700"),f(S,"target","_blank"),f(S,"href","/orders-klimov-red-public/report"),f(S,"class","inline-flex items-center"),f(F,"class","gap-1 px-5 py-2.5 font-medium text-center float-right text-white bg-primary-600 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-700"),f(g,"class","flex gap-2 justify-end mt-10"),f(n,"class","py-8 px-4 mx-auto lg:py-16"),f(e,"class","bg-white dark:bg-gray-900")},m(H,J){he(H,e,J),u(e,n),u(n,o),u(o,r),u(r,l),u(o,i),u(o,a),K(s,a,null),u(a,d),u(n,h);for(let re=0;re<B.length;re+=1)B[re]&&B[re].m(n,null);u(n,p);for(let re=0;re<ne.length;re+=1)ne[re]&&ne[re].m(n,null);u(n,C),u(n,g),u(g,m),u(m,c),u(g,b),u(g,F),u(F,S),K(k,S,null),u(S,w),he(H,I,J),K(q,H,J),$=!0,oe||(D=[dt(a,"click",t[8]),dt(m,"click",t[7]),dt(F,"click",t[6])],oe=!0)},p(H,[J]){if(J&38){X=H[2];let U;for(U=0;U<X.length;U+=1){const de=Yn(H,X,U);B[U]?(B[U].p(de,J),O(B[U],1)):(B[U]=Jn(de),B[U].c(),O(B[U],1),B[U].m(n,p))}for(Ye(),U=X.length;U<B.length;U+=1)ie(U);Je()}if(J&42){x=H[3];let U;for(U=0;U<x.length;U+=1){const de=Kn(H,x,U);ne[U]?(ne[U].p(de,J),O(ne[U],1)):(ne[U]=Qn(de),ne[U].c(),O(ne[U],1),ne[U].m(n,C))}for(Ye(),U=x.length;U<ne.length;U+=1)ue(U);Je()}const re={};J&1&&(re.canvasConstructionTypes=H[0]),J&2&&(re.order=H[1]),J&4&&(re.resultsForDrawDoorFrame=H[2]),J&8&&(re.resultsForDrawEndFace=H[3]),!v&&J&16&&(v=!0,re.isShow=H[4],ce(()=>v=!1)),q.$set(re)},i(H){if(!$){O(s.$$.fragment,H);for(let J=0;J<X.length;J+=1)O(B[J]);for(let J=0;J<x.length;J+=1)O(ne[J]);O(k.$$.fragment,H),O(q.$$.fragment,H),$=!0}},o(H){V(s.$$.fragment,H),B=B.filter(Boolean);for(let J=0;J<B.length;J+=1)V(B[J]);ne=ne.filter(Boolean);for(let J=0;J<ne.length;J+=1)V(ne[J]);V(k.$$.fragment,H),V(q.$$.fragment,H),$=!1},d(H){H&&_(e),Y(s),Kt(B,H),Kt(ne,H),Y(k),H&&_(I),Y(q,H),oe=!1,rn(D)}}}function ji(t,e,n){let{canvasConstructionTypes:o}=e,{order:r}=e,l=[],i=[];const a=()=>{ln("resultsForDrawDoorFrame_report",l),ln("resultsForDrawEndFace_report",i),ln("order_report",r)};let s=!1,d=!1;const h=()=>{n(4,s=!0)},p=()=>{n(2,l=[]),n(3,i=[]);const c=new qn({id:ge(),type:"info",text:"Расчет запущен!"});kn.add(Dn(c));const b=(k,w)=>{k.log=w.listLogMessages.map(I=>I.includes("==>")?`<p class='mt-2 font-bold'>${I}</p>`:`<p '>${I}</p>`).join(""),k.shortLog=w.listLogMessages.slice(w.listLogMessages.findLastIndex(I=>I.includes("Результаты вычисления задачи поиска решения оптимального раскроя")),w.listLogMessages.findLastIndex(I=>I.includes("Остатки: "))+1).map(I=>I.includes("==>")?`<p class='mt-2 font-bold'>${I}</p>`:`<p '>${I}</p>`).join("")},F=(k,w,I)=>{const q=new bo({id:ge(),log:"",shortLog:"",doorFrame:k,baseProfile:w.baseProfile,drawCombinations:w.drawCombinations,optimumDrawCombinations:w.optimumDrawCombinations});b(q,w),I.push(q)},S=(k,w,I)=>{const q=new vo({id:ge(),log:"",shortLog:"",endFace:k,baseProfile:w.baseProfile,drawCombinations:w.drawCombinations,optimumDrawCombinations:w.optimumDrawCombinations});b(q,w),I.push(q)};r.allDoorFrameProfiles.map(k=>{Un(r.processing.stockSawing,k.detailBlanks).forEach(I=>{F(k.doorFrame,I,l)})}),n(2,l=[...l]),r.allEndFaceProfiles.map(k=>{Un(r.processing.stockSawing,k.detailBlanks).forEach(I=>{S(k.endFace,I,i)})}),n(3,i=[...i]),n(5,d=!0),setTimeout(()=>{l.forEach(w=>{Sn(`container_DoorFrame_OptimumCombinations_Canvas_${w.id}`,r.processing.stockSawing,w.baseProfile,w.optimumDrawCombinations)}),i.forEach(w=>{Sn(`container_EndFace_OptimumCombinations_Canvas_${w.id}`,r.processing.stockSawing,w.baseProfile,w.optimumDrawCombinations,{hDivider:.2,wDivider:5,halfXBoard:15,halfYBoard:100})});const k=new qn({id:ge(),type:"success",text:"Расчет завершен!"});kn.add(Dn(k)),n(5,d=!1)},1e3)};mn(()=>{setTimeout(()=>{p()},1e3)});function C(c,b,F,S){F[S]=c,n(2,l)}function g(c,b,F,S){F[S]=c,n(3,i)}function m(c){s=c,n(4,s)}return t.$$set=c=>{"canvasConstructionTypes"in c&&n(0,o=c.canvasConstructionTypes),"order"in c&&n(1,r=c.order)},[o,r,l,i,s,d,a,h,p,C,g,m]}class Ui extends He{constructor(e){super(),Ve(this,e,ji,Li,Me,{canvasConstructionTypes:0,order:1})}}function Xi(t){let e,n,o,r,l,i,a,s,d,h,p,C,g,m,c,b,F,S,k,w,I;function q(A){t[16](A)}let v={workers:t[1],managers:t[0],companies:t[2]};t[11].metaOrder!==void 0&&(v.metaOrder=t[11].metaOrder),n=new mi({props:v}),le.push(()=>fe(n,"metaOrder",q));function $(A){t[17](A)}let oe={canvasConstructionTypes:t[6]};t[11].equipments!==void 0&&(oe.equipments=t[11].equipments),s=new ei({props:oe}),le.push(()=>fe(s,"equipments",$));function D(A){t[18](A)}function X(A){t[19](A)}let B={};t[11].processing!==void 0&&(B.processing=t[11].processing),t[11].equipments!==void 0&&(B.equipments=t[11].equipments),p=new oi({props:B}),le.push(()=>fe(p,"processing",D)),le.push(()=>fe(p,"equipments",X));function ie(A){t[20](A)}function x(A){t[21](A)}function ne(A){t[22](A)}let ue={profileMaterials:t[8],openingSides:t[3],doorFrames:t[5],endFaceTypes:t[7],hingesTypes:t[4],profileColors:t[9],millingVersions:t[10],addBuildPiece:t[13],copyBuildPiece:t[14],removeBuildPiece:t[15]};return t[12]!==void 0&&(ue.buildPieces=t[12]),t[11].equipments!==void 0&&(ue.equipments=t[11].equipments),t[11].processing!==void 0&&(ue.processing=t[11].processing),c=new Jo({props:ue}),le.push(()=>fe(c,"buildPieces",ie)),le.push(()=>fe(c,"equipments",x)),le.push(()=>fe(c,"processing",ne)),w=new Ui({props:{order:t[11],canvasConstructionTypes:t[6]}}),{c(){e=y("div"),G(n.$$.fragment),r=z(),l=y("hr"),i=z(),a=y("div"),G(s.$$.fragment),h=z(),G(p.$$.fragment),m=z(),G(c.$$.fragment),k=z(),G(w.$$.fragment),this.h()},l(A){e=T(A,"DIV",{class:!0});var ee=E(e);Z(n.$$.fragment,ee),r=R(ee),l=T(ee,"HR",{class:!0}),i=R(ee),a=T(ee,"DIV",{class:!0});var H=E(a);Z(s.$$.fragment,H),h=R(H),Z(p.$$.fragment,H),H.forEach(_),m=R(ee),Z(c.$$.fragment,ee),k=R(ee),Z(w.$$.fragment,ee),ee.forEach(_),this.h()},h(){f(l,"class","h-px my-8 bg-gray-200 border-0 dark:bg-gray-700"),f(a,"class","animate__animated animate__fadeInDown animate__slow flex justify-around"),f(e,"class","")},m(A,ee){he(A,e,ee),K(n,e,null),u(e,r),u(e,l),u(e,i),u(e,a),K(s,a,null),u(a,h),K(p,a,null),u(e,m),K(c,e,null),u(e,k),K(w,e,null),I=!0},p(A,[ee]){const H={};ee&2&&(H.workers=A[1]),ee&1&&(H.managers=A[0]),ee&4&&(H.companies=A[2]),!o&&ee&2048&&(o=!0,H.metaOrder=A[11].metaOrder,ce(()=>o=!1)),n.$set(H);const J={};ee&64&&(J.canvasConstructionTypes=A[6]),!d&&ee&2048&&(d=!0,J.equipments=A[11].equipments,ce(()=>d=!1)),s.$set(J);const re={};!C&&ee&2048&&(C=!0,re.processing=A[11].processing,ce(()=>C=!1)),!g&&ee&2048&&(g=!0,re.equipments=A[11].equipments,ce(()=>g=!1)),p.$set(re);const U={};ee&256&&(U.profileMaterials=A[8]),ee&8&&(U.openingSides=A[3]),ee&32&&(U.doorFrames=A[5]),ee&128&&(U.endFaceTypes=A[7]),ee&16&&(U.hingesTypes=A[4]),ee&512&&(U.profileColors=A[9]),ee&1024&&(U.millingVersions=A[10]),!b&&ee&4096&&(b=!0,U.buildPieces=A[12],ce(()=>b=!1)),!F&&ee&2048&&(F=!0,U.equipments=A[11].equipments,ce(()=>F=!1)),!S&&ee&2048&&(S=!0,U.processing=A[11].processing,ce(()=>S=!1)),c.$set(U);const de={};ee&2048&&(de.order=A[11]),ee&64&&(de.canvasConstructionTypes=A[6]),w.$set(de)},i(A){I||(O(n.$$.fragment,A),O(s.$$.fragment,A),O(p.$$.fragment,A),O(c.$$.fragment,A),O(w.$$.fragment,A),I=!0)},o(A){V(n.$$.fragment,A),V(s.$$.fragment,A),V(p.$$.fragment,A),V(c.$$.fragment,A),V(w.$$.fragment,A),I=!1},d(A){A&&_(e),Y(n),Y(s),Y(p),Y(c),Y(w)}}}function Gi(t,e,n){let{managers:o=[]}=e,{workers:r=[]}=e,{companies:l=[]}=e,{openingSides:i=[]}=e,{hingesTypes:a=[]}=e,{doorFrames:s=[]}=e,{canvasConstructionTypes:d=[]}=e,{endFaceTypes:h=[]}=e,{profileMaterials:p=[]}=e,{profileColors:C=[]}=e,{millingVersions:g=[]}=e,m=new wo({id:ge(),doorsVolume:2,metaOrder:new Co({id:ge(),creatingDate:new Date,numberSpecification:1,manager:o[0],company:l[0],worker:r[0],comment:""}),equipments:new to,processing:new eo,doorFrames:s,buildPieces:[new Lt({id:ge(),heightDoorCanvas:2e3,widthDoorCanvas:800,openingSide:i[0],doorFrame:s[0],typeHinge:a[0],typeEndFace:h[0],profileMaterial:p[0],profileColor:C[0],millingVersion:g[0],volumeHinges:2,volume:1}),new Lt({id:ge(),heightDoorCanvas:2e3,widthDoorCanvas:800,openingSide:i[0],doorFrame:s[0],typeHinge:a[0],typeEndFace:h[0],profileMaterial:p[0],profileColor:C[0],millingVersion:g[0],volumeHinges:2,volume:1}),new Lt({id:ge(),heightDoorCanvas:2700,widthDoorCanvas:600,openingSide:i[0],doorFrame:s[1],typeHinge:a[0],typeEndFace:h[0],profileMaterial:p[0],profileColor:C[0],millingVersion:g[0],volumeHinges:2,volume:1}),new Lt({id:ge(),heightDoorCanvas:2700,widthDoorCanvas:600,openingSide:i[0],doorFrame:s[0],typeHinge:a[0],typeEndFace:h[1],profileMaterial:p[0],profileColor:C[0],millingVersion:g[0],volumeHinges:2,volume:1}),new Lt({id:ge(),heightDoorCanvas:2500,widthDoorCanvas:600,openingSide:i[0],doorFrame:s[0],typeHinge:a[0],typeEndFace:h[1],profileMaterial:p[0],profileColor:C[0],millingVersion:g[0],volumeHinges:2,volume:1})]}),c=m.buildPieces;const b=()=>{const D=new Lt;m.buildPieces.length&&D.setFromCopy(m.buildPieces[m.buildPieces.length-1]),m.addBuildPiece(D),n(12,c=m.buildPieces)},F=D=>{m.copyBuildPiece(D),n(12,c=m.buildPieces)},S=D=>{m.removeBuildPiece(D),n(12,c=m.buildPieces)};mn(()=>{gi(m)});function k(D){t.$$.not_equal(m.metaOrder,D)&&(m.metaOrder=D,n(11,m))}function w(D){t.$$.not_equal(m.equipments,D)&&(m.equipments=D,n(11,m))}function I(D){t.$$.not_equal(m.processing,D)&&(m.processing=D,n(11,m))}function q(D){t.$$.not_equal(m.equipments,D)&&(m.equipments=D,n(11,m))}function v(D){c=D,n(12,c)}function $(D){t.$$.not_equal(m.equipments,D)&&(m.equipments=D,n(11,m))}function oe(D){t.$$.not_equal(m.processing,D)&&(m.processing=D,n(11,m))}return t.$$set=D=>{"managers"in D&&n(0,o=D.managers),"workers"in D&&n(1,r=D.workers),"companies"in D&&n(2,l=D.companies),"openingSides"in D&&n(3,i=D.openingSides),"hingesTypes"in D&&n(4,a=D.hingesTypes),"doorFrames"in D&&n(5,s=D.doorFrames),"canvasConstructionTypes"in D&&n(6,d=D.canvasConstructionTypes),"endFaceTypes"in D&&n(7,h=D.endFaceTypes),"profileMaterials"in D&&n(8,p=D.profileMaterials),"profileColors"in D&&n(9,C=D.profileColors),"millingVersions"in D&&n(10,g=D.millingVersions)},[o,r,l,i,a,s,d,h,p,C,g,m,c,b,F,S,k,w,I,q,v,$,oe]}class Zi extends He{constructor(e){super(),Ve(this,e,Gi,Xi,Me,{managers:0,workers:1,companies:2,openingSides:3,hingesTypes:4,doorFrames:5,canvasConstructionTypes:6,endFaceTypes:7,profileMaterials:8,profileColors:9,millingVersions:10})}}function xn(t){let e,n,o,r;const l=[{workers:t[0].workers},{managers:t[0].managers},{companies:t[0].companies},t[0].paramsForCreatingBuildPiece];let i={};for(let a=0;a<l.length;a+=1)i=yo(i,l[a]);return e=new Zi({props:i}),{c(){G(e.$$.fragment),n=z(),o=y("hr"),this.h()},l(a){Z(e.$$.fragment,a),n=R(a),o=T(a,"HR",{class:!0}),this.h()},h(){f(o,"class","mt-[300px]")},m(a,s){K(e,a,s),he(a,n,s),he(a,o,s),r=!0},p(a,s){const d=s&1?To(l,[{workers:a[0].workers},{managers:a[0].managers},{companies:a[0].companies},Io(a[0].paramsForCreatingBuildPiece)]):{};e.$set(d)},i(a){r||(O(e.$$.fragment,a),r=!0)},o(a){V(e.$$.fragment,a),r=!1},d(a){Y(e,a),a&&_(n),a&&_(o)}}}function Ki(t){let e,n,o,r,l,i,a=t[0].workers&&xn(t);return{c(){e=y("div"),n=y("div"),o=y("main"),r=y("div"),l=y("div"),a&&a.c(),this.h()},l(s){e=T(s,"DIV",{class:!0});var d=E(e);n=T(d,"DIV",{class:!0});var h=E(n);o=T(h,"MAIN",{class:!0});var p=E(o);r=T(p,"DIV",{class:!0});var C=E(r);l=T(C,"DIV",{class:!0});var g=E(l);a&&a.l(g),g.forEach(_),C.forEach(_),p.forEach(_),h.forEach(_),d.forEach(_),this.h()},h(){f(l,"class","flex-auto max-w-8xl min-w-0 pt-6 lg:px-8 lg:pt-8 pb:12 xl:pb-24 lg:pb-16"),f(r,"class","flex w-full"),f(o,"class","flex-auto w-full min-w-0 lg:static lg:max-h-full lg:overflow-visible"),f(n,"class","lg:flex"),f(e,"class","animate__animated w-full px-4 mx-auto max-w-8xl min-h-[300vh]")},m(s,d){he(s,e,d),u(e,n),u(n,o),u(o,r),u(r,l),a&&a.m(l,null),i=!0},p(s,[d]){s[0].workers?a?(a.p(s,d),d&1&&O(a,1)):(a=xn(s),a.c(),O(a,1),a.m(l,null)):a&&(Ye(),V(a,1,1,()=>{a=null}),Je())},i(s){i||(O(a),i=!0)},o(s){V(a),i=!1},d(s){s&&_(e),a&&a.d()}}}function Yi(t,e,n){let{data:o}=e;return mn(()=>{}),t.$$set=r=>{"data"in r&&n(0,o=r.data)},[o]}class or extends He{constructor(e){super(),Ve(this,e,Yi,Ki,Me,{data:0})}}export{or as component,nr as universal};
