var fo=Object.defineProperty;var co=(t,e,n)=>e in t?fo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nt=(t,e,n)=>(co(t,typeof e!="symbol"?e+"":e,n),n);import{W as Dt,n as ge,C as Yt,c as Jt,U as Qt,u as xt,O as en,D as pn,a as _n,E as bn,P as vn,b as tn,M as wn,H as an,d as ho,o as Cn,e as mo,f as go,g as po,I as jt,h as Te,i as xn,j as eo,L as to,k as At,l as dn,m as Ut,p as on,t as je,q as Vt,R as _o,s as ln,r as Fn,v as bo,w as vo,x as wo,y as Co,B as Lt}from"../chunks/ResultsForm.fa866f54.js";import{S as He,i as Ve,s as Me,k as y,a as z,Z as it,l as T,m as q,c as R,_ as st,h as v,n as f,b as he,X as u,L as dt,g as O,v as Ye,d as V,f as Je,a0 as Zt,R as rn,j as sn,y as G,z as Z,A as K,B as Y,q as $,r as W,u as ze,w as le,G as $e,I as Fo,M as So,N as Eo,O as qo,a4 as fe,a5 as ce,Q as ko,e as Xt,p as no,a6 as Sn,a7 as Do,o as hn,E as yo,P as To,Y as Bo}from"../chunks/index.8eacf69c.js";import{I as oo}from"../chunks/Img.d6a855d0.js";import{T as En,t as qn,c as kn}from"../chunks/all-toast.store.897c6e97.js";const Io=async({params:t})=>{const n=new Dt({id:ge(),name:"Основная",size:{a:5e3,c:5e3,h:800,maxLength:4900}});ge(),new Dt({id:ge(),name:"Д. №1",size:{a:500,c:1e3,h:800,maxLength:n.size.maxLength}}),ge(),new Dt({id:ge(),name:"Д. №5",size:{a:1e3,c:500,h:800,maxLength:n.size.maxLength}}),ge(),new Dt({id:ge(),name:"Деталь №4",size:{a:500,c:500,h:800,maxLength:n.size.maxLength}});const o=new Yt({id:ge(),name:"KLIMOV.RED",type:Jt.BUSINESS}),i=[new Qt({id:ge(),name:"Николай Поздняков",company:o,type:xt.MANAGER,avatar:"/orders-klimov-red-public/imgs/user/managers/manager.png"}),new Qt({id:ge(),name:"Дмитрий Рудин",company:o,type:xt.MANAGER})],l=[new Qt({id:ge(),name:"Эдуард Рябов",company:o,type:xt.WORKER}),new Qt({id:ge(),name:"Василий Петров",company:o,type:xt.WORKER})],r=[new Yt({id:ge(),name:"ООО Транзит",type:Jt.BUSINESS}),new Yt({id:ge(),name:"ИП Иванов",type:Jt.IE}),new Yt({id:ge(),name:"Самозанятый Ласточкин",type:Jt.INDIVIDUAL})],a={openingSides:[new en({id:ge(),name:"Правая на себя",side:"right",opening:"inside"}),new en({id:ge(),name:"Правая от себя",side:"right",opening:"outside"}),new en({id:ge(),name:"Левая на себя",side:"left",opening:"inside"}),new en({id:ge(),name:"Левая от себя",side:"left",opening:"outside"})],doorFrames:[new pn({id:ge(),name:"HANK REARDEN 59",width:42.2,height:36,length:5e3}),new pn({id:ge(),name:"RAGNAR DANNESKJOLD 42",width:52.5,height:28.2,length:5e3})],canvasConstructionTypes:[new _n({id:"torec",name:"Торец"}),new _n({id:"carcas",name:"Каркас"})],endFaceTypes:[new bn({id:ge(),name:"EddieWillers 42.1 | Прямой",width:42,height:7.75,length:5e3}),new bn({id:ge(),name:"Dagny Taggart 58.1 | С четвертью ",width:58,height:2.55,length:5e3})],profileMaterials:[new vn({id:ge(),name:"Алюминий"}),new vn({id:ge(),name:"Сталь"})],profileColors:[new tn({id:ge(),name:"Зеленый",color:"green"}),new tn({id:ge(),name:"Синий",color:"blue"}),new tn({id:ge(),name:"Серый",color:"gray"}),new tn({id:ge(),name:"Белый",color:"white"})],millingVersions:[new wn({id:ge(),name:"6360/38"}),new wn({id:ge(),name:"B-Forty N62 WC"})],hingesTypes:[new an({id:ge(),name:"Петля 20х120",width:20,height:120}),new an({id:ge(),name:"Петля 40х100",width:40,height:100}),new an({id:ge(),name:"Петля 50х100",width:50,height:100})]};return{managers:new Promise(s=>s(i)),workers:new Promise(s=>s(l)),companies:new Promise(s=>s(r)),paramsForCreatingBuildPiece:new Promise(s=>s(a))}},ni=Object.freeze(Object.defineProperty({__proto__:null,load:Io},Symbol.toStringTag,{value:"Module"}));class Oo{constructor(e){nt(this,"id");nt(this,"text");nt(this,"img");nt(this,"colorClasses");this.id=e.id,this.text=e.text,this.img=e.img}}function Dn(t,e,n){const o=t.slice();return o[23]=e[n],o}function yn(t){let e,n,o;return n=new oo({props:{class:"w-9 h-9  rounded-full bg-gray-100 text-green-500",src:t[5].img,alt:t[5].text}}),{c(){e=y("div"),G(n.$$.fragment),this.h()},l(i){e=T(i,"DIV",{class:!0});var l=q(e);Z(n.$$.fragment,l),l.forEach(v),this.h()},h(){f(e,"class","divide-x-2 pr-2 mr-2 border-r")},m(i,l){he(i,e,l),K(n,e,null),o=!0},p(i,l){const r={};l&32&&(r.src=i[5].img),l&32&&(r.alt=i[5].text),n.$set(r)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){V(n.$$.fragment,i),o=!1},d(i){i&&v(e),Y(n)}}}function Tn(t){let e,n,o,i,l,r,a=t[23].text+"",s,d,h,g,F,b;i=new oo({props:{class:"w-9 h-9  rounded-full bg-gray-100 text-green-500",src:t[23].img,alt:t[23].text}});function p(){return t[19](t[23])}return{c(){e=y("li"),n=y("a"),o=y("div"),G(i.$$.fragment),r=z(),s=$(a),h=z(),this.h()},l(c){e=T(c,"LI",{});var m=q(e);n=T(m,"A",{href:!0,class:!0});var _=q(n);o=T(_,"DIV",{class:!0});var S=q(o);Z(i.$$.fragment,S),S.forEach(v),r=R(_),s=W(_,a),_.forEach(v),h=R(m),m.forEach(v),this.h()},h(){o.hidden=l=!t[23].img,f(o,"class","divide-x-2 pr-2 mr-2 border-r"),f(n,"href","#"),f(n,"class",d="flex items-center px-4 py-2 dark:hover:bg-gray-600 dark:hover:text-white "+t[8](t[23]))},m(c,m){he(c,e,m),u(e,n),u(n,o),K(i,o,null),u(n,r),u(n,s),u(e,h),g=!0,F||(b=dt(n,"click",p),F=!0)},p(c,m){t=c;const _={};m&8&&(_.src=t[23].img),m&8&&(_.alt=t[23].text),i.$set(_),(!g||m&8&&l!==(l=!t[23].img))&&(o.hidden=l),(!g||m&8)&&a!==(a=t[23].text+"")&&ze(s,a),(!g||m&8&&d!==(d="flex items-center px-4 py-2 dark:hover:bg-gray-600 dark:hover:text-white "+t[8](t[23])))&&f(n,"class",d)},i(c){g||(O(i.$$.fragment,c),g=!0)},o(c){V(i.$$.fragment,c),g=!1},d(c){c&&v(e),Y(i),F=!1,b()}}}function zo(t){let e,n,o,i,l,r,a,s,d,h,g,F,b,p,c,m,_,S=t[1]&&t[5].img&&yn(t),E=t[3],C=[];for(let D=0;D<E.length;D+=1)C[D]=Tn(Dn(t,E,D));const B=D=>V(C[D],1,1,()=>{C[D]=null});return{c(){e=y("button"),n=y("div"),S&&S.c(),o=z(),i=y("input"),a=z(),s=it("svg"),d=it("path"),g=z(),F=y("div"),b=y("ul");for(let D=0;D<C.length;D+=1)C[D].c();this.h()},l(D){e=T(D,"BUTTON",{id:!0,class:!0,type:!0,title:!0});var w=q(e);n=T(w,"DIV",{class:!0});var L=q(n);S&&S.l(L),o=R(L),i=T(L,"INPUT",{class:!0}),a=R(L),s=st(L,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var oe=q(s);d=st(oe,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),q(d).forEach(v),oe.forEach(v),L.forEach(v),w.forEach(v),g=R(D),F=T(D,"DIV",{id:!0,class:!0});var k=q(F);b=T(k,"UL",{class:!0,"aria-labelledby":!0});var X=q(b);for(let I=0;I<C.length;I+=1)C[I].l(X);X.forEach(v),k.forEach(v),this.h()},h(){f(i,"class",l="z-[-1] w-full bg-white "+t[4]),i.value=r=t[5].text,i.disabled=!0,f(d,"stroke","currentColor"),f(d,"stroke-linecap","round"),f(d,"stroke-linejoin","round"),f(d,"stroke-width","2"),f(d,"d","m1 1 4 4 4-4"),f(s,"class","w-2.5 h-2.5 ml-2.5"),f(s,"aria-hidden","true"),f(s,"xmlns","http://www.w3.org/2000/svg"),f(s,"fill","none"),f(s,"viewBox","0 0 10 6"),f(n,"class","relative z-1 bg-[transparent] inline-flex justify-between items-center"),f(e,"id","dropdownDefaultButton"),f(e,"class",h=t[5].classes+t[5].colorClasses+t[4]),f(e,"type","button"),f(e,"title",t[0]),e.disabled=t[2],f(b,"class","text-sm py-2 text-gray-700 dark:text-gray-200"),f(b,"aria-labelledby","dropdownDefaultButton"),f(F,"id","dropdown"),F.hidden=p=!t[6],f(F,"class","w-auto absolute z-10 bg-[white] divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700")},m(D,w){he(D,e,w),u(e,n),S&&S.m(n,null),u(n,o),u(n,i),u(n,a),u(n,s),u(s,d),t[17](e),he(D,g,w),he(D,F,w),u(F,b);for(let L=0;L<C.length;L+=1)C[L]&&C[L].m(b,null);c=!0,m||(_=[dt(window,"click",t[9]),dt(e,"click",t[18])],m=!0)},p(D,[w]){if(D[1]&&D[5].img?S?(S.p(D,w),w&34&&O(S,1)):(S=yn(D),S.c(),O(S,1),S.m(n,o)):S&&(Ye(),V(S,1,1,()=>{S=null}),Je()),(!c||w&16&&l!==(l="z-[-1] w-full bg-white "+D[4]))&&f(i,"class",l),(!c||w&32&&r!==(r=D[5].text)&&i.value!==r)&&(i.value=r),(!c||w&48&&h!==(h=D[5].classes+D[5].colorClasses+D[4]))&&f(e,"class",h),(!c||w&1)&&f(e,"title",D[0]),(!c||w&4)&&(e.disabled=D[2]),w&1288){E=D[3];let L;for(L=0;L<E.length;L+=1){const oe=Dn(D,E,L);C[L]?(C[L].p(oe,w),O(C[L],1)):(C[L]=Tn(oe),C[L].c(),O(C[L],1),C[L].m(b,null))}for(Ye(),L=E.length;L<C.length;L+=1)B(L);Je()}(!c||w&64&&p!==(p=!D[6]))&&(F.hidden=p)},i(D){if(!c){O(S);for(let w=0;w<E.length;w+=1)O(C[w]);c=!0}},o(D){V(S),C=C.filter(Boolean);for(let w=0;w<C.length;w+=1)V(C[w]);c=!1},d(D){D&&v(e),S&&S.d(),t[17](null),D&&v(g),D&&v(F),Zt(C,D),m=!1,rn(_)}}}function Ro(t,e,n){const o={optionSettings:{idField:"id",valueField:"id",textField:"name"}};let{id:i=""}=e,{title:l=""}=e,{placeholder:r=""}=e,{options:a=[]}=e,{value:s}=e,{disabled:d=!1}=e,{required:h=!1}=e,{onChange:g=void 0}=e,{optionSettings:F=o.optionSettings}=e;F=Object.assign({},o.optionSettings,F),l=l.length?l:r;const b=()=>s[F.imgField],p=k=>Array.isArray(F.textField)?F.textField.map(X=>k[X]).join(" | "):k[F.textField];let c=a.map(k=>new Oo({id:k[F.idField],img:k[F.imgField],text:p(k)})),m="",_={text:r,img:"",colorClasses:"text-gray",classes:"relative bg-[white] border border-[transparent] rounded-lg  text-sm z-0 ring-1 ring-gray-300 focus:shadow-outline focus:ring-blue-600 focus:border-blue-600 w-full mt-[1px] px-[12px] py-[7px] dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 "};sn(()=>{s&&s.id&&String(s.id).startsWith("empty_")&&n(1,s=void 0),n(5,_.colorClasses=s?" text-gray-900":"",_),n(5,_.img=s?b():"",_),n(3,c=[...c]),d===!0?(n(4,m+=" bg-gray-100 focus:bg-[white]"),n(5,_.text="-",_)):(n(5,_.text=s?p(s):r,_),n(4,m=""))});const S=k=>s&&k.id===s[F.idField]?" text-white bg-primary-500 ":" hover:bg-gray-200";let E=!1,C;const B=k=>{C.contains(k.target)==!1&&n(6,E=!1)},D=k=>{n(1,s=a.find(X=>X.id===k.id))};function w(k){le[k?"unshift":"push"](()=>{C=k,n(7,C)})}const L=()=>n(6,E=!E),oe=k=>D(k);return t.$$set=k=>{"id"in k&&n(12,i=k.id),"title"in k&&n(0,l=k.title),"placeholder"in k&&n(13,r=k.placeholder),"options"in k&&n(14,a=k.options),"value"in k&&n(1,s=k.value),"disabled"in k&&n(2,d=k.disabled),"required"in k&&n(15,h=k.required),"onChange"in k&&n(16,g=k.onChange),"optionSettings"in k&&n(11,F=k.optionSettings)},[l,s,d,c,m,_,E,C,S,B,D,F,i,r,a,h,g,w,L,oe]}class Ht extends He{constructor(e){super(),Ve(this,e,Ro,zo,Me,{id:12,title:0,placeholder:13,options:14,value:1,disabled:2,required:15,onChange:16,optionSettings:11})}}function Ho(t){let e,n;return{c(){e=y("div"),this.h()},l(o){e=T(o,"DIV",{id:!0,class:!0}),q(e).forEach(v),this.h()},h(){f(e,"id",n="drawContainer"+t[0].id),f(e,"class","flex flex-col overflow-auto max-w-[100%]")},m(o,i){he(o,e,i)},p(o,[i]){i&1&&n!==(n="drawContainer"+o[0].id)&&f(e,"id",n)},i:$e,o:$e,d(o){o&&v(e)}}}function Vo(t,e,n){let{processing:o}=e,{equipments:i}=e,{buildPiece:l}=e;return sn(()=>{const r=`drawContainer${l.id}`,a=document.getElementById(r);if(a){ho(a);const s=l.widthDoorCanvas+450,d=l.widthDoorCanvas/Cn.wDivider*3,h=l.heightDoorCanvas/Cn.hDivider+d;a.style.maxHeight="800px";const g=mo(a,s,h,!1);go(g,l,o,i),po(g,l,o,i)}}),t.$$set=r=>{"processing"in r&&n(1,o=r.processing),"equipments"in r&&n(2,i=r.equipments),"buildPiece"in r&&n(0,l=r.buildPiece)},[l,o,i]}class Mo extends He{constructor(e){super(),Ve(this,e,Vo,Ho,Me,{processing:1,equipments:2,buildPiece:0})}}function Ao(t){let e,n,o,i,l,r,a,s,d,h,g,F,b,p,c,m,_;const S=t[6].default,E=Fo(S,t,t[5],null);return{c(){e=y("div"),n=y("h2"),o=y("button"),i=y("span"),l=$(t[1]),r=z(),a=it("svg"),s=it("path"),h=z(),g=y("div"),F=y("div"),E&&E.c(),this.h()},l(C){e=T(C,"DIV",{id:!0,"data-accordion":!0});var B=q(e);n=T(B,"H2",{id:!0});var D=q(n);o=T(D,"BUTTON",{type:!0,class:!0,"data-accordion-target":!0,"aria-expanded":!0,"aria-controls":!0});var w=q(o);i=T(w,"SPAN",{});var L=q(i);l=W(L,t[1]),L.forEach(v),r=R(w),a=st(w,"svg",{"data-accordion-icon":!0,class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var oe=q(a);s=st(oe,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),q(s).forEach(v),oe.forEach(v),w.forEach(v),D.forEach(v),h=R(B),g=T(B,"DIV",{id:!0,class:!0,"aria-labelledby":!0});var k=q(g);F=T(k,"DIV",{class:!0});var X=q(F);E&&E.l(X),X.forEach(v),k.forEach(v),B.forEach(v),this.h()},h(){f(s,"stroke","currentColor"),f(s,"stroke-linecap","round"),f(s,"stroke-linejoin","round"),f(s,"stroke-width","2"),f(s,"d","M9 5 5 1 1 5"),f(a,"data-accordion-icon",""),f(a,"class",d="w-3 h-3 "+(t[0]?"rotate-180":"")+" shrink-0"),f(a,"aria-hidden","true"),f(a,"xmlns","http://www.w3.org/2000/svg"),f(a,"fill","none"),f(a,"viewBox","0 0 10 6"),f(o,"type","button"),f(o,"class",t[2]),f(o,"data-accordion-target","#accordion-collapse-body-1"),f(o,"aria-expanded","true"),f(o,"aria-controls","accordion-collapse-body-1"),f(n,"id","accordion-collapse-heading-1"),f(F,"class","p-5 border border-gray-200 dark:border-gray-700 dark:bg-gray-900"),f(g,"id","accordion-collapse-body-1"),f(g,"class",b=t[0]?"":"hidden"),f(g,"aria-labelledby","accordion-collapse-heading-1"),f(e,"id","accordion-collapse"),f(e,"data-accordion",p=t[0]?"open":"collapse")},m(C,B){he(C,e,B),u(e,n),u(n,o),u(o,i),u(i,l),u(o,r),u(o,a),u(a,s),u(e,h),u(e,g),u(g,F),E&&E.m(F,null),c=!0,m||(_=dt(o,"click",t[7]),m=!0)},p(C,[B]){(!c||B&2)&&ze(l,C[1]),(!c||B&1&&d!==(d="w-3 h-3 "+(C[0]?"rotate-180":"")+" shrink-0"))&&f(a,"class",d),(!c||B&4)&&f(o,"class",C[2]),E&&E.p&&(!c||B&32)&&So(E,S,C,C[5],c?qo(S,C[5],B,null):Eo(C[5]),null),(!c||B&1&&b!==(b=C[0]?"":"hidden"))&&f(g,"class",b),(!c||B&1&&p!==(p=C[0]?"open":"collapse"))&&f(e,"data-accordion",p)},i(C){c||(O(E,C),c=!0)},o(C){V(E,C),c=!1},d(C){C&&v(e),E&&E.d(C),m=!1,_()}}}function No(t,e,n){let{$$slots:o={},$$scope:i}=e,{title:l=""}=e,{classes:r=""}=e,{isOpen:a=!1}=e;const s=()=>n(0,a=!a);let d=`${r} flex items-center justify-between w-full p-5 font-medium text-left border border-gray-200 rounded-xl focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800`;const h=()=>s();return t.$$set=g=>{"title"in g&&n(1,l=g.title),"classes"in g&&n(4,r=g.classes),"isOpen"in g&&n(0,a=g.isOpen),"$$scope"in g&&n(5,i=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&5){const g="rounded-xl",F="rounded-t-xl",b=" bg-gray-100";a?(n(2,d=d.replace(g,F)),n(2,d+=b)):(n(2,d=d.replace(F,g)),n(2,d=d.replace(b,"")))}},[a,l,d,s,r,i,o,h]}class Kt extends He{constructor(e){super(),Ve(this,e,No,Ao,Me,{title:1,classes:4,isOpen:0})}}function Po(t){let e,n;return{c(){e=it("svg"),n=it("path"),this.h()},l(o){e=st(o,"svg",{class:!0,"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var i=q(e);n=st(i,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),q(n).forEach(v),i.forEach(v),this.h()},h(){f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-width","2"),f(n,"d","M1 5h16M7 8v8m4-8v8M7 1h4a1 1 0 0 1 1 1v3H6V2a1 1 0 0 1 1-1ZM3 5h12v13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V5Z"),f(e,"class",t[0]),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","0 0 20 20"),f(e,"width","18"),f(e,"data-view-component","true")},m(o,i){he(o,e,i),u(e,n)},p(o,[i]){i&1&&f(e,"class",o[0])},i:$e,o:$e,d(o){o&&v(e)}}}function $o(t,e,n){let{class:o=""}=e;return t.$$set=i=>{"class"in i&&n(0,o=i.class)},[o]}class Wo extends He{constructor(e){super(),Ve(this,e,$o,Po,Me,{class:0})}}function Lo(t){let e,n;return{c(){e=it("svg"),n=it("path"),this.h()},l(o){e=st(o,"svg",{"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var i=q(e);n=st(i,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),q(n).forEach(v),i.forEach(v),this.h()},h(){f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-width","2"),f(n,"d","M11 14h6m-3 3v-6M1.857 1h4.286c.473 0 .857.384.857.857v4.286A.857.857 0 0 1 6.143 7H1.857A.857.857 0 0 1 1 6.143V1.857C1 1.384 1.384 1 1.857 1Zm10 0h4.286c.473 0 .857.384.857.857v4.286a.857.857 0 0 1-.857.857h-4.286A.857.857 0 0 1 11 6.143V1.857c0-.473.384-.857.857-.857Zm-10 10h4.286c.473 0 .857.384.857.857v4.286a.857.857 0 0 1-.857.857H1.857A.857.857 0 0 1 1 16.143v-4.286c0-.473.384-.857.857-.857Z"),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","0 0 20 20"),f(e,"width","18"),f(e,"data-view-component","true")},m(o,i){he(o,e,i),u(e,n)},p:$e,i:$e,o:$e,d(o){o&&v(e)}}}class jo extends He{constructor(e){super(),Ve(this,e,null,Lo,Me,{})}}function Uo(t){let e,n;return{c(){e=it("svg"),n=it("path"),this.h()},l(o){e=st(o,"svg",{class:!0,"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var i=q(e);n=st(i,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),q(n).forEach(v),i.forEach(v),this.h()},h(){f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"stroke-width","2"),f(n,"d","m7.708 2.292.706-.706A2 2 0 0 1 9.828 1h6.239A.97.97 0 0 1 17 2v12a.97.97 0 0 1-.933 1H15M6 5v4a1 1 0 0 1-1 1H1m11-4v12a.97.97 0 0 1-.933 1H1.933A.97.97 0 0 1 1 18V9.828a2 2 0 0 1 .586-1.414l2.828-2.828A2 2 0 0 1 5.828 5h5.239A.97.97 0 0 1 12 6Z"),f(e,"class",t[0]),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","0 0 20 20"),f(e,"width","18"),f(e,"data-view-component","true")},m(o,i){he(o,e,i),u(e,n)},p(o,[i]){i&1&&f(e,"class",o[0])},i:$e,o:$e,d(o){o&&v(e)}}}function Xo(t,e,n){let{class:o=""}=e;return t.$$set=i=>{"class"in i&&n(0,o=i.class)},[o]}class Go extends He{constructor(e){super(),Ve(this,e,Xo,Uo,Me,{class:0})}}function Bn(t,e,n){const o=t.slice();return o[25]=e[n],o[26]=e,o[27]=n,o}function In(t){let e,n;return e=new Mo({props:{buildPiece:t[25],equipments:t[9],processing:t[8]}}),{c(){G(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},p(o,i){const l={};i&1&&(l.buildPiece=o[25]),i&512&&(l.equipments=o[9]),i&256&&(l.processing=o[8]),e.$set(l)},i(o){n||(O(e.$$.fragment,o),n=!0)},o(o){V(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Zo(t){let e,n,o=t[25]&&In(t);return{c(){o&&o.c(),e=Xt()},l(i){o&&o.l(i),e=Xt()},m(i,l){o&&o.m(i,l),he(i,e,l),n=!0},p(i,l){i[25]?o?(o.p(i,l),l&1&&O(o,1)):(o=In(i),o.c(),O(o,1),o.m(e.parentNode,e)):o&&(Ye(),V(o,1,1,()=>{o=null}),Je())},i(i){n||(O(o),n=!0)},o(i){V(o),n=!1},d(i){o&&o.d(i),i&&v(e)}}}function On(t){let e,n,o=t[27]+1+"",i,l,r,a,s,d,h,g,F,b,p,c,m,_,S,E,C,B,D,w,L,oe,k,X,I,re,x,ne,ue,A,ee,H,J,ie,U,de,ve,se,ae,me,Fe,M,P,j,Se,Re,ye,pe,we,Be,Ae,Ie,Ne,Qe,Ge,Ze;function St(Q){t[13](Q,t[25])}let xe={id:"heightPiece",type:"number",disabled:!t[9].hasDoorBox,placeholder:"Введите высоту полотна...",numSettings:{min:1},required:!0};t[25].heightDoorCanvas!==void 0&&(xe.value=t[25].heightDoorCanvas),a=new jt({props:xe}),le.push(()=>fe(a,"value",St));function et(Q){t[14](Q,t[25])}let Ft={id:"widthPiece",type:"number",disabled:!t[9].hasDoorBox,placeholder:"Введите ширину полотна...",numSettings:{min:1},required:!0};t[25].widthDoorCanvas!==void 0&&(Ft.value=t[25].widthDoorCanvas),g=new jt({props:Ft}),le.push(()=>fe(g,"value",et));function tt(Q){t[15](Q,t[25])}let Tt={id:"openingSide",disabled:!t[9].hasDoorBox,placeholder:"Выберите сторону открывания...",options:t[1],required:!0};t[25].openingSide!==void 0&&(Tt.value=t[25].openingSide),c=new Ht({props:Tt}),le.push(()=>fe(c,"value",tt));function Bt(Q){t[16](Q,t[25])}let bt={id:"typeEndFace",placeholder:"Выберите тип торца...",disabled:!t[9].hasEndFaceOrFrameCanvas,options:t[4],optionSettings:{textField:["name","width"]},required:!0};t[25].typeEndFace!==void 0&&(bt.value=t[25].typeEndFace),E=new Ht({props:bt}),le.push(()=>fe(E,"value",Bt));function It(Q){t[17](Q,t[25])}let ot={id:"doorFrame",placeholder:"Выберите профиль коробки...",disabled:!t[9].hasDoorBox,optionSettings:{textField:["name","height","width","length"]},options:t[2],required:!0};t[25].doorFrame!==void 0&&(ot.value=t[25].doorFrame),w=new Ht({props:ot}),le.push(()=>fe(w,"value",It));function ht(Q){t[18](Q,t[25])}let Ot={id:"typeHinge",placeholder:"Выберите вариант петель...",disabled:!t[9].hasHinges,options:t[3],required:!0};t[25].typeHinge!==void 0&&(Ot.value=t[25].typeHinge),X=new Ht({props:Ot}),le.push(()=>fe(X,"value",ht));function Et(Q){t[19](Q,t[25])}let zt={id:"volumeHinges",type:"number",placeholder:"Введите количество петель...",disabled:!t[9].hasHinges,numSettings:{min:0},required:!0};t[25].volumeHinges!==void 0&&(zt.value=t[25].volumeHinges),ne=new jt({props:zt}),le.push(()=>fe(ne,"value",Et));function Nt(Q){t[20](Q,t[25])}let mt={id:"profileColor",placeholder:"Выберите материал...",disabled:!t[9].hasHinges&&!t[9].hasEndFaceOrFrameCanvas&&!t[9].hasLockAndResponse,options:t[6],required:!0};t[25].profileMaterial!==void 0&&(mt.value=t[25].profileMaterial),H=new Ht({props:mt}),le.push(()=>fe(H,"value",Nt));function Ee(Q){t[21](Q,t[25])}let $t={id:"profileColor",placeholder:"Выберите покрытие...",disabled:!t[9].hasHinges&&!t[9].hasEndFaceOrFrameCanvas&&!t[9].hasLockAndResponse,options:t[5],required:!0};t[25].profileColor!==void 0&&($t.value=t[25].profileColor),de=new Ht({props:$t}),le.push(()=>fe(de,"value",Ee));function qe(Q){t[22](Q,t[25])}let Pe={id:"millingVersion",placeholder:"Выберите фрезеровку...",disabled:!0,options:t[7],required:!0};t[25].millingVersion!==void 0&&(Pe.value=t[25].millingVersion),me=new Ht({props:Pe}),le.push(()=>fe(me,"value",qe)),Se=new Go({props:{class:"w-4 h-4"}});function Ce(){return t[23](t[25])}pe=new Wo({props:{class:"w-4 h-4"}});function ke(){return t[24](t[25])}return Ie=new Kt({props:{title:"Схема для строки №"+(t[27]+1),classes:"mt-2.5 relative",$$slots:{default:[Zo]},$$scope:{ctx:t}}}),{c(){e=y("tr"),n=y("th"),i=$(o),l=z(),r=y("td"),G(a.$$.fragment),d=z(),h=y("td"),G(g.$$.fragment),b=z(),p=y("td"),G(c.$$.fragment),_=z(),S=y("td"),G(E.$$.fragment),B=z(),D=y("td"),G(w.$$.fragment),oe=z(),k=y("td"),G(X.$$.fragment),re=z(),x=y("td"),G(ne.$$.fragment),A=z(),ee=y("td"),G(H.$$.fragment),ie=z(),U=y("td"),G(de.$$.fragment),se=z(),ae=y("td"),G(me.$$.fragment),M=z(),P=y("td"),j=y("button"),G(Se.$$.fragment),Re=z(),ye=y("button"),G(pe.$$.fragment),we=z(),Be=y("tr"),Ae=y("td"),G(Ie.$$.fragment),Ne=z(),this.h()},l(Q){e=T(Q,"TR",{class:!0});var te=q(e);n=T(te,"TH",{scope:!0,class:!0});var be=q(n);i=W(be,o),be.forEach(v),l=R(te),r=T(te,"TD",{class:!0});var vt=q(r);Z(a.$$.fragment,vt),vt.forEach(v),d=R(te),h=T(te,"TD",{class:!0});var at=q(h);Z(g.$$.fragment,at),at.forEach(v),b=R(te),p=T(te,"TD",{class:!0});var gt=q(p);Z(c.$$.fragment,gt),gt.forEach(v),_=R(te),S=T(te,"TD",{class:!0});var lt=q(S);Z(E.$$.fragment,lt),lt.forEach(v),B=R(te),D=T(te,"TD",{class:!0});var Oe=q(D);Z(w.$$.fragment,Oe),Oe.forEach(v),oe=R(te),k=T(te,"TD",{class:!0});var pt=q(k);Z(X.$$.fragment,pt),pt.forEach(v),re=R(te),x=T(te,"TD",{class:!0});var N=q(x);Z(ne.$$.fragment,N),N.forEach(v),A=R(te),ee=T(te,"TD",{class:!0});var _e=q(ee);Z(H.$$.fragment,_e),_e.forEach(v),ie=R(te),U=T(te,"TD",{class:!0});var We=q(U);Z(de.$$.fragment,We),We.forEach(v),se=R(te),ae=T(te,"TD",{class:!0});var Ue=q(ae);Z(me.$$.fragment,Ue),Ue.forEach(v),M=R(te),P=T(te,"TD",{class:!0});var rt=q(P);j=T(rt,"BUTTON",{type:!0,title:!0,class:!0});var _t=q(j);Z(Se.$$.fragment,_t),_t.forEach(v),Re=R(rt),ye=T(rt,"BUTTON",{type:!0,title:!0,class:!0});var De=q(ye);Z(pe.$$.fragment,De),De.forEach(v),rt.forEach(v),te.forEach(v),we=R(Q),Be=T(Q,"TR",{});var ut=q(Be);Ae=T(ut,"TD",{colspan:!0});var Ke=q(Ae);Z(Ie.$$.fragment,Ke),Ke.forEach(v),Ne=R(ut),ut.forEach(v),this.h()},h(){f(n,"scope","row"),f(n,"class","px-3 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"),f(r,"class","px-2 py-4"),f(h,"class","px-2 py-4 border-r"),f(p,"class","px-3 py-4"),f(S,"class","px-3 py-4"),f(D,"class","px-3 py-4"),f(k,"class","px-3 py-4"),f(x,"class","px-3 py-4"),f(ee,"class","px-3 py-4"),f(U,"class","px-3 py-4"),f(ae,"class","px-3 py-4"),f(j,"type","button"),f(j,"title","Клонировать строку"),f(j,"class","px-3 py-2 text-xl text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg"),f(ye,"type","button"),f(ye,"title","Удалить строку"),f(ye,"class","px-3 py-2 text-xl text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg"),f(P,"class","px-3 py-4 inline-flex gap-2"),f(e,"class","border-b dark:bg-gray-700 dark:border-gray-600 hover:bg-[gray]/5 dark:hover:bg-gray-600"),f(Ae,"colspan","20")},m(Q,te){he(Q,e,te),u(e,n),u(n,i),u(e,l),u(e,r),K(a,r,null),u(e,d),u(e,h),K(g,h,null),u(e,b),u(e,p),K(c,p,null),u(e,_),u(e,S),K(E,S,null),u(e,B),u(e,D),K(w,D,null),u(e,oe),u(e,k),K(X,k,null),u(e,re),u(e,x),K(ne,x,null),u(e,A),u(e,ee),K(H,ee,null),u(e,ie),u(e,U),K(de,U,null),u(e,se),u(e,ae),K(me,ae,null),u(e,M),u(e,P),u(P,j),K(Se,j,null),u(P,Re),u(P,ye),K(pe,ye,null),he(Q,we,te),he(Q,Be,te),u(Be,Ae),K(Ie,Ae,null),u(Be,Ne),Qe=!0,Ge||(Ze=[dt(j,"click",Ce),dt(ye,"click",ke)],Ge=!0)},p(Q,te){t=Q;const be={};te&512&&(be.disabled=!t[9].hasDoorBox),!s&&te&1&&(s=!0,be.value=t[25].heightDoorCanvas,ce(()=>s=!1)),a.$set(be);const vt={};te&512&&(vt.disabled=!t[9].hasDoorBox),!F&&te&1&&(F=!0,vt.value=t[25].widthDoorCanvas,ce(()=>F=!1)),g.$set(vt);const at={};te&512&&(at.disabled=!t[9].hasDoorBox),te&2&&(at.options=t[1]),!m&&te&1&&(m=!0,at.value=t[25].openingSide,ce(()=>m=!1)),c.$set(at);const gt={};te&512&&(gt.disabled=!t[9].hasEndFaceOrFrameCanvas),te&16&&(gt.options=t[4]),!C&&te&1&&(C=!0,gt.value=t[25].typeEndFace,ce(()=>C=!1)),E.$set(gt);const lt={};te&512&&(lt.disabled=!t[9].hasDoorBox),te&4&&(lt.options=t[2]),!L&&te&1&&(L=!0,lt.value=t[25].doorFrame,ce(()=>L=!1)),w.$set(lt);const Oe={};te&512&&(Oe.disabled=!t[9].hasHinges),te&8&&(Oe.options=t[3]),!I&&te&1&&(I=!0,Oe.value=t[25].typeHinge,ce(()=>I=!1)),X.$set(Oe);const pt={};te&512&&(pt.disabled=!t[9].hasHinges),!ue&&te&1&&(ue=!0,pt.value=t[25].volumeHinges,ce(()=>ue=!1)),ne.$set(pt);const N={};te&512&&(N.disabled=!t[9].hasHinges&&!t[9].hasEndFaceOrFrameCanvas&&!t[9].hasLockAndResponse),te&64&&(N.options=t[6]),!J&&te&1&&(J=!0,N.value=t[25].profileMaterial,ce(()=>J=!1)),H.$set(N);const _e={};te&512&&(_e.disabled=!t[9].hasHinges&&!t[9].hasEndFaceOrFrameCanvas&&!t[9].hasLockAndResponse),te&32&&(_e.options=t[5]),!ve&&te&1&&(ve=!0,_e.value=t[25].profileColor,ce(()=>ve=!1)),de.$set(_e);const We={};te&128&&(We.options=t[7]),!Fe&&te&1&&(Fe=!0,We.value=t[25].millingVersion,ce(()=>Fe=!1)),me.$set(We);const Ue={};te&268436225&&(Ue.$$scope={dirty:te,ctx:t}),Ie.$set(Ue)},i(Q){Qe||(O(a.$$.fragment,Q),O(g.$$.fragment,Q),O(c.$$.fragment,Q),O(E.$$.fragment,Q),O(w.$$.fragment,Q),O(X.$$.fragment,Q),O(ne.$$.fragment,Q),O(H.$$.fragment,Q),O(de.$$.fragment,Q),O(me.$$.fragment,Q),O(Se.$$.fragment,Q),O(pe.$$.fragment,Q),O(Ie.$$.fragment,Q),Qe=!0)},o(Q){V(a.$$.fragment,Q),V(g.$$.fragment,Q),V(c.$$.fragment,Q),V(E.$$.fragment,Q),V(w.$$.fragment,Q),V(X.$$.fragment,Q),V(ne.$$.fragment,Q),V(H.$$.fragment,Q),V(de.$$.fragment,Q),V(me.$$.fragment,Q),V(Se.$$.fragment,Q),V(pe.$$.fragment,Q),V(Ie.$$.fragment,Q),Qe=!1},d(Q){Q&&v(e),Y(a),Y(g),Y(c),Y(E),Y(w),Y(X),Y(ne),Y(H),Y(de),Y(me),Y(Se),Y(pe),Q&&v(we),Q&&v(Be),Y(Ie),Ge=!1,rn(Ze)}}}function Ko(t){let e,n,o,i,l,r,a,s,d,h,g,F,b,p,c,m,_,S,E,C,B,D,w,L,oe,k,X,I,re,x,ne,ue,A,ee,H,J,ie,U,de,ve,se,ae,me,Fe,M,P,j,Se,Re,ye,pe,we,Be,Ae,Ie,Ne,Qe,Ge,Ze,St,xe,et,Ft,tt,Tt,Bt,bt,It,ot,ht,Ot,Et,zt,Nt,mt=t[0],Ee=[];for(let qe=0;qe<mt.length;qe+=1)Ee[qe]=On(Bn(t,mt,qe));const $t=qe=>V(Ee[qe],1,1,()=>{Ee[qe]=null});return ht=new jo({}),{c(){e=y("section"),n=y("div"),o=y("h2"),i=$("Список требуемых деталей"),l=z(),r=y("table"),a=y("thead"),s=y("tr"),d=y("th"),h=$("Полотно"),g=z(),F=y("th"),b=$("Коробка"),p=z(),c=y("th"),m=$("Фурнитура"),_=z(),S=y("th"),E=$("Дополнительно"),C=z(),B=y("th"),D=z(),w=y("tr"),L=y("th"),oe=$("№"),k=z(),X=y("th"),I=$("Размер"),re=z(),x=y("th"),ne=$("Сторона открывания"),ue=z(),A=y("th"),ee=$("Торец"),H=z(),J=y("th"),ie=$("Профиль"),U=z(),de=y("th"),ve=$("Петли"),se=z(),ae=y("th"),me=$("Фрезеровка"),Fe=z(),M=y("tr"),P=y("th"),j=$("Высота, мм"),Se=z(),Re=y("th"),ye=$("Ширина, мм"),pe=z(),we=y("th"),Be=$("Тип"),Ae=z(),Ie=y("th"),Ne=$("Тип"),Qe=z(),Ge=y("th"),Ze=$("Количество"),St=z(),xe=y("th"),et=$("Материал"),Ft=z(),tt=y("th"),Tt=$("Покрытие"),Bt=z(),bt=y("tbody");for(let qe=0;qe<Ee.length;qe+=1)Ee[qe].c();It=z(),ot=y("button"),G(ht.$$.fragment),Ot=$(" Добавить строку"),this.h()},l(qe){e=T(qe,"SECTION",{class:!0});var Pe=q(e);n=T(Pe,"DIV",{class:!0});var Ce=q(n);o=T(Ce,"H2",{class:!0});var ke=q(o);i=W(ke,"Список требуемых деталей"),ke.forEach(v),l=R(Ce),r=T(Ce,"TABLE",{class:!0});var Q=q(r);a=T(Q,"THEAD",{class:!0});var te=q(a);s=T(te,"TR",{});var be=q(s);d=T(be,"TH",{scope:!0,colspan:!0,class:!0});var vt=q(d);h=W(vt,"Полотно"),vt.forEach(v),g=R(be),F=T(be,"TH",{scope:!0,colspan:!0,class:!0});var at=q(F);b=W(at,"Коробка"),at.forEach(v),p=R(be),c=T(be,"TH",{scope:!0,rowspan:!0,colspan:!0,class:!0});var gt=q(c);m=W(gt,"Фурнитура"),gt.forEach(v),_=R(be),S=T(be,"TH",{scope:!0,colspan:!0,class:!0});var lt=q(S);E=W(lt,"Дополнительно"),lt.forEach(v),C=R(be),B=T(be,"TH",{scope:!0,rowspan:!0,class:!0}),q(B).forEach(v),be.forEach(v),D=R(te),w=T(te,"TR",{});var Oe=q(w);L=T(Oe,"TH",{scope:!0,rowspan:!0,class:!0});var pt=q(L);oe=W(pt,"№"),pt.forEach(v),k=R(Oe),X=T(Oe,"TH",{scope:!0,colspan:!0,class:!0});var N=q(X);I=W(N,"Размер"),N.forEach(v),re=R(Oe),x=T(Oe,"TH",{scope:!0,rowspan:!0,class:!0});var _e=q(x);ne=W(_e,"Сторона открывания"),_e.forEach(v),ue=R(Oe),A=T(Oe,"TH",{scope:!0,colspan:!0,class:!0});var We=q(A);ee=W(We,"Торец"),We.forEach(v),H=R(Oe),J=T(Oe,"TH",{scope:!0,rowspan:!0,class:!0});var Ue=q(J);ie=W(Ue,"Профиль"),Ue.forEach(v),U=R(Oe),de=T(Oe,"TH",{scope:!0,colspan:!0,class:!0});var rt=q(de);ve=W(rt,"Петли"),rt.forEach(v),se=R(Oe),ae=T(Oe,"TH",{scope:!0,rowspan:!0,class:!0});var _t=q(ae);me=W(_t,"Фрезеровка"),_t.forEach(v),Oe.forEach(v),Fe=R(te),M=T(te,"TR",{});var De=q(M);P=T(De,"TH",{class:!0});var ut=q(P);j=W(ut,"Высота, мм"),ut.forEach(v),Se=R(De),Re=T(De,"TH",{class:!0});var Ke=q(Re);ye=W(Ke,"Ширина, мм"),Ke.forEach(v),pe=R(De),we=T(De,"TH",{scope:!0,rowspan:!0,class:!0});var qt=q(we);Be=W(qt,"Тип"),qt.forEach(v),Ae=R(De),Ie=T(De,"TH",{scope:!0,rowspan:!0,class:!0});var wt=q(Ie);Ne=W(wt,"Тип"),wt.forEach(v),Qe=R(De),Ge=T(De,"TH",{scope:!0,rowspan:!0,class:!0});var Ct=q(Ge);Ze=W(Ct,"Количество"),Ct.forEach(v),St=R(De),xe=T(De,"TH",{scope:!0,rowspan:!0,class:!0});var Xe=q(xe);et=W(Xe,"Материал"),Xe.forEach(v),Ft=R(De),tt=T(De,"TH",{scope:!0,rowspan:!0,class:!0});var kt=q(tt);Tt=W(kt,"Покрытие"),kt.forEach(v),De.forEach(v),te.forEach(v),Bt=R(Q),bt=T(Q,"TBODY",{});var ft=q(bt);for(let Rt=0;Rt<Ee.length;Rt+=1)Ee[Rt].l(ft);ft.forEach(v),Q.forEach(v),It=R(Ce),ot=T(Ce,"BUTTON",{type:!0,class:!0});var Wt=q(ot);Z(ht.$$.fragment,Wt),Ot=W(Wt," Добавить строку"),Wt.forEach(v),Ce.forEach(v),Pe.forEach(v),this.h()},h(){f(o,"class","mb-4 text-[28px] font-bold text-gray-900 dark:text-white"),f(d,"scope","col"),f(d,"colspan","5"),f(d,"class",Le),f(F,"scope","col"),f(F,"colspan","3"),f(F,"class",Le),f(c,"scope","col"),f(c,"rowspan","2"),f(c,"colspan","2"),f(c,"class",Le),f(S,"scope","col"),f(S,"colspan","1"),f(S,"class",Le),f(B,"scope","col"),f(B,"rowspan","3"),f(B,"class",Le),f(L,"scope","col"),f(L,"rowspan","2"),f(L,"class",Le+ct),f(X,"scope","col"),f(X,"colspan","2"),f(X,"class",Le+ct),f(x,"scope","col"),f(x,"rowspan","2"),f(x,"class",Le+ct),f(A,"scope","col"),f(A,"colspan","1"),f(A,"class",Le),f(J,"scope","col"),f(J,"rowspan","2"),f(J,"class",Le+ct),f(de,"scope","col"),f(de,"colspan","2"),f(de,"class",Le+ct),f(ae,"scope","col"),f(ae,"rowspan","2"),f(ae,"class",Le+ct),f(P,"class","min-w-[100px] "+(Le+ct)),f(Re,"class","min-w-[100px] "+(Le+ct)),f(we,"scope","col"),f(we,"rowspan","2"),f(we,"class",Le+ct),f(Ie,"scope","col"),f(Ie,"rowspan","2"),f(Ie,"class",Le+ct),f(Ge,"scope","col"),f(Ge,"rowspan","2"),f(Ge,"class",Le+ct),f(xe,"scope","col"),f(xe,"rowspan","2"),f(xe,"class",Le+ct),f(tt,"scope","col"),f(tt,"rowspan","2"),f(tt,"class",Le+ct),f(a,"class","text-gray-600 dark:text-gray-400"),f(r,"class","text-left text-gray-500 dark:text-gray-400"),f(ot,"type","button"),f(ot,"class","gap-2 inline-flex items-center mt-4 sm:mt-6 float-right px-3 py-2 text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm"),f(n,"class","p-4 mx-auto"),f(e,"class","overflow-auto lg:overflow-hidden animate__animated animate__fadeInDown animate__slower dark:bg-gray-900")},m(qe,Pe){he(qe,e,Pe),u(e,n),u(n,o),u(o,i),u(n,l),u(n,r),u(r,a),u(a,s),u(s,d),u(d,h),u(s,g),u(s,F),u(F,b),u(s,p),u(s,c),u(c,m),u(s,_),u(s,S),u(S,E),u(s,C),u(s,B),u(a,D),u(a,w),u(w,L),u(L,oe),u(w,k),u(w,X),u(X,I),u(w,re),u(w,x),u(x,ne),u(w,ue),u(w,A),u(A,ee),u(w,H),u(w,J),u(J,ie),u(w,U),u(w,de),u(de,ve),u(w,se),u(w,ae),u(ae,me),u(a,Fe),u(a,M),u(M,P),u(P,j),u(M,Se),u(M,Re),u(Re,ye),u(M,pe),u(M,we),u(we,Be),u(M,Ae),u(M,Ie),u(Ie,Ne),u(M,Qe),u(M,Ge),u(Ge,Ze),u(M,St),u(M,xe),u(xe,et),u(M,Ft),u(M,tt),u(tt,Tt),u(r,Bt),u(r,bt);for(let Ce=0;Ce<Ee.length;Ce+=1)Ee[Ce]&&Ee[Ce].m(bt,null);u(n,It),u(n,ot),K(ht,ot,null),u(ot,Ot),Et=!0,zt||(Nt=dt(ot,"click",function(){ko(t[10])&&t[10].apply(this,arguments)}),zt=!0)},p(qe,[Pe]){if(t=qe,Pe&7167){mt=t[0];let Ce;for(Ce=0;Ce<mt.length;Ce+=1){const ke=Bn(t,mt,Ce);Ee[Ce]?(Ee[Ce].p(ke,Pe),O(Ee[Ce],1)):(Ee[Ce]=On(ke),Ee[Ce].c(),O(Ee[Ce],1),Ee[Ce].m(bt,null))}for(Ye(),Ce=mt.length;Ce<Ee.length;Ce+=1)$t(Ce);Je()}},i(qe){if(!Et){for(let Pe=0;Pe<mt.length;Pe+=1)O(Ee[Pe]);O(ht.$$.fragment,qe),Et=!0}},o(qe){Ee=Ee.filter(Boolean);for(let Pe=0;Pe<Ee.length;Pe+=1)V(Ee[Pe]);V(ht.$$.fragment,qe),Et=!1},d(qe){qe&&v(e),Zt(Ee,qe),Y(ht),zt=!1,Nt()}}}const ct=" font-normal",Le="p-3 text-center bg-gray-50 dark:bg-gray-600 border-2 ";function Yo(t,e,n){let{openingSides:o=[]}=e,{doorFrames:i=[]}=e,{hingesTypes:l=[]}=e,{endFaceTypes:r=[]}=e,{profileColors:a=[]}=e,{profileMaterials:s=[]}=e,{millingVersions:d=[]}=e,{buildPieces:h=[]}=e,{processing:g}=e,{equipments:F}=e,{addBuildPiece:b}=e,{copyBuildPiece:p}=e,{removeBuildPiece:c}=e;function m(I,re){t.$$.not_equal(re.heightDoorCanvas,I)&&(re.heightDoorCanvas=I,n(0,h))}function _(I,re){t.$$.not_equal(re.widthDoorCanvas,I)&&(re.widthDoorCanvas=I,n(0,h))}function S(I,re){t.$$.not_equal(re.openingSide,I)&&(re.openingSide=I,n(0,h))}function E(I,re){t.$$.not_equal(re.typeEndFace,I)&&(re.typeEndFace=I,n(0,h))}function C(I,re){t.$$.not_equal(re.doorFrame,I)&&(re.doorFrame=I,n(0,h))}function B(I,re){t.$$.not_equal(re.typeHinge,I)&&(re.typeHinge=I,n(0,h))}function D(I,re){t.$$.not_equal(re.volumeHinges,I)&&(re.volumeHinges=I,n(0,h))}function w(I,re){t.$$.not_equal(re.profileMaterial,I)&&(re.profileMaterial=I,n(0,h))}function L(I,re){t.$$.not_equal(re.profileColor,I)&&(re.profileColor=I,n(0,h))}function oe(I,re){t.$$.not_equal(re.millingVersion,I)&&(re.millingVersion=I,n(0,h))}const k=I=>p(I.id),X=I=>c(I.id);return t.$$set=I=>{"openingSides"in I&&n(1,o=I.openingSides),"doorFrames"in I&&n(2,i=I.doorFrames),"hingesTypes"in I&&n(3,l=I.hingesTypes),"endFaceTypes"in I&&n(4,r=I.endFaceTypes),"profileColors"in I&&n(5,a=I.profileColors),"profileMaterials"in I&&n(6,s=I.profileMaterials),"millingVersions"in I&&n(7,d=I.millingVersions),"buildPieces"in I&&n(0,h=I.buildPieces),"processing"in I&&n(8,g=I.processing),"equipments"in I&&n(9,F=I.equipments),"addBuildPiece"in I&&n(10,b=I.addBuildPiece),"copyBuildPiece"in I&&n(11,p=I.copyBuildPiece),"removeBuildPiece"in I&&n(12,c=I.removeBuildPiece)},[h,o,i,l,r,a,s,d,g,F,b,p,c,m,_,S,E,C,B,D,w,L,oe,k,X]}class Jo extends He{constructor(e){super(),Ve(this,e,Yo,Ko,Me,{openingSides:1,doorFrames:2,hingesTypes:3,endFaceTypes:4,profileColors:5,profileMaterials:6,millingVersions:7,buildPieces:0,processing:8,equipments:9,addBuildPiece:10,copyBuildPiece:11,removeBuildPiece:12})}}function zn(t,e,n){const o=t.slice();return o[12]=e[n],o[13]=e,o[14]=n,o}function Rn(t){let e,n,o,i,l,r,a,s,d,h,g,F,b,p,c,m,_,S,E,C,B,D,w,L,oe,k,X;function I(M){t[2](M)}let re={id:"doorBox",label:"Дверная коробка",type:"checkbox",required:!0};t[1].hasDoorBox!==void 0&&(re.value=t[1].hasDoorBox),o=new Te({props:re}),le.push(()=>fe(o,"value",I));function x(M){t[3](M)}let ne={id:"hasEndFaceOrFrameCanvas",label:"Торец/Каркас полотна",type:"checkbox",required:!0};t[1].hasEndFaceOrFrameCanvas!==void 0&&(ne.value=t[1].hasEndFaceOrFrameCanvas),r=new Te({props:ne}),le.push(()=>fe(r,"value",x));let ue=t[1].hasEndFaceOrFrameCanvas&&Hn(t);function A(M){t[6](M)}let ee={id:"hinges",label:"Петли",type:"checkbox",required:!0};t[1].hasHinges!==void 0&&(ee.value=t[1].hasHinges),h=new Te({props:ee}),le.push(()=>fe(h,"value",A));function H(M){t[7](M)}let J={id:"lock",label:"Замок и ответка",type:"checkbox",required:!0};t[1].hasLockAndResponse!==void 0&&(J.value=t[1].hasLockAndResponse),b=new Te({props:J}),le.push(()=>fe(b,"value",H));function ie(M){t[8](M)}let U={id:"sealer",label:"Уплотнитель",type:"checkbox",required:!0};t[1].hasSealer!==void 0&&(U.value=t[1].hasSealer),m=new Te({props:U}),le.push(()=>fe(m,"value",ie));function de(M){t[9](M)}let ve={id:"corners",label:"Сухари/уголки для сборки",type:"checkbox",required:!0};t[1].hasCorners!==void 0&&(ve.value=t[1].hasCorners),E=new Te({props:ve}),le.push(()=>fe(E,"value",de));function se(M){t[10](M)}let ae={id:"mountingPlates",label:"Монтажные пластины",type:"checkbox",required:!0};t[1].hasMountingPlates!==void 0&&(ae.value=t[1].hasMountingPlates),D=new Te({props:ae}),le.push(()=>fe(D,"value",se));function me(M){t[11](M)}let Fe={id:"plasterMesh",label:"Штукатурная сетка",type:"checkbox",required:!0};return t[1].hasPlasterMesh!==void 0&&(Fe.value=t[1].hasPlasterMesh),oe=new Te({props:Fe}),le.push(()=>fe(oe,"value",me)),{c(){e=y("form"),n=y("div"),G(o.$$.fragment),l=z(),G(r.$$.fragment),s=z(),ue&&ue.c(),d=z(),G(h.$$.fragment),F=z(),G(b.$$.fragment),c=z(),G(m.$$.fragment),S=z(),G(E.$$.fragment),B=z(),G(D.$$.fragment),L=z(),G(oe.$$.fragment),this.h()},l(M){e=T(M,"FORM",{action:!0});var P=q(e);n=T(P,"DIV",{class:!0});var j=q(n);Z(o.$$.fragment,j),l=R(j),Z(r.$$.fragment,j),s=R(j),ue&&ue.l(j),d=R(j),Z(h.$$.fragment,j),F=R(j),Z(b.$$.fragment,j),c=R(j),Z(m.$$.fragment,j),S=R(j),Z(E.$$.fragment,j),B=R(j),Z(D.$$.fragment,j),L=R(j),Z(oe.$$.fragment,j),j.forEach(v),P.forEach(v),this.h()},h(){f(n,"class","grid"),f(e,"action","#")},m(M,P){he(M,e,P),u(e,n),K(o,n,null),u(n,l),K(r,n,null),u(n,s),ue&&ue.m(n,null),u(n,d),K(h,n,null),u(n,F),K(b,n,null),u(n,c),K(m,n,null),u(n,S),K(E,n,null),u(n,B),K(D,n,null),u(n,L),K(oe,n,null),X=!0},p(M,P){const j={};!i&&P&2&&(i=!0,j.value=M[1].hasDoorBox,ce(()=>i=!1)),o.$set(j);const Se={};!a&&P&2&&(a=!0,Se.value=M[1].hasEndFaceOrFrameCanvas,ce(()=>a=!1)),r.$set(Se),M[1].hasEndFaceOrFrameCanvas?ue?(ue.p(M,P),P&2&&O(ue,1)):(ue=Hn(M),ue.c(),O(ue,1),ue.m(n,d)):ue&&(Ye(),V(ue,1,1,()=>{ue=null}),Je());const Re={};!g&&P&2&&(g=!0,Re.value=M[1].hasHinges,ce(()=>g=!1)),h.$set(Re);const ye={};!p&&P&2&&(p=!0,ye.value=M[1].hasLockAndResponse,ce(()=>p=!1)),b.$set(ye);const pe={};!_&&P&2&&(_=!0,pe.value=M[1].hasSealer,ce(()=>_=!1)),m.$set(pe);const we={};!C&&P&2&&(C=!0,we.value=M[1].hasCorners,ce(()=>C=!1)),E.$set(we);const Be={};!w&&P&2&&(w=!0,Be.value=M[1].hasMountingPlates,ce(()=>w=!1)),D.$set(Be);const Ae={};!k&&P&2&&(k=!0,Ae.value=M[1].hasPlasterMesh,ce(()=>k=!1)),oe.$set(Ae)},i(M){X||(O(o.$$.fragment,M),O(r.$$.fragment,M),O(ue),O(h.$$.fragment,M),O(b.$$.fragment,M),O(m.$$.fragment,M),O(E.$$.fragment,M),O(D.$$.fragment,M),O(oe.$$.fragment,M),X=!0)},o(M){V(o.$$.fragment,M),V(r.$$.fragment,M),V(ue),V(h.$$.fragment,M),V(b.$$.fragment,M),V(m.$$.fragment,M),V(E.$$.fragment,M),V(D.$$.fragment,M),V(oe.$$.fragment,M),X=!1},d(M){M&&v(e),Y(o),Y(r),ue&&ue.d(),Y(h),Y(b),Y(m),Y(E),Y(D),Y(oe)}}}function Hn(t){let e,n,o=t[0],i=[];for(let r=0;r<o.length;r+=1)i[r]=Vn(zn(t,o,r));const l=r=>V(i[r],1,1,()=>{i[r]=null});return{c(){e=y("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=T(r,"DIV",{class:!0});var a=q(e);for(let s=0;s<i.length;s+=1)i[s].l(a);a.forEach(v),this.h()},h(){f(e,"class","ml-6 grid")},m(r,a){he(r,e,a);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null);n=!0},p(r,a){if(a&3){o=r[0];let s;for(s=0;s<o.length;s+=1){const d=zn(r,o,s);i[s]?(i[s].p(d,a),O(i[s],1)):(i[s]=Vn(d),i[s].c(),O(i[s],1),i[s].m(e,null))}for(Ye(),s=o.length;s<i.length;s+=1)l(s);Je()}},i(r){if(!n){for(let a=0;a<o.length;a+=1)O(i[a]);n=!0}},o(r){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)V(i[a]);n=!1},d(r){r&&v(e),Zt(i,r)}}}function Vn(t){let e,n,o,i;function l(s){t[4](s)}function r(s){t[5](s,t[12],t[13],t[14])}let a={id:"constructionType"+t[12].id,label:t[12].name,disabled:t[12].name==="Каркас",type:"radio",required:!0};return t[1].canvasConstructionType!==void 0&&(a.group=t[1].canvasConstructionType),t[12]!==void 0&&(a.value=t[12]),e=new Te({props:a}),le.push(()=>fe(e,"group",l)),le.push(()=>fe(e,"value",r)),{c(){G(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,d){K(e,s,d),i=!0},p(s,d){t=s;const h={};d&1&&(h.id="constructionType"+t[12].id),d&1&&(h.label=t[12].name),d&1&&(h.disabled=t[12].name==="Каркас"),!n&&d&2&&(n=!0,h.group=t[1].canvasConstructionType,ce(()=>n=!1)),!o&&d&1&&(o=!0,h.value=t[12],ce(()=>o=!1)),e.$set(h)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){V(e.$$.fragment,s),i=!1},d(s){Y(e,s)}}}function Qo(t){let e,n,o,i,l,r,a=t[1]&&Rn(t);return{c(){e=y("section"),n=y("div"),o=y("h2"),i=$("Комплектация"),l=z(),a&&a.c(),this.h()},l(s){e=T(s,"SECTION",{class:!0});var d=q(e);n=T(d,"DIV",{class:!0});var h=q(n);o=T(h,"H2",{class:!0});var g=q(o);i=W(g,"Комплектация"),g.forEach(v),l=R(h),a&&a.l(h),h.forEach(v),d.forEach(v),this.h()},h(){f(o,"class","mb-4 text-[28px] font-bold text-gray-900 dark:text-white"),f(n,"class","p-4 mx-auto max-w-6xl"),f(e,"class","dark:bg-gray-900")},m(s,d){he(s,e,d),u(e,n),u(n,o),u(o,i),u(n,l),a&&a.m(n,null),r=!0},p(s,[d]){s[1]?a?(a.p(s,d),d&2&&O(a,1)):(a=Rn(s),a.c(),O(a,1),a.m(n,null)):a&&(Ye(),V(a,1,1,()=>{a=null}),Je())},i(s){r||(O(a),r=!0)},o(s){V(a),r=!1},d(s){s&&v(e),a&&a.d()}}}function xo(t,e,n){let{canvasConstructionTypes:o}=e,{equipments:i}=e;i.canvasConstructionType=o[0];function l(c){t.$$.not_equal(i.hasDoorBox,c)&&(i.hasDoorBox=c,n(1,i))}function r(c){t.$$.not_equal(i.hasEndFaceOrFrameCanvas,c)&&(i.hasEndFaceOrFrameCanvas=c,n(1,i))}function a(c){t.$$.not_equal(i.canvasConstructionType,c)&&(i.canvasConstructionType=c,n(1,i))}function s(c,m,_,S){_[S]=c,n(0,o)}function d(c){t.$$.not_equal(i.hasHinges,c)&&(i.hasHinges=c,n(1,i))}function h(c){t.$$.not_equal(i.hasLockAndResponse,c)&&(i.hasLockAndResponse=c,n(1,i))}function g(c){t.$$.not_equal(i.hasSealer,c)&&(i.hasSealer=c,n(1,i))}function F(c){t.$$.not_equal(i.hasCorners,c)&&(i.hasCorners=c,n(1,i))}function b(c){t.$$.not_equal(i.hasMountingPlates,c)&&(i.hasMountingPlates=c,n(1,i))}function p(c){t.$$.not_equal(i.hasPlasterMesh,c)&&(i.hasPlasterMesh=c,n(1,i))}return t.$$set=c=>{"canvasConstructionTypes"in c&&n(0,o=c.canvasConstructionTypes),"equipments"in c&&n(1,i=c.equipments)},[o,i,l,r,a,s,d,h,g,F,b,p]}class er extends He{constructor(e){super(),Ve(this,e,xo,Qo,Me,{canvasConstructionTypes:0,equipments:1})}}function Mn(t){let e,n,o,i,l,r,a,s,d,h,g,F,b,p,c,m,_,S,E,C,B,D,w,L,oe,k,X,I,re,x,ne,ue,A,ee,H,J,ie,U,de,ve,se,ae,me,Fe,M,P,j,Se,Re,ye,pe,we,Be,Ae,Ie,Ne,Qe,Ge,Ze,St,xe,et,Ft,tt;function Tt(N){t[2](N)}let Bt={id:"processing.stockSawing",label:"Припуск, мм",classes:Gt,inputClasses:Pt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].stockSawing!==void 0&&(Bt.value=t[0].stockSawing),s=new Te({props:Bt}),le.push(()=>fe(s,"value",Tt));function bt(N){t[3](N)}let It={id:"processing.boxIndent.top",label:"Сверху",disabled:!t[1].hasDoorBox,classes:Gt,inputClasses:Pt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].boxIndent.top!==void 0&&(It.value=t[0].boxIndent.top),C=new Te({props:It}),le.push(()=>fe(C,"value",bt));function ot(N){t[4](N)}let ht={id:"processing.boxIndent.right",label:"Справа",disabled:!t[1].hasDoorBox,classes:Gt,inputClasses:Pt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].boxIndent.right!==void 0&&(ht.value=t[0].boxIndent.right),w=new Te({props:ht}),le.push(()=>fe(w,"value",ot));function Ot(N){t[5](N)}let Et={id:"processing.boxIndent.bottom",label:"Снизу",disabled:!t[1].hasDoorBox,classes:Gt,inputClasses:Pt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].boxIndent.bottom!==void 0&&(Et.value=t[0].boxIndent.bottom),X=new Te({props:Et}),le.push(()=>fe(X,"value",Ot));function zt(N){t[6](N)}let Nt={id:"processing.boxIndent.left",label:"Слева",disabled:!t[1].hasDoorBox,classes:Gt,inputClasses:Pt,type:"number",numSettings:{min:0,max:100},required:!0};t[0].boxIndent.left!==void 0&&(Nt.value=t[0].boxIndent.left),x=new Te({props:Nt}),le.push(()=>fe(x,"value",zt));function mt(N){t[7](N)}let Ee={id:"isBoxMillingForHinges",label:"Фрезеровка коробки под петли и ответку замка",type:"checkbox",disabled:!t[1].hasDoorBox,placeholder:"Фрезеровка коробки под петли и ответку замка",required:!0};t[0].isBoxMillingForHinges!==void 0&&(Ee.value=t[0].isBoxMillingForHinges),ie=new Te({props:Ee}),le.push(()=>fe(ie,"value",mt));function $t(N){t[8](N)}let qe={id:"isMillingForNonStandard",label:"Фрезеровка под нестандартную фурнитуру",type:"checkbox",disabled:!t[1].hasDoorBox,placeholder:"Фрезеровка под нестандартную фурнитуру",required:!0};t[0].isMillingForNonStandard!==void 0&&(qe.value=t[0].isMillingForNonStandard),ve=new Te({props:qe}),le.push(()=>fe(ve,"value",$t));function Pe(N){t[9](N)}let Ce={id:"isForDoorsWithoutTopCrossbar",label:"Для дверей без верхней поперечины, мм сверху",type:"checkbox",disabled:!t[1].hasDoorBox,placeholder:"Для дверей без верхней поперечины, мм сверху",required:!0};t[0].isForDoorsWithoutTopCrossbar!==void 0&&(Ce.value=t[0].isForDoorsWithoutTopCrossbar),me=new Te({props:Ce}),le.push(()=>fe(me,"value",Pe));let ke=t[0].isForDoorsWithoutTopCrossbar&&An(t);function Q(N){t[11](N)}let te={id:"isEndFaceCuttingForCanvas",label:"Пилим торец в размер полотна",type:"checkbox",disabled:!t[1].hasEndFaceOrFrameCanvas,placeholder:"Пилим торец в размер полотна",required:!0};t[0].isEndFaceCuttingForCanvas!==void 0&&(te.value=t[0].isEndFaceCuttingForCanvas),we=new Te({props:te}),le.push(()=>fe(we,"value",Q));let be=t[0].isEndFaceCuttingForCanvas&&Nn(t);function vt(N){t[17](N)}let at={id:"isEndFaceMillingForHinges",label:"Фрезеровка торца/каркаса под петли и замок",type:"checkbox",disabled:!t[1].hasEndFaceOrFrameCanvas,placeholder:"Фрезеровка торца/каркаса под петли и замок",required:!0};t[0].isEndFaceMillingForHinges!==void 0&&(at.value=t[0].isEndFaceMillingForHinges),Ne=new Te({props:at}),le.push(()=>fe(Ne,"value",vt));function gt(N){t[18](N)}let lt={id:"isAtBottomCanvasStraightEndFace",label:"На низ реверсивных полотен прямой торец",type:"checkbox",disabled:!t[1].hasEndFaceOrFrameCanvas,placeholder:"На низ реверсивных полотен прямой торец",required:!0};t[0].isAtBottomCanvasStraightEndFace!==void 0&&(lt.value=t[0].isAtBottomCanvasStraightEndFace),Ze=new Te({props:lt}),le.push(()=>fe(Ze,"value",gt));function Oe(N){t[19](N)}let pt={id:"isAtTopCanvasStraightEndFace",label:"На верх полотен без поперечины прямой торец",type:"checkbox",disabled:!t[1].hasEndFaceOrFrameCanvas,placeholder:"На верх полотен без поперечины прямой торец",required:!0};return t[0].isAtTopCanvasStraightEndFace!==void 0&&(pt.value=t[0].isAtTopCanvasStraightEndFace),et=new Te({props:pt}),le.push(()=>fe(et,"value",Oe)),{c(){e=y("form"),n=y("div"),o=y("div"),i=y("h3"),l=$("Параметры пилы"),r=z(),a=y("div"),G(s.$$.fragment),h=z(),g=y("div"),F=y("h3"),b=$("Коробка"),p=z(),c=y("div"),m=y("h4"),_=$("Отступы между коробкой и полотном, мм"),S=z(),E=y("div"),G(C.$$.fragment),D=z(),G(w.$$.fragment),oe=z(),k=y("div"),G(X.$$.fragment),re=z(),G(x.$$.fragment),ue=z(),A=y("div"),ee=y("h4"),H=$("Фрезеровка"),J=z(),G(ie.$$.fragment),de=z(),G(ve.$$.fragment),ae=z(),G(me.$$.fragment),M=z(),ke&&ke.c(),P=z(),j=y("div"),Se=y("h3"),Re=$("Торец"),ye=z(),pe=y("div"),G(we.$$.fragment),Ae=z(),be&&be.c(),Ie=z(),G(Ne.$$.fragment),Ge=z(),G(Ze.$$.fragment),xe=z(),G(et.$$.fragment),this.h()},l(N){e=T(N,"FORM",{action:!0});var _e=q(e);n=T(_e,"DIV",{class:!0});var We=q(n);o=T(We,"DIV",{class:!0});var Ue=q(o);i=T(Ue,"H3",{class:!0});var rt=q(i);l=W(rt,"Параметры пилы"),rt.forEach(v),r=R(Ue),a=T(Ue,"DIV",{class:!0});var _t=q(a);Z(s.$$.fragment,_t),_t.forEach(v),Ue.forEach(v),h=R(We),g=T(We,"DIV",{class:!0});var De=q(g);F=T(De,"H3",{class:!0});var ut=q(F);b=W(ut,"Коробка"),ut.forEach(v),p=R(De),c=T(De,"DIV",{class:!0});var Ke=q(c);m=T(Ke,"H4",{class:!0});var qt=q(m);_=W(qt,"Отступы между коробкой и полотном, мм"),qt.forEach(v),S=R(Ke),E=T(Ke,"DIV",{class:!0});var wt=q(E);Z(C.$$.fragment,wt),D=R(wt),Z(w.$$.fragment,wt),wt.forEach(v),oe=R(Ke),k=T(Ke,"DIV",{class:!0});var Ct=q(k);Z(X.$$.fragment,Ct),re=R(Ct),Z(x.$$.fragment,Ct),Ct.forEach(v),Ke.forEach(v),ue=R(De),A=T(De,"DIV",{class:!0});var Xe=q(A);ee=T(Xe,"H4",{class:!0});var kt=q(ee);H=W(kt,"Фрезеровка"),kt.forEach(v),J=R(Xe),Z(ie.$$.fragment,Xe),de=R(Xe),Z(ve.$$.fragment,Xe),ae=R(Xe),Z(me.$$.fragment,Xe),M=R(Xe),ke&&ke.l(Xe),Xe.forEach(v),De.forEach(v),P=R(We),j=T(We,"DIV",{class:!0});var ft=q(j);Se=T(ft,"H3",{class:!0});var Wt=q(Se);Re=W(Wt,"Торец"),Wt.forEach(v),ye=R(ft),pe=T(ft,"DIV",{class:!0});var Rt=q(pe);Z(we.$$.fragment,Rt),Ae=R(Rt),be&&be.l(Rt),Rt.forEach(v),Ie=R(ft),Z(Ne.$$.fragment,ft),Ge=R(ft),Z(Ze.$$.fragment,ft),xe=R(ft),Z(et.$$.fragment,ft),ft.forEach(v),We.forEach(v),_e.forEach(v),this.h()},h(){f(i,"class","text-[20px] font-bold text-gray-900 dark:text-white"),f(a,"class","ml-6 grid gap-2"),f(o,"class","ml-6 grid gap-2"),f(F,"class","text-[20px] font-bold text-gray-900 dark:text-white"),f(m,"class","my-2 text-[16px] font-bold text-gray-900 dark:text-white"),f(E,"class","ml-6 grid grid-cols-2 gap-2"),f(k,"class","ml-6 grid grid-cols-2 gap-2"),f(c,"class","ml-6 grid gap-2"),f(ee,"class","my-2 text-[16px] font-bold text-gray-900 dark:text-white"),f(A,"class","ml-6 grid gap-2"),f(g,"class","ml-6 mt-2 grid gap-2"),f(Se,"class","mb-4 text-[20px] font-bold text-gray-900 dark:text-white"),f(pe,"class","grid gap-2"),f(j,"class","ml-6 grid gap-2"),f(n,"class","grid gap-2"),f(e,"action","#")},m(N,_e){he(N,e,_e),u(e,n),u(n,o),u(o,i),u(i,l),u(o,r),u(o,a),K(s,a,null),u(n,h),u(n,g),u(g,F),u(F,b),u(g,p),u(g,c),u(c,m),u(m,_),u(c,S),u(c,E),K(C,E,null),u(E,D),K(w,E,null),u(c,oe),u(c,k),K(X,k,null),u(k,re),K(x,k,null),u(g,ue),u(g,A),u(A,ee),u(ee,H),u(A,J),K(ie,A,null),u(A,de),K(ve,A,null),u(A,ae),K(me,A,null),u(A,M),ke&&ke.m(A,null),u(n,P),u(n,j),u(j,Se),u(Se,Re),u(j,ye),u(j,pe),K(we,pe,null),u(pe,Ae),be&&be.m(pe,null),u(j,Ie),K(Ne,j,null),u(j,Ge),K(Ze,j,null),u(j,xe),K(et,j,null),tt=!0},p(N,_e){const We={};!d&&_e&1&&(d=!0,We.value=N[0].stockSawing,ce(()=>d=!1)),s.$set(We);const Ue={};_e&2&&(Ue.disabled=!N[1].hasDoorBox),!B&&_e&1&&(B=!0,Ue.value=N[0].boxIndent.top,ce(()=>B=!1)),C.$set(Ue);const rt={};_e&2&&(rt.disabled=!N[1].hasDoorBox),!L&&_e&1&&(L=!0,rt.value=N[0].boxIndent.right,ce(()=>L=!1)),w.$set(rt);const _t={};_e&2&&(_t.disabled=!N[1].hasDoorBox),!I&&_e&1&&(I=!0,_t.value=N[0].boxIndent.bottom,ce(()=>I=!1)),X.$set(_t);const De={};_e&2&&(De.disabled=!N[1].hasDoorBox),!ne&&_e&1&&(ne=!0,De.value=N[0].boxIndent.left,ce(()=>ne=!1)),x.$set(De);const ut={};_e&2&&(ut.disabled=!N[1].hasDoorBox),!U&&_e&1&&(U=!0,ut.value=N[0].isBoxMillingForHinges,ce(()=>U=!1)),ie.$set(ut);const Ke={};_e&2&&(Ke.disabled=!N[1].hasDoorBox),!se&&_e&1&&(se=!0,Ke.value=N[0].isMillingForNonStandard,ce(()=>se=!1)),ve.$set(Ke);const qt={};_e&2&&(qt.disabled=!N[1].hasDoorBox),!Fe&&_e&1&&(Fe=!0,qt.value=N[0].isForDoorsWithoutTopCrossbar,ce(()=>Fe=!1)),me.$set(qt),N[0].isForDoorsWithoutTopCrossbar?ke?(ke.p(N,_e),_e&1&&O(ke,1)):(ke=An(N),ke.c(),O(ke,1),ke.m(A,null)):ke&&(Ye(),V(ke,1,1,()=>{ke=null}),Je());const wt={};_e&2&&(wt.disabled=!N[1].hasEndFaceOrFrameCanvas),!Be&&_e&1&&(Be=!0,wt.value=N[0].isEndFaceCuttingForCanvas,ce(()=>Be=!1)),we.$set(wt),N[0].isEndFaceCuttingForCanvas?be?(be.p(N,_e),_e&1&&O(be,1)):(be=Nn(N),be.c(),O(be,1),be.m(pe,null)):be&&(Ye(),V(be,1,1,()=>{be=null}),Je());const Ct={};_e&2&&(Ct.disabled=!N[1].hasEndFaceOrFrameCanvas),!Qe&&_e&1&&(Qe=!0,Ct.value=N[0].isEndFaceMillingForHinges,ce(()=>Qe=!1)),Ne.$set(Ct);const Xe={};_e&2&&(Xe.disabled=!N[1].hasEndFaceOrFrameCanvas),!St&&_e&1&&(St=!0,Xe.value=N[0].isAtBottomCanvasStraightEndFace,ce(()=>St=!1)),Ze.$set(Xe);const kt={};_e&2&&(kt.disabled=!N[1].hasEndFaceOrFrameCanvas),!Ft&&_e&1&&(Ft=!0,kt.value=N[0].isAtTopCanvasStraightEndFace,ce(()=>Ft=!1)),et.$set(kt)},i(N){tt||(O(s.$$.fragment,N),O(C.$$.fragment,N),O(w.$$.fragment,N),O(X.$$.fragment,N),O(x.$$.fragment,N),O(ie.$$.fragment,N),O(ve.$$.fragment,N),O(me.$$.fragment,N),O(ke),O(we.$$.fragment,N),O(be),O(Ne.$$.fragment,N),O(Ze.$$.fragment,N),O(et.$$.fragment,N),tt=!0)},o(N){V(s.$$.fragment,N),V(C.$$.fragment,N),V(w.$$.fragment,N),V(X.$$.fragment,N),V(x.$$.fragment,N),V(ie.$$.fragment,N),V(ve.$$.fragment,N),V(me.$$.fragment,N),V(ke),V(we.$$.fragment,N),V(be),V(Ne.$$.fragment,N),V(Ze.$$.fragment,N),V(et.$$.fragment,N),tt=!1},d(N){N&&v(e),Y(s),Y(C),Y(w),Y(X),Y(x),Y(ie),Y(ve),Y(me),ke&&ke.d(),Y(we),be&&be.d(),Y(Ne),Y(Ze),Y(et)}}}function An(t){let e,n,o;function i(r){t[10](r)}let l={type:"number",placeholder:"Для дверей без верхней поперечины",numSettings:{min:0,max:100},required:!0};return t[0].marginForDoorsWithoutTopCrossbar!==void 0&&(l.value=t[0].marginForDoorsWithoutTopCrossbar),e=new jt({props:l}),le.push(()=>fe(e,"value",i)),{c(){G(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,a){K(e,r,a),o=!0},p(r,a){const s={};!n&&a&1&&(n=!0,s.value=r[0].marginForDoorsWithoutTopCrossbar,ce(()=>n=!1)),e.$set(s)},i(r){o||(O(e.$$.fragment,r),o=!0)},o(r){V(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Nn(t){let e,n,o,i,l,r,a,s,d,h,g,F;function b(B){t[12](B)}let p={id:"isEndFaceWithMargin",label:"С запасом, мм",type:"radio",placeholder:"С запасом, мм",value:!0,required:!0};t[0].isEndFaceWithMargin!==void 0&&(p.group=t[0].isEndFaceWithMargin),n=new Te({props:p}),le.push(()=>fe(n,"group",b));let c=t[0].isEndFaceWithMargin&&Pn(t);function m(B){t[14](B)}let _={id:"isEndFaceWithOutMargin",label:"С запилом под 45 (без запаса)",type:"radio",placeholder:"С запилом под 45 (без запаса)",value:!1,required:!0};t[0].isEndFaceWithMargin!==void 0&&(_.group=t[0].isEndFaceWithMargin),r=new Te({props:_}),le.push(()=>fe(r,"group",m));function S(B){t[15](B)}let E={id:"isEndFaceContactsSpotCuttingForCanvas",label:"Отрезаем контактные пятна, мм",type:"checkbox",placeholder:"Отрезаем контактные пятна, мм",required:!0};t[0].isEndFaceContactsSpotCuttingForCanvas!==void 0&&(E.value=t[0].isEndFaceContactsSpotCuttingForCanvas),d=new Te({props:E}),le.push(()=>fe(d,"value",S));let C=t[0].isEndFaceContactsSpotCuttingForCanvas&&$n(t);return{c(){e=y("div"),G(n.$$.fragment),i=z(),c&&c.c(),l=z(),G(r.$$.fragment),s=z(),G(d.$$.fragment),g=z(),C&&C.c(),this.h()},l(B){e=T(B,"DIV",{class:!0});var D=q(e);Z(n.$$.fragment,D),i=R(D),c&&c.l(D),l=R(D),Z(r.$$.fragment,D),s=R(D),Z(d.$$.fragment,D),g=R(D),C&&C.l(D),D.forEach(v),this.h()},h(){f(e,"class","ml-6 grid gap-2")},m(B,D){he(B,e,D),K(n,e,null),u(e,i),c&&c.m(e,null),u(e,l),K(r,e,null),u(e,s),K(d,e,null),u(e,g),C&&C.m(e,null),F=!0},p(B,D){const w={};!o&&D&1&&(o=!0,w.group=B[0].isEndFaceWithMargin,ce(()=>o=!1)),n.$set(w),B[0].isEndFaceWithMargin?c?(c.p(B,D),D&1&&O(c,1)):(c=Pn(B),c.c(),O(c,1),c.m(e,l)):c&&(Ye(),V(c,1,1,()=>{c=null}),Je());const L={};!a&&D&1&&(a=!0,L.group=B[0].isEndFaceWithMargin,ce(()=>a=!1)),r.$set(L);const oe={};!h&&D&1&&(h=!0,oe.value=B[0].isEndFaceContactsSpotCuttingForCanvas,ce(()=>h=!1)),d.$set(oe),B[0].isEndFaceContactsSpotCuttingForCanvas?C?(C.p(B,D),D&1&&O(C,1)):(C=$n(B),C.c(),O(C,1),C.m(e,null)):C&&(Ye(),V(C,1,1,()=>{C=null}),Je())},i(B){F||(O(n.$$.fragment,B),O(c),O(r.$$.fragment,B),O(d.$$.fragment,B),O(C),F=!0)},o(B){V(n.$$.fragment,B),V(c),V(r.$$.fragment,B),V(d.$$.fragment,B),V(C),F=!1},d(B){B&&v(e),Y(n),c&&c.d(),Y(r),Y(d),C&&C.d()}}}function Pn(t){let e,n,o;function i(r){t[13](r)}let l={id:"marginEndFace",classes:"ml-6 flex  flex-col justify-around ",inputClasses:Pt,placeholder:"С запасом, мм",numSettings:{min:0,max:100},type:"number",required:!0};return t[0].marginEndFace!==void 0&&(l.value=t[0].marginEndFace),e=new jt({props:l}),le.push(()=>fe(e,"value",i)),{c(){G(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,a){K(e,r,a),o=!0},p(r,a){const s={};!n&&a&1&&(n=!0,s.value=r[0].marginEndFace,ce(()=>n=!1)),e.$set(s)},i(r){o||(O(e.$$.fragment,r),o=!0)},o(r){V(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function $n(t){let e,n,o;function i(r){t[16](r)}let l={id:"sizeContactsSpot",disabled:!t[0].isEndFaceContactsSpotCuttingForCanvas,classes:"ml-6 flex  flex-col justify-around ",inputClasses:Pt,type:"number",placeholder:"Отрезаем контактные пятна, мм",numSettings:{min:0,max:100},required:!0};return t[0].sizeContactsSpot!==void 0&&(l.value=t[0].sizeContactsSpot),e=new jt({props:l}),le.push(()=>fe(e,"value",i)),{c(){G(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,a){K(e,r,a),o=!0},p(r,a){const s={};a&1&&(s.disabled=!r[0].isEndFaceContactsSpotCuttingForCanvas),!n&&a&1&&(n=!0,s.value=r[0].sizeContactsSpot,ce(()=>n=!1)),e.$set(s)},i(r){o||(O(e.$$.fragment,r),o=!0)},o(r){V(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function tr(t){let e,n,o,i,l,r,a=t[0]&&Mn(t);return{c(){e=y("section"),n=y("div"),o=y("h2"),i=$("Обработка"),l=z(),a&&a.c(),this.h()},l(s){e=T(s,"SECTION",{class:!0});var d=q(e);n=T(d,"DIV",{class:!0});var h=q(n);o=T(h,"H2",{class:!0});var g=q(o);i=W(g,"Обработка"),g.forEach(v),l=R(h),a&&a.l(h),h.forEach(v),d.forEach(v),this.h()},h(){f(o,"class","mb-4 text-[28px] font-bold text-gray-900 dark:text-white"),f(n,"class","p-4 mx-auto max-w-6xl"),f(e,"class","dark:bg-gray-900")},m(s,d){he(s,e,d),u(e,n),u(n,o),u(o,i),u(n,l),a&&a.m(n,null),r=!0},p(s,[d]){s[0]?a?(a.p(s,d),d&1&&O(a,1)):(a=Mn(s),a.c(),O(a,1),a.m(n,null)):a&&(Ye(),V(a,1,1,()=>{a=null}),Je())},i(s){r||(O(a),r=!0)},o(s){V(a),r=!1},d(s){s&&v(e),a&&a.d()}}}const Gt="max-w-[150px] flex flex-col justify-around ",Pt="max-w-[100px]";function nr(t,e,n){let{processing:o=new xn}=e,{equipments:i=new eo}=e;function l(w){t.$$.not_equal(o.stockSawing,w)&&(o.stockSawing=w,n(0,o))}function r(w){t.$$.not_equal(o.boxIndent.top,w)&&(o.boxIndent.top=w,n(0,o))}function a(w){t.$$.not_equal(o.boxIndent.right,w)&&(o.boxIndent.right=w,n(0,o))}function s(w){t.$$.not_equal(o.boxIndent.bottom,w)&&(o.boxIndent.bottom=w,n(0,o))}function d(w){t.$$.not_equal(o.boxIndent.left,w)&&(o.boxIndent.left=w,n(0,o))}function h(w){t.$$.not_equal(o.isBoxMillingForHinges,w)&&(o.isBoxMillingForHinges=w,n(0,o))}function g(w){t.$$.not_equal(o.isMillingForNonStandard,w)&&(o.isMillingForNonStandard=w,n(0,o))}function F(w){t.$$.not_equal(o.isForDoorsWithoutTopCrossbar,w)&&(o.isForDoorsWithoutTopCrossbar=w,n(0,o))}function b(w){t.$$.not_equal(o.marginForDoorsWithoutTopCrossbar,w)&&(o.marginForDoorsWithoutTopCrossbar=w,n(0,o))}function p(w){t.$$.not_equal(o.isEndFaceCuttingForCanvas,w)&&(o.isEndFaceCuttingForCanvas=w,n(0,o))}function c(w){t.$$.not_equal(o.isEndFaceWithMargin,w)&&(o.isEndFaceWithMargin=w,n(0,o))}function m(w){t.$$.not_equal(o.marginEndFace,w)&&(o.marginEndFace=w,n(0,o))}function _(w){t.$$.not_equal(o.isEndFaceWithMargin,w)&&(o.isEndFaceWithMargin=w,n(0,o))}function S(w){t.$$.not_equal(o.isEndFaceContactsSpotCuttingForCanvas,w)&&(o.isEndFaceContactsSpotCuttingForCanvas=w,n(0,o))}function E(w){t.$$.not_equal(o.sizeContactsSpot,w)&&(o.sizeContactsSpot=w,n(0,o))}function C(w){t.$$.not_equal(o.isEndFaceMillingForHinges,w)&&(o.isEndFaceMillingForHinges=w,n(0,o))}function B(w){t.$$.not_equal(o.isAtBottomCanvasStraightEndFace,w)&&(o.isAtBottomCanvasStraightEndFace=w,n(0,o))}function D(w){t.$$.not_equal(o.isAtTopCanvasStraightEndFace,w)&&(o.isAtTopCanvasStraightEndFace=w,n(0,o))}return t.$$set=w=>{"processing"in w&&n(0,o=w.processing),"equipments"in w&&n(1,i=w.equipments)},[o,i,l,r,a,s,d,h,g,F,b,p,c,m,_,S,E,C,B,D]}class or extends He{constructor(e){super(),Ve(this,e,nr,tr,Me,{processing:0,equipments:1})}}function rr(t){let e,n,o,i;return e=new to({props:{forName:t[0],text:t[7]}}),o=new Ht({props:{id:t[0],value:t[2],placeholder:t[1],options:t[3],required:t[4],onChange:t[5],optionSettings:t[6]}}),{c(){G(e.$$.fragment),n=z(),G(o.$$.fragment)},l(l){Z(e.$$.fragment,l),n=R(l),Z(o.$$.fragment,l)},m(l,r){K(e,l,r),he(l,n,r),K(o,l,r),i=!0},p(l,[r]){const a={};r&1&&(a.forName=l[0]),r&128&&(a.text=l[7]),e.$set(a);const s={};r&1&&(s.id=l[0]),r&4&&(s.value=l[2]),r&2&&(s.placeholder=l[1]),r&8&&(s.options=l[3]),r&16&&(s.required=l[4]),r&32&&(s.onChange=l[5]),r&64&&(s.optionSettings=l[6]),o.$set(s)},i(l){i||(O(e.$$.fragment,l),O(o.$$.fragment,l),i=!0)},o(l){V(e.$$.fragment,l),V(o.$$.fragment,l),i=!1},d(l){Y(e,l),l&&v(n),Y(o,l)}}}function ir(t,e,n){let{id:o=""}=e,{placeholder:i=""}=e,{value:l}=e,{options:r=[]}=e,{required:a=!1}=e,{onChange:s=void 0}=e,{optionSettings:d}=e,{label:h=""}=e;return t.$$set=g=>{"id"in g&&n(0,o=g.id),"placeholder"in g&&n(1,i=g.placeholder),"value"in g&&n(2,l=g.value),"options"in g&&n(3,r=g.options),"required"in g&&n(4,a=g.required),"onChange"in g&&n(5,s=g.onChange),"optionSettings"in g&&n(6,d=g.optionSettings),"label"in g&&n(7,h=g.label)},[o,i,l,r,a,s,d,h]}class un extends He{constructor(e){super(),Ve(this,e,ir,rr,Me,{id:0,placeholder:1,value:2,options:3,required:4,onChange:5,optionSettings:6,label:7})}}function sr(t){let e,n,o,i,l;return{c(){e=y("textarea"),this.h()},l(r){e=T(r,"TEXTAREA",{id:!0,name:!0,placeholder:!0,title:!0,class:!0}),q(e).forEach(v),this.h()},h(){f(e,"id",t[1]),f(e,"name",t[1]),e.disabled=t[4],e.required=t[5],f(e,"placeholder",t[2]),f(e,"title",n=t[3].length?t[3]:t[2]),f(e,"class",t[6]),e.value=o=t[0]??""},m(r,a){he(r,e,a),i||(l=dt(e,"change",t[10]),i=!0)},p(r,[a]){a&2&&f(e,"id",r[1]),a&2&&f(e,"name",r[1]),a&16&&(e.disabled=r[4]),a&32&&(e.required=r[5]),a&4&&f(e,"placeholder",r[2]),a&12&&n!==(n=r[3].length?r[3]:r[2])&&f(e,"title",n),a&64&&f(e,"class",r[6]),a&1&&o!==(o=r[0]??"")&&(e.value=o)},i:$e,o:$e,d(r){r&&v(e),i=!1,l()}}}function ar(t,e,n){let{id:o=""}=e,{placeholder:i=""}=e,{title:l=""}=e,{disabled:r=!1}=e,{required:a=!1}=e,{value:s}=e,{onChange:d=void 0}=e,{classes:h}=e,g=`border border-gray-300 text-gray-900   rounded-lg focus:bg-[white] focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5
                                                         dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500
                                                          ${h}`;r&&(g+=" bg-gray-100");const F=p=>{n(0,s=p)},b=p=>F(p.target.value);return t.$$set=p=>{"id"in p&&n(1,o=p.id),"placeholder"in p&&n(2,i=p.placeholder),"title"in p&&n(3,l=p.title),"disabled"in p&&n(4,r=p.disabled),"required"in p&&n(5,a=p.required),"value"in p&&n(0,s=p.value),"onChange"in p&&n(8,d=p.onChange),"classes"in p&&n(9,h=p.classes)},[s,o,i,l,r,a,g,F,d,h,b]}class lr extends He{constructor(e){super(),Ve(this,e,ar,sr,Me,{id:1,placeholder:2,title:3,disabled:4,required:5,value:0,onChange:8,classes:9})}}function ur(t){let e,n,o,i,l;e=new to({props:{forName:t[1],text:t[5]}});function r(s){t[6](s)}let a={id:t[1],placeholder:t[2],required:t[3],onChange:t[4]};return t[0]!==void 0&&(a.value=t[0]),o=new lr({props:a}),le.push(()=>fe(o,"value",r)),{c(){G(e.$$.fragment),n=z(),G(o.$$.fragment)},l(s){Z(e.$$.fragment,s),n=R(s),Z(o.$$.fragment,s)},m(s,d){K(e,s,d),he(s,n,d),K(o,s,d),l=!0},p(s,[d]){const h={};d&2&&(h.forName=s[1]),d&32&&(h.text=s[5]),e.$set(h);const g={};d&2&&(g.id=s[1]),d&4&&(g.placeholder=s[2]),d&8&&(g.required=s[3]),d&16&&(g.onChange=s[4]),!i&&d&1&&(i=!0,g.value=s[0],ce(()=>i=!1)),o.$set(g)},i(s){l||(O(e.$$.fragment,s),O(o.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),V(o.$$.fragment,s),l=!1},d(s){Y(e,s),s&&v(n),Y(o,s)}}}function fr(t,e,n){let{id:o=""}=e,{placeholder:i=""}=e,{required:l=!1}=e,{value:r}=e,{onChange:a=void 0}=e,{label:s=""}=e;function d(h){r=h,n(0,r)}return t.$$set=h=>{"id"in h&&n(1,o=h.id),"placeholder"in h&&n(2,i=h.placeholder),"required"in h&&n(3,l=h.required),"value"in h&&n(0,r=h.value),"onChange"in h&&n(4,a=h.onChange),"label"in h&&n(5,s=h.label)},[r,o,i,l,a,s,d]}class cr extends He{constructor(e){super(),Ve(this,e,fr,ur,Me,{id:1,placeholder:2,required:3,value:0,onChange:4,label:5})}}function dr(t){let e,n,o,i,l,r,a,s,d,h,g,F,b,p,c,m,_,S,E,C,B,D,w,L,oe,k,X,I,re,x,ne,ue,A;function ee(P){t[4](P)}let H={id:"creatingDate",label:"Дата создания",type:"date",placeholder:"Выберите дату...","})":!0,required:!0};t[0].creatingDate!==void 0&&(H.value=t[0].creatingDate),d=new Te({props:H}),le.push(()=>fe(d,"value",ee));function J(P){t[5](P)}let ie={id:"numberSpecification",label:"Номер спецификации",type:"number",placeholder:"Введите номер спецификации...",numSettings:{min:1},required:!0};t[0].numberSpecification!==void 0&&(ie.value=t[0].numberSpecification),c=new Te({props:ie}),le.push(()=>fe(c,"value",J));function U(P){t[6](P)}let de={id:"company",label:"Клиент",placeholder:"Выберите клиента...",options:t[3],optionSettings:{imgField:"avatar"},required:!0};t[0].company!==void 0&&(de.value=t[0].company),E=new un({props:de}),le.push(()=>fe(E,"value",U));function ve(P){t[7](P)}let se={id:"manager",label:"Менеджер",placeholder:"Выберите менеджера...",options:t[1],optionSettings:{imgField:"avatar"},required:!0};t[0].manager!==void 0&&(se.value=t[0].manager),w=new un({props:se}),le.push(()=>fe(w,"value",ve));function ae(P){t[8](P)}let me={id:"worker",label:"Ответственный на производстве",placeholder:"Выберите сотрудника...",options:t[2],optionSettings:{imgField:"avatar"},required:!0};t[0].worker!==void 0&&(me.value=t[0].worker),X=new un({props:me}),le.push(()=>fe(X,"value",ae));function Fe(P){t[9](P)}let M={id:"comment",label:"Примечание к заказу",placeholder:"Введите примечание...",required:!0};return t[0].comment!==void 0&&(M.value=t[0].comment),ne=new cr({props:M}),le.push(()=>fe(ne,"value",Fe)),{c(){e=y("section"),n=y("div"),o=y("h1"),i=$("О заказе"),l=z(),r=y("form"),a=y("div"),s=y("div"),G(d.$$.fragment),g=z(),F=y("div"),b=z(),p=y("div"),G(c.$$.fragment),_=z(),S=y("div"),G(E.$$.fragment),B=z(),D=y("div"),G(w.$$.fragment),oe=z(),k=y("div"),G(X.$$.fragment),re=z(),x=y("div"),G(ne.$$.fragment),this.h()},l(P){e=T(P,"SECTION",{class:!0});var j=q(e);n=T(j,"DIV",{class:!0});var Se=q(n);o=T(Se,"H1",{class:!0});var Re=q(o);i=W(Re,"О заказе"),Re.forEach(v),l=R(Se),r=T(Se,"FORM",{action:!0});var ye=q(r);a=T(ye,"DIV",{class:!0});var pe=q(a);s=T(pe,"DIV",{});var we=q(s);Z(d.$$.fragment,we),we.forEach(v),g=R(pe),F=T(pe,"DIV",{}),q(F).forEach(v),b=R(pe),p=T(pe,"DIV",{});var Be=q(p);Z(c.$$.fragment,Be),Be.forEach(v),_=R(pe),S=T(pe,"DIV",{});var Ae=q(S);Z(E.$$.fragment,Ae),Ae.forEach(v),B=R(pe),D=T(pe,"DIV",{});var Ie=q(D);Z(w.$$.fragment,Ie),Ie.forEach(v),oe=R(pe),k=T(pe,"DIV",{});var Ne=q(k);Z(X.$$.fragment,Ne),Ne.forEach(v),re=R(pe),x=T(pe,"DIV",{});var Qe=q(x);Z(ne.$$.fragment,Qe),Qe.forEach(v),pe.forEach(v),ye.forEach(v),Se.forEach(v),j.forEach(v),this.h()},h(){f(o,"class","mb-4 text-[38px] font-bold text-gray-900 dark:text-white"),f(a,"class","grid sm:grid-cols-2 gap-x-6 gap-y-4"),f(r,"action","#"),f(n,"class","py-8 px-4 max-w-2xl lg:py-16"),f(e,"class","animate__animated animate__fadeInDown bg-white dark:bg-gray-900")},m(P,j){he(P,e,j),u(e,n),u(n,o),u(o,i),u(n,l),u(n,r),u(r,a),u(a,s),K(d,s,null),u(a,g),u(a,F),u(a,b),u(a,p),K(c,p,null),u(a,_),u(a,S),K(E,S,null),u(a,B),u(a,D),K(w,D,null),u(a,oe),u(a,k),K(X,k,null),u(a,re),u(a,x),K(ne,x,null),A=!0},p(P,[j]){const Se={};!h&&j&1&&(h=!0,Se.value=P[0].creatingDate,ce(()=>h=!1)),d.$set(Se);const Re={};!m&&j&1&&(m=!0,Re.value=P[0].numberSpecification,ce(()=>m=!1)),c.$set(Re);const ye={};j&8&&(ye.options=P[3]),!C&&j&1&&(C=!0,ye.value=P[0].company,ce(()=>C=!1)),E.$set(ye);const pe={};j&2&&(pe.options=P[1]),!L&&j&1&&(L=!0,pe.value=P[0].manager,ce(()=>L=!1)),w.$set(pe);const we={};j&4&&(we.options=P[2]),!I&&j&1&&(I=!0,we.value=P[0].worker,ce(()=>I=!1)),X.$set(we);const Be={};!ue&&j&1&&(ue=!0,Be.value=P[0].comment,ce(()=>ue=!1)),ne.$set(Be)},i(P){A||(O(d.$$.fragment,P),O(c.$$.fragment,P),O(E.$$.fragment,P),O(w.$$.fragment,P),O(X.$$.fragment,P),O(ne.$$.fragment,P),A=!0)},o(P){V(d.$$.fragment,P),V(c.$$.fragment,P),V(E.$$.fragment,P),V(w.$$.fragment,P),V(X.$$.fragment,P),V(ne.$$.fragment,P),A=!1},d(P){P&&v(e),Y(d),Y(c),Y(E),Y(w),Y(X),Y(ne)}}}function hr(t,e,n){let{managers:o}=e,{workers:i}=e,{companies:l}=e,{metaOrder:r}=e;function a(b){t.$$.not_equal(r.creatingDate,b)&&(r.creatingDate=b,n(0,r))}function s(b){t.$$.not_equal(r.numberSpecification,b)&&(r.numberSpecification=b,n(0,r))}function d(b){t.$$.not_equal(r.company,b)&&(r.company=b,n(0,r))}function h(b){t.$$.not_equal(r.manager,b)&&(r.manager=b,n(0,r))}function g(b){t.$$.not_equal(r.worker,b)&&(r.worker=b,n(0,r))}function F(b){t.$$.not_equal(r.comment,b)&&(r.comment=b,n(0,r))}return t.$$set=b=>{"managers"in b&&n(1,o=b.managers),"workers"in b&&n(2,i=b.workers),"companies"in b&&n(3,l=b.companies),"metaOrder"in b&&n(0,r=b.metaOrder)},[r,o,i,l,a,s,d,h,g,F]}class mr extends He{constructor(e){super(),Ve(this,e,hr,dr,Me,{managers:1,workers:2,companies:3,metaOrder:0})}}async function gr(t){return await fetch("http://localhost:3000/pdfOrder",{method:"POST",mode:"no-cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}function nn(t,e,n,o=!1){o&&e&&(t=((a,s)=>{if(a.size.angles.rightBottom<90){if(s.size.angles.leftBottom>=90){const d=a.size.angles.rightBottom+s.size.angles.leftBottom;if(s.size.angles.rightBottom>=90){const h=a.size.angles.rightBottom+s.size.angles.rightBottom;(d>=h||h>180)&&d<=180||h<=180&&s.flipHorizontal()}else if(s.size.angles.rightBottom<90){const h=a.size.angles.rightBottom+180-s.size.angles.rightBottom;(d>=h||h>180)&&d<=180||h<=180&&(s.flipHorizontal(),s.flipVertical())}}else if(s.size.angles.leftBottom<90){const d=a.size.angles.rightBottom+180-s.size.angles.leftBottom;if(s.size.angles.rightBottom>=90){const h=a.size.angles.rightBottom+s.size.angles.rightBottom;(d>=h||h>180)&&d<=180?s.flipVertical():h<=180&&s.flipHorizontal()}else if(s.size.angles.rightBottom<90){const h=a.size.angles.rightBottom+180-s.size.angles.rightBottom;(d>=h||h>180)&&d<=180?s.flipVertical():h<=180&&(s.flipHorizontal(),s.flipVertical())}}}else if(a.size.angles.rightBottom>90){if(s.size.angles.leftBottom>=90){const d=a.size.angles.rightBottom+180-s.size.angles.leftBottom;if(s.size.angles.rightBottom>=90){const h=a.size.angles.rightBottom+180-s.size.angles.rightBottom;(d>=h||h>180)&&d<=180?s.flipVertical():h<=180&&(s.flipVertical(),s.flipHorizontal())}else if(s.size.angles.rightBottom<90){const h=a.size.angles.rightBottom+180-s.size.angles.rightBottom;(d>=h||h>180)&&d<=180?s.flipVertical():h<=180&&s.flipHorizontal()}}else if(s.size.angles.leftBottom<90){const d=a.size.angles.rightBottom+s.size.angles.leftBottom;if(s.size.angles.rightBottom>=90){const h=a.size.angles.rightBottom+180-s.size.angles.rightBottom;(d>=h||h>180)&&d<=180||h<=180&&(s.flipVertical(),s.flipHorizontal())}else if(s.size.angles.rightBottom<90){const h=a.size.angles.rightBottom+s.size.angles.rightBottom;(d>=h||h>180)&&d<=180||h<=180&&s.flipHorizontal()}}}return s})(e,t));const r={x:n?n.p2.x:0,y:0};return new At({type:"detail",name:t.name,square:t.square,p1:r,size:t.size,colorContourLegend:"gray",colorBody:"#d1ffd8",isShowLeftContour:!1,isShowRightContour:!1,baseSpace:30,halfXBoard:0,halfYBoard:100,wDivider:4.2,hDivider:5})}function ro(t,e){const n=parseFloat(e.size.d.toFixed(2));return parseFloat(t.size.b.toFixed(2))===n&&t.size.angles.rightBottom===e.size.angles.leftTop}function io(t,e){const n=new Dt({id:ge(),name:Ut.STOCK,size:{a:t,b:e.size.b,d:e.size.b,h:e.size.h,angles:e.size.angles}}),o={...e.p2},i={x:o.x+n.size.a,y:o.y},l={...e.p3},r={x:l.x+n.size.c,y:l.y};return{piece:n,drawPiece:new At({type:"sawing-remain",name:n.name,square:n.square,p1:o,p2:i,p3:r,p4:l,size:n.size,isShowBodyText:n.square>1,isShowTopContour:n.size.c>1,isShowBottomContour:n.size.c>1,isShowLeftContour:!1,isShowRightContour:!1,colorContourLegend:"gray",colorBody:"lightgray",baseSpace:5,halfXBoard:0,halfYBoard:100,wDivider:4.2,hDivider:5})}}function so(t,e,n){let o,i;const l=n.size.d,r=e.size.b;e.p2.x===n.p1.x?(o=t,i=t+n.p4.x-e.p3.x):(o=t+n.p4.x-e.p3.x,i=t);const a=dn(o,i,e.size.h),s=new Dt({id:ge(),name:Ut.STOCK,size:{a:o,c:i,b:l,d:r,h:e.size.h,angles:{leftTop:180-e.size.angles.rightTop,leftBottom:180-e.size.angles.rightBottom,rightTop:180-n.size.angles.leftTop,rightBottom:180-n.size.angles.leftBottom},maxLength:t}}),d=e?{...e.p2}:{x:0,y:0},h=new At({type:"body-remain",name:Ut.REMAINS,square:a,p1:d,size:s.size,isShowBodyText:a>1,isShowTopContour:o>1,isShowBottomContour:i>1,isShowLeftContour:!1,isShowRightContour:!1,colorContourLegend:"gray",colorBody:"lightgray",baseSpace:10});return{piece:s,drawPiece:h}}function ao(t){const e=t.p1.x,n=t.p4.x,o=dn(e,n,t.size.h),i={x:0,y:0},l={...t.p1},r={x:0,y:t.size.h},a={...t.p4},s=new Dt({id:ge(),name:Ut.REMAINS,size:{a:e,b:t.size.d,c:n,d:t.size.h,h:t.size.h,angles:t.size.angles}}),d=new At({type:"start-remain",name:Ut.REMAINS,square:o,p1:i,p2:l,p3:a,p4:r,size:{a:e,b:t.size.d,c:n,d:t.size.h,h:t.size.h},isShowBodyText:o>1,isShowTopContour:e>1,isShowBottomContour:n>1,isShowLeftContour:!1,isShowRightContour:!1,colorContourLegend:"gray",colorBody:"lightgray",baseSpace:10,halfXBoard:0,halfYBoard:100,wDivider:4.2,hDivider:5});return{piece:s,drawPiece:d}}function lo(t,e){const n=t-e.p2.x,o=t-e.p3.x,i=dn(n,o,e.size.h),l={...e.p2};return new At({type:"end-remain",name:Ut.REMAINS,square:i,p1:l,size:{a:n,b:e.size.h,c:o,d:e.size.b,h:e.size.h},isShowBodyText:i>1,isShowTopContour:n>1,isShowBottomContour:o>1,isShowLeftContour:!1,colorContourLegend:"gray",colorBody:"lightgray",baseSpace:5,sideSpace:5,halfXBoard:0,halfYBoard:100,wDivider:4.2,hDivider:5})}function pr(t,e,n){const o=(g,F)=>{for(const b of h)if(b.p2.x<=g&&b.p3.x<=F||b.p2.x<=F&&b.p3.x<=g)return!0;return!1};let i,l;const r=(g,F,b)=>{const p=c=>{b.push(c),l=c.piece,i=c.drawPiece};for(let c=g;c<F.length;c++){const m=new Dt(n[c].profile);let _=nn(m,l,i);if(l&&i){const B=ro(i,_);if(t&&B){const D=io(t,i);p(D)}else if(!B){const D=so(t,i,_);p(D)}_=nn(m,l,i)}else if(_.p1.x>0||_.p4.x>0){const B=ao(_);p(B),_=nn(m,l,i)}p({piece:m,drawPiece:_});const S=b[b.length-1].drawPiece,E=e-S.p2.x,C=e-S.p3.x;if(o(E,C))r(c,F,b);else if(E>=0&&C>=0&&l&&i){const B=lo(e,i);s.push([...b.map(w=>new Dt(w.piece))]);const D=new on({num:a.length+1,volume:0,combination:[...b.map(w=>new At(w.drawPiece)),B]});a.push(D)}b.pop(),b.length>0&&b[b.length-1].drawPiece.type.includes("remain")&&b.pop(),b.length>0?(i=b[b.length-1].drawPiece,l=b[b.length-1].piece):(i=void 0,l=void 0)}},a=[],s=[],d=[],h=n.map(g=>nn(g.profile));return r(0,h,d),{drawCombinations:a,cuttingCombinations:s}}function Wn(t,e,n){const i=[];return e.forEach(l=>{if(l.basisIndex<=t&&l.b>0){const r=parseFloat(l.b.toFixed(0)),a=new on({num:l.basisIndex+1,volume:r,combination:n[l.basisIndex].combination});i.push(a)}}),i.sort((l,r)=>l.volume-r.volume)}function _r(t,e,n,o){let i=o.map(m=>new on({volume:m.volume,num:m.num,combination:m.combination.map(_=>new At(_))}));const l=m=>i.map(_=>_.combination.filter(S=>S.name===m).length*_.volume).reduce((_,S)=>_+S,0),r=n.sort((m,_)=>m.profile.square-_.profile.square),a=n.sort((m,_)=>_.profile.square-m.profile.square),s=[];a.forEach(m=>{const _=i.filter(S=>S.combination.find(E=>E.name===m.profile.name));r.forEach(S=>{const E=S.profile.name;_.forEach(C=>{let B=!1;if(C.combination.forEach(D=>{D.name===E&&l(E)>S.volume&&(C.combination=C.combination.filter(w=>w.id!==D.id),B=!0)}),B){const w=C.combination.filter(L=>L.type==="detail").flatMap(L=>{const oe=[];for(let k=0;k<C.volume;k++)oe.push(new At(L));return oe});s.push(...w),C.combination=[]}})})}),i=(()=>{let m=0;return i.filter(_=>(_.combination.length&&(_.num=++m),_.combination.length))})();let h=[],g;const F=m=>{const _=g?g.p2.x:0;m.calcNewLocation(_,0)};let b=s.sort((m,_)=>_.square-m.square);const p=m=>{g=m,h.push(m),m.type==="detail"&&(b=b.filter(_=>_.id!==m.id))},c=()=>{const m=h[h.length-1],_=e-m.p2.x-t,S=e-m.p3.x-t;for(const E of b)if(E.size.a<=_&&E.size.c<=S)return!0;return!1};for(;b.length;)if(b.forEach(m=>{if(F(m),h.length){let _;if((g==null?void 0:g.type)==="detail"){const w=ro(g,m);t&&w?_=io(t,g).drawPiece:w||(_=so(t,g,m).drawPiece)}const S=h[h.length-1],E=e-S.p2.x,C=e-S.p3.x,B=_?m.size.a+_.size.a:m.size.a,D=_?m.size.c+_.size.c:m.size.c;B<=E&&D<=C&&(_&&(p(_),F(m)),p(m))}else{const _=ao(m);p(_.drawPiece),F(m),p(m)}}),!c()){g&&h.push(lo(e,g)),g=void 0;const m=i.length?Math.max(...i.map(_=>_.num)):0;if(i.forEach(_=>{let S=!0;for(let E=0;E<_.combination.length;E++){const C=_.combination[E];h[E]?S=C.isCopy(h[E]):S=!1}S&&(_.volume++,h=[])}),h.length){const _=new on({num:m+1,volume:1,combination:[...h]});i.push(_),h=[]}}return i}function fn(t,e=!1){const n=[],o=t[0].body.length,i=()=>{let l="V |";for(let r=1;r<=o;r++)l+=` X${r} `;return l+="| P",l};return n.push(i()),t.forEach(l=>{let r=`${parseFloat(l.head.toFixed(3))} |`;l.body.forEach(a=>{r+=a>-1?` ${a}  `:`${a}  `}),r+=e?`= ${l.tail}`:`>= ${l.tail}`,n.push(r)}),n}const yt=t=>{const n=[];let o="N |  c  |  b  | ";t.rows[0].rowCoefficients.forEach((a,s)=>{o+=` X${s+1} `}),n.push(o),t.rows.forEach((a,s)=>{const d=parseFloat(a.b.toFixed(2));let h=a.b>=0?`${s+1} | X${a.basisIndex+1} | ${d} | `:`${s+1} | X${a.basisIndex+1} | ${d} | `;a.rowCoefficients.forEach(g=>{const F=parseFloat(g.toFixed(2));h+=g>-1?` ${F} `:`${F} `}),n.push(h)});const i=t.rowF;let r=`| F  | ${parseFloat(i.b.toFixed(2))} | `;return i.rowCoefficients.forEach(a=>{const s=parseFloat(a.toFixed(2));r+=a>-1?` ${s} `:`${s} `}),n.push(r),n};function br(t,e){const o=`Площадь не обрезанной заготовки: (${t.size.a} * ${t.size.h}) = ${parseFloat(t.square.toFixed(3))} мм² = ${je(t.square,3)} м²`,l=`${e.length?" ".repeat(e[0].name.length-4):""}Имя | Площадь мм²| Количество, шт.`,r=[o,l];return e.forEach(a=>{const s=`${a.name} | ${parseFloat(a.profile.square.toFixed(3))} | ${a.volume}`;r.push(s)}),r}function Ln(t,e,n,o,i=!1){const r=[],a=parseFloat(e.square.toFixed(3));r.push("==> Результаты вычисления задачи поиска решения оптимального раскроя"),r.push(`
==> Исходные данные`),r.push(`Площадь сырья для раскроя: ${a} мм² =  ${je(a,3)} м²`),r.push("Заказ:"),n.forEach((m,_)=>{const S=parseFloat(m.profile.square.toFixed(3));r.push(`N${_+1}. Площадь обреза: ${S} мм² =  ${je(S,3)} м²; Количество: ${m.volume} шт.`)}),r.push(`
==> Варианты раскроя изделия исходя из начальных условий (матрица).`),r.push("X - варианты раскроя."),r.push("V - площадь обреза."),r.push("Пересечение V/X -  количество распилов длины V по отношению к длине сырья для раскроя."),fn(o).forEach(m=>r.push(m)),r.push(`
==> Оптимальный раскрой материала`);let s=0,d=0;const h=o[0].body.length-1,g=i?0:1;t.rows.forEach(m=>{if(m.basisIndex<=h&&m.b>0){const _=parseFloat(m.b.toFixed(g)),S=`Количество распилов варианта X${m.basisIndex+1}: ${_} шт.`;r.push(S),s+=m.b,o.forEach(E=>{const C=E.body[m.basisIndex];C&&(d+=m.b*C*E.head)})}});const F=parseFloat((s*e.square).toFixed(3)),b=parseFloat(s.toFixed(g)),p=parseFloat(d.toFixed(3)),c=parseFloat((F-d).toFixed(3));return r.push(`
Количество заготовок для распила: ${b} шт.`),r.push(`Полезная площадь распилов: ${p} мм²  = ${je(p,3)} м²`),r.push(`Общая площадь требуемых заготовок для распилов: ${F} мм² =  ${je(F,3)} м²`),r.push(`Остатки: ${c} мм² = ${je(c,3)} м²`),r}class uo{constructor(e){nt(this,"head",0);nt(this,"body",[]);nt(this,"tail",0);e&&(this.head=e.head,this.body=[...e.body],this.tail=e.tail)}}const vr=(t,e)=>{const n=[];return e.forEach(o=>{const i=new uo;i.head=o.profile.square,t.forEach(l=>{const r=l.filter(a=>a.id===o.profile.id).length;i.body.push(r)}),i.tail=o.volume,n.push(i)}),n},wr=t=>{const e=t.map(i=>new uo(i)),n=t.map(()=>0),o=(i,l)=>(l[i]=-1,l);return t.forEach((i,l)=>{const r=i.body.concat(o(l,[...n]));e[l].body=r.map(a=>a*-1),e[l].tail*=-1}),e};class mn{constructor(e){nt(this,"basisIndex",0);nt(this,"rowCoefficients",[]);nt(this,"b",0);e&&(this.basisIndex=e.basisIndex,this.rowCoefficients=[...e.rowCoefficients],this.b=e.b)}}class cn{constructor(e){nt(this,"rowCoefficients",[]);nt(this,"b",0);e&&(this.rowCoefficients=[...e.rowCoefficients],this.b=e.b)}}class Mt{constructor(e){nt(this,"rows",[]);nt(this,"rowF",new cn);e&&(this.rowF=new cn(e.rowF),this.rows=e.rows.map(n=>new mn(n)))}}const Cr=t=>{const e=new Mt,n=[];for(let o=t.length;o>0;o--)n.push(t[0].body.length-o);return n.forEach((o,i)=>{const l=t[i],r=new mn({basisIndex:o,rowCoefficients:l.body,b:l.tail});e.rows.push(r)}),e.rowF=new cn({b:0,rowCoefficients:[]}),t[0].body.forEach((o,i)=>{const l=n.includes(i);e.rowF.rowCoefficients.push(l?0:1)}),e},gn=(t,e)=>{const n=e.rowIndex,o=e.colIndex,i=new Mt(t);i.rows[n].basisIndex=o;const l=t.rows[n],r=l.rowCoefficients,a=r[o];t.rows.forEach((h,g)=>{const F=i.rows[g];if(g!==n){const b=h.rowCoefficients[o],p=l.b;F.b=h.b-b*p/a,F.rowCoefficients=h.rowCoefficients.map((c,m)=>{if(m===o)return 0;{const _=l.rowCoefficients[m];return c-b*_/a}})}else F.b=h.b/a,F.rowCoefficients=h.rowCoefficients.map(b=>b/a)});const s=i.rowF,d=t.rowF.rowCoefficients[o];return s.b=t.rowF.b-l.b*d/a,t.rowF.rowCoefficients.forEach((h,g)=>{g!==o?s.rowCoefficients[g]=h-r[g]*d/a:s.rowCoefficients[g]=0}),i};function Fr(t,e){const n=(a,s=!0)=>{const d=b=>{let p=0;const c=b.rows;return c.forEach((m,_)=>{if(s&&m.b<0){const S=c[p].b>=0?0:c[p].b*-1;p=m.b*-1>S?_:p}else if(!s){const S=c[p].b>=0?c[p].b:c[p].b*-1;p=(m.b>=0?m.b:m.b*-1)>S?_:p}}),p},h=(b,p)=>{const c=p.rows[b].rowCoefficients;let m=0;return c.forEach((_,S)=>{const E=c[m]>=0?c[m]:c[m]*-1;m=(_>=0?_:_*-1)>E?S:m}),m},g=d(a),F=h(g,a);return{rowIndex:g,colIndex:F}},o=a=>![...a.rows].filter(s=>s.b<0).length;let i=1,l=new Mt(t),r=o(l);for(;!r;){e.push(`
==> Начало итерации N${i}`),e.push(`
==> Этап 2. Шаг 1. Исходная таблица`),e.push(...yt(l)),e.push(`
==> Этап 2. Шаг 2. Проверка свободных членов на допустимость решения`),e.push(`Все свободные члены >= 0 ? Ответ:${r}`);const a=n(l);e.push(`
==> Этап 2. Шаг 3. Поиск ведущей строки и столбца`),e.push(`Строка: ${a.rowIndex}, столбец: ${a.colIndex}`),l=gn(l,a),e.push(`
==> Этап 2. Шаг 4. Расчет новой симплекс таблицы `),e.push(...yt(l)),e.push(`
==> Конец итерации N${i}`),r=o(l),i>30&&(r=!0,e.push(`
==> Внимание! Завершилось после 30 итераций`)),i++}return l}function Sr(t,e){const n=(a,s=!0)=>{const d=(b,p)=>{let c=0;return p.forEach((m,_)=>{const S=m.b/m.rowCoefficients[b];if(S>=0){const E=p[c].b/p[c].rowCoefficients[b];c=S<E||E<0?_:c}}),c},g=(b=>{let p=0;return b.forEach((c,m)=>{if(s&&c<0){const _=b[p]*-1;p=c*-1>_?m:p}else if(!s){const _=b[p]>=0?b[p]:b[p]*-1;p=(c>=0?c:c*-1)>_?m:p}}),p})(a.rowF.rowCoefficients);return{rowIndex:d(g,a.rows),colIndex:g}},o=a=>![...a.rowF.rowCoefficients].filter(s=>s<0).length;let i=1,l=new Mt(t),r=o(l);for(;!r;){e.push(`
==> Начало итерации N${i}`),e.push(`
==> Этап 3. Шаг 1. Исходная таблица`),e.push(...yt(l)),e.push(`
==> Этап 3. Шаг 2. Проверка коэффициентов функции F на допустимость решения.`),e.push(`Все коэффициентов >= 0 ? Ответ:${r}`);const a=n(l);e.push(`
==> Этап 3. Шаг 3. Поиск ведущей строки и столбца для коэффициентов функции F`),e.push(`Строка: ${a.rowIndex}, столбец: ${a.colIndex}`),l=gn(l,a),e.push(`
==> Этап 3. Шаг 4. Расчет новой симплекс таблицы `),e.push(...yt(l)),e.push(`
==> Конец итерации N${i}`),r=o(l),i>20&&(r=!0),i++}return l}function Er(t,e){const n=h=>!h.rows.filter(g=>+g.b.toFixed(2)%1!==0).length,o=(h,g=2)=>{const F=new Mt(h);return F.rows.forEach(b=>{b.b=Number(b.b.toFixed(g)),b.rowCoefficients=b.rowCoefficients.map(p=>Number(p.toFixed(g)))}),F.rowF.rowCoefficients=F.rowF.rowCoefficients.map(b=>Number(b.toFixed(g))),F},i=h=>{const g=c=>{let m=0,_=0;return c.rows.forEach((S,E)=>{const C=S.b%1;C>m&&(m=C,_=E)}),e.push(`Максимальная дробная часть:${m}`),e.push(`Индекс максимальной дробной части:${_}`),_},F=c=>{const m=c%1;return c>=0?-m:m<0?-1-m:m},b=g(h),p=new mn(h.rows[b]);return p.b=F(p.b),p.rowCoefficients=[...p.rowCoefficients.map(c=>F(c)),1],p},l=h=>{const g=(F,b)=>{let p=0;return b.forEach((c,m)=>{const _=F/c;if(_>0){const S=c/b[p];p=_<S||S<0?m:p}}),p};return{rowIndex:s.rows.length-1,colIndex:g(h.b,h.rowCoefficients)}},r=(h,g)=>{const F=p=>{const c=new Mt(p);return c.rows.forEach(m=>m.rowCoefficients.push(0)),c.rowF.rowCoefficients.push(0),c},b=new Mt(h);return s=F(s),b.rows.push(g),b};let a=1,s=new Mt(t),d=n(s);for(e.push(`
==> Этап 4. Шаг 0. Проверка свободных членов на целочисленность.`),e.push(`Все свободные члены b целые ? Ответ:${d}`),s=o(s);!d;){e.push(`
==> Начало итерации N${a}`),e.push(`
==> Этап 4. Шаг 1. Исходная таблица`),e.push(...yt(s)),e.push(`
==> Этап 4. Шаг 2. Формирование нового ограничения`);const h=i(s);s=r(s,h),e.push(...yt(s));const g=l(h);e.push(`
==> Этап 4. Шаг 3. Поиск ведущей строки и столбца`),e.push(`Строка: ${g.rowIndex}, столбец: ${g.colIndex}`),e.push(`
==> Этап 4. Шаг 4. Расчет новой симплекс таблицы `),s=o(gn(s,g)),e.push(...yt(s)),e.push(`
==> Этап 4. Шаг 4. Проверка свободных членов на целочисленность.`),d=n(s),e.push(`Все свободные члены b целые ? Ответ: ${d}`),e.push(`
==> Конец итерации N${a}`),a>20&&(d=!0,e.push(`
==> Внимание! Завершилось после 100 итераций`)),a++}return s}const jn=(t,e)=>{const n=o=>{const i=o.profileBlanks,l=t*2*o.baseProfile.size.h,r=[];r.push(`
==> Этап 0. Подготовка данных и коэффициентов `),r.push(`Припуск распила: ${t}`),r.push(`Площадь припуска распила: ${l} мм² = ${je(l,10)} м²`),r.push(`
Таблица заготовок и их параметров`),r.push(...br(o.baseProfile,i));const a=pr(t,o.baseProfile.size.maxBaseLength,i);r.push(`
==> Этап 0. Шаг 1. Варианты раскроя изделия исходя из начальных условий.`),r.push(`Количество комбинаций: ${a.cuttingCombinations.length}`),r.push(`
==> Этап 1. Переход к канонической форме задачи линейного программирования путем введения неотрицательных дополнительных балансовых переменных.`);const s=vr(a.cuttingCombinations,i);r.push(`
==> Этап 1. Шаг 1. Получение матрицы коэффициентов`),r.push(...fn(s));const d=wr(s);r.push(`
==> Этап 1. Шаг 2. Переход к канонической форме задачи линейного программирования путем введения неотрицательных дополнительных балансовых переменных.`),r.push(...fn(d,!0)),r.push(`
==> Этап 2.  Проверка симплекс таблицы на допустимость решения. Расчет новой симплекс таблицы. `),r.push(`
==> Этап 2. Шаг 0. Инициализация симплекс таблицы`);const h=Cr(d);r.push(...yt(h));const g=Fr(h,r);r.push(`
==> Этап 3. Основной алгоритм решения задачи ЛП симплекс-методом. Расчет новой симплекс таблицы. `);const F=Sr(g,r);r.push(...yt(F)),r.push(...Ln(F,o.baseProfile,i,s).map(m=>`
${m}`)),r.push("[integer]"),r.push(`
==> Этап 4. Алгоритм поиска целочисленного решения ЗЛП методом Гомори `);const b=Er(F,r);r.push(...Ln(b,o.baseProfile,i,s,!0).map(m=>`
${m}`));let p=Wn(s[0].body.length-1,b.rows,a.drawCombinations),c=r;if(!p.length){p=Wn(s[0].body.length-1,F.rows,a.drawCombinations);const m=r.findIndex(_=>_==="[integer]");c=r.slice(0,m)}return p=_r(t,o.baseProfile.size.maxBaseLength,i,p),{baseProfile:o.baseProfile,listLogMessages:c,drawCombinations:a.drawCombinations,optimumDrawCombinations:p}};return e.map(o=>n(o))};function qr(t){let e,n;return{c(){e=it("svg"),n=it("path"),this.h()},l(o){e=st(o,"svg",{"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var i=q(e);n=st(i,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),q(n).forEach(v),i.forEach(v),this.h()},h(){f(n,"stroke","white"),f(n,"stroke-linecap","round"),f(n,"stroke-width","2"),f(n,"d","M7.24 7.194a24.16 24.16 0 0 1 3.72-3.062m0 0c3.443-2.277 6.732-2.969 8.24-1.46 2.054 2.053.03 7.407-4.522 11.959-4.552 4.551-9.906 6.576-11.96 4.522C1.223 17.658 1.89 14.412 4.121 11m6.838-6.868c-3.443-2.277-6.732-2.969-8.24-1.46-2.054 2.053-.03 7.407 4.522 11.959m3.718-10.499a24.16 24.16 0 0 1 3.719 3.062M17.798 11c2.23 3.412 2.898 6.658 1.402 8.153-1.502 1.503-4.771.822-8.2-1.433m1-6.808a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","1 0 25 22"),f(e,"width","25"),f(e,"data-view-component","true")},m(o,i){he(o,e,i),u(e,n)},p:$e,i:$e,o:$e,d(o){o&&v(e)}}}class kr extends He{constructor(e){super(),Ve(this,e,null,qr,Me,{})}}function Dr(t){let e,n;return{c(){e=it("svg"),n=it("path"),this.h()},l(o){e=st(o,"svg",{class:!0,"aria-hidden":!0,fill:!0,viewBox:!0,width:!0,"data-view-component":!0});var i=q(e);n=st(i,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),q(n).forEach(v),i.forEach(v),this.h()},h(){f(n,"stroke","currentColor"),f(n,"stroke-linecap","round"),f(n,"stroke-width","2"),f(n,"d","M1 18a.969.969 0 0 0 .933 1h12.134A.97.97 0 0 0 15 18M1 7V5.828a2 2 0 0 1 .586-1.414l2.828-2.828A2 2 0 0 1 5.828 1h8.239A.97.97 0 0 1 15 2v5M6 1v4a1 1 0 0 1-1 1H1m0 9v-5h1.5a1.5 1.5 0 1 1 0 3H1m12 2v-5h2m-2 3h2m-8-3v5h1.375A1.626 1.626 0 0 0 10 13.375v-1.75A1.626 1.626 0 0 0 8.375 10H7Z"),f(e,"class",t[0]),f(e,"aria-hidden","true"),f(e,"fill","transparent"),f(e,"viewBox","0 0 20 20"),f(e,"width","18"),f(e,"data-view-component","true")},m(o,i){he(o,e,i),u(e,n)},p(o,[i]){i&1&&f(e,"class",o[0])},i:$e,o:$e,d(o){o&&v(e)}}}function yr(t,e,n){let{class:o=""}=e;return t.$$set=i=>{"class"in i&&n(0,o=i.class)},[o]}class Tr extends He{constructor(e){super(),Ve(this,e,yr,Dr,Me,{class:0})}}function Un(t){let e,n,o,i,l=t[1].numbersOfSawing+"",r,a,s,d,h,g=t[1].totalSquare+"",F,b,p=je(t[1].totalSquare)+"",c,m,_,S,E,C=t[1].usefulSquare+"",B,D,w=je(t[1].usefulSquare)+"",L,oe,k=Vt(t[1].usefulSquare,t[1].totalSquare)+"",X,I,re,x,ne,ue=t[1].remainSquare+"",A,ee,H=je(t[1].remainSquare)+"",J,ie,U=Vt(t[1].remainSquare,t[1].totalSquare)+"",de,ve;return{c(){e=y("div"),n=y("ul"),o=y("li"),i=$("Количество пилов: "),r=$(l),a=$(" шт."),s=z(),d=y("li"),h=$("Общая площадь: "),F=$(g),b=$(" мм² = "),c=$(p),m=$(" м² = 100%"),_=z(),S=y("li"),E=$("Полезная площадь: "),B=$(C),D=$(" мм² = "),L=$(w),oe=$(` м² =
                `),X=$(k),I=$("%"),re=z(),x=y("li"),ne=$("Площадь остатков: "),A=$(ue),ee=$(" мм² = "),J=$(H),ie=$(` м² =
                `),de=$(U),ve=$("%"),this.h()},l(se){e=T(se,"DIV",{});var ae=q(e);n=T(ae,"UL",{style:!0});var me=q(n);o=T(me,"LI",{class:!0});var Fe=q(o);i=W(Fe,"Количество пилов: "),r=W(Fe,l),a=W(Fe," шт."),Fe.forEach(v),s=R(me),d=T(me,"LI",{});var M=q(d);h=W(M,"Общая площадь: "),F=W(M,g),b=W(M," мм² = "),c=W(M,p),m=W(M," м² = 100%"),M.forEach(v),_=R(me),S=T(me,"LI",{});var P=q(S);E=W(P,"Полезная площадь: "),B=W(P,C),D=W(P," мм² = "),L=W(P,w),oe=W(P,` м² =
                `),X=W(P,k),I=W(P,"%"),P.forEach(v),re=R(me),x=T(me,"LI",{});var j=q(x);ne=W(j,"Площадь остатков: "),A=W(j,ue),ee=W(j," мм² = "),J=W(j,H),ie=W(j,` м² =
                `),de=W(j,U),ve=W(j,"%"),j.forEach(v),me.forEach(v),ae.forEach(v),this.h()},h(){f(o,"class","mb-2"),no(n,"list-style","inside")},m(se,ae){he(se,e,ae),u(e,n),u(n,o),u(o,i),u(o,r),u(o,a),u(n,s),u(n,d),u(d,h),u(d,F),u(d,b),u(d,c),u(d,m),u(n,_),u(n,S),u(S,E),u(S,B),u(S,D),u(S,L),u(S,oe),u(S,X),u(S,I),u(n,re),u(n,x),u(x,ne),u(x,A),u(x,ee),u(x,J),u(x,ie),u(x,de),u(x,ve)},p(se,ae){ae&2&&l!==(l=se[1].numbersOfSawing+"")&&ze(r,l),ae&2&&g!==(g=se[1].totalSquare+"")&&ze(F,g),ae&2&&p!==(p=je(se[1].totalSquare)+"")&&ze(c,p),ae&2&&C!==(C=se[1].usefulSquare+"")&&ze(B,C),ae&2&&w!==(w=je(se[1].usefulSquare)+"")&&ze(L,w),ae&2&&k!==(k=Vt(se[1].usefulSquare,se[1].totalSquare)+"")&&ze(X,k),ae&2&&ue!==(ue=se[1].remainSquare+"")&&ze(A,ue),ae&2&&H!==(H=je(se[1].remainSquare)+"")&&ze(J,H),ae&2&&U!==(U=Vt(se[1].remainSquare,se[1].totalSquare)+"")&&ze(de,U)},d(se){se&&v(e)}}}function Br(t){let e,n=t[0].optimumDrawCombinations&&Un(t);return{c(){n&&n.c(),e=Xt()},l(o){n&&n.l(o),e=Xt()},m(o,i){n&&n.m(o,i),he(o,e,i)},p(o,[i]){o[0].optimumDrawCombinations?n?n.p(o,i):(n=Un(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:$e,o:$e,d(o){n&&n.d(o),o&&v(e)}}}function Ir(t,e,n){let{order:o}=e,{result:i}=e;const l={totalSquare:0,usefulSquare:0,remainSquare:0,numbersOfSawing:0};return sn(()=>{const r=i.optimumDrawCombinations.reduce((s,d)=>(s.totalSquare+=d.squaresStats.totalSquare,s.remainSquare+=d.squaresStats.remainSquare,s.usefulSquare+=d.squaresStats.usefulSquare,s.numbersOfSawing+=d.numbersOfSawing,s),{totalSquare:0,usefulSquare:0,remainSquare:0,numbersOfSawing:0}),a=o.calcNumbersOfEndFaceType(i.endFace.id);n(1,l.totalSquare=parseFloat(r.totalSquare.toFixed(0))*a,l),n(1,l.usefulSquare=parseFloat(r.usefulSquare.toFixed(0))*a,l),n(1,l.remainSquare=parseFloat(r.remainSquare.toFixed(0))*a,l),n(1,l.numbersOfSawing=r.numbersOfSawing*a,l)}),t.$$set=r=>{"order"in r&&n(2,o=r.order),"result"in r&&n(0,i=r.result)},[i,l,o]}class Or extends He{constructor(e){super(),Ve(this,e,Ir,Br,Me,{order:2,result:0})}}function Xn(t){let e,n,o,i,l=t[1].numbersOfSawing+"",r,a,s,d,h,g=t[1].totalSquare+"",F,b,p=je(t[1].totalSquare)+"",c,m,_,S,E,C=t[1].usefulSquare+"",B,D,w=je(t[1].usefulSquare)+"",L,oe,k=Vt(t[1].usefulSquare,t[1].totalSquare)+"",X,I,re,x,ne,ue=t[1].remainSquare+"",A,ee,H=je(t[1].remainSquare)+"",J,ie,U=Vt(t[1].remainSquare,t[1].totalSquare)+"",de,ve;return{c(){e=y("div"),n=y("ul"),o=y("li"),i=$("Количество пилов: "),r=$(l),a=$(" шт."),s=z(),d=y("li"),h=$("Общая площадь: "),F=$(g),b=$(" мм² = "),c=$(p),m=$(" м² = 100%"),_=z(),S=y("li"),E=$("Полезная площадь: "),B=$(C),D=$(" мм² = "),L=$(w),oe=$(` м² =
                `),X=$(k),I=$("%"),re=z(),x=y("li"),ne=$("Площадь остатков: "),A=$(ue),ee=$(" мм² = "),J=$(H),ie=$(` м² =
                `),de=$(U),ve=$("%"),this.h()},l(se){e=T(se,"DIV",{});var ae=q(e);n=T(ae,"UL",{style:!0});var me=q(n);o=T(me,"LI",{class:!0});var Fe=q(o);i=W(Fe,"Количество пилов: "),r=W(Fe,l),a=W(Fe," шт."),Fe.forEach(v),s=R(me),d=T(me,"LI",{});var M=q(d);h=W(M,"Общая площадь: "),F=W(M,g),b=W(M," мм² = "),c=W(M,p),m=W(M," м² = 100%"),M.forEach(v),_=R(me),S=T(me,"LI",{});var P=q(S);E=W(P,"Полезная площадь: "),B=W(P,C),D=W(P," мм² = "),L=W(P,w),oe=W(P,` м² =
                `),X=W(P,k),I=W(P,"%"),P.forEach(v),re=R(me),x=T(me,"LI",{});var j=q(x);ne=W(j,"Площадь остатков: "),A=W(j,ue),ee=W(j," мм² = "),J=W(j,H),ie=W(j,` м² =
                `),de=W(j,U),ve=W(j,"%"),j.forEach(v),me.forEach(v),ae.forEach(v),this.h()},h(){f(o,"class","mb-2"),no(n,"list-style","inside")},m(se,ae){he(se,e,ae),u(e,n),u(n,o),u(o,i),u(o,r),u(o,a),u(n,s),u(n,d),u(d,h),u(d,F),u(d,b),u(d,c),u(d,m),u(n,_),u(n,S),u(S,E),u(S,B),u(S,D),u(S,L),u(S,oe),u(S,X),u(S,I),u(n,re),u(n,x),u(x,ne),u(x,A),u(x,ee),u(x,J),u(x,ie),u(x,de),u(x,ve)},p(se,ae){ae&2&&l!==(l=se[1].numbersOfSawing+"")&&ze(r,l),ae&2&&g!==(g=se[1].totalSquare+"")&&ze(F,g),ae&2&&p!==(p=je(se[1].totalSquare)+"")&&ze(c,p),ae&2&&C!==(C=se[1].usefulSquare+"")&&ze(B,C),ae&2&&w!==(w=je(se[1].usefulSquare)+"")&&ze(L,w),ae&2&&k!==(k=Vt(se[1].usefulSquare,se[1].totalSquare)+"")&&ze(X,k),ae&2&&ue!==(ue=se[1].remainSquare+"")&&ze(A,ue),ae&2&&H!==(H=je(se[1].remainSquare)+"")&&ze(J,H),ae&2&&U!==(U=Vt(se[1].remainSquare,se[1].totalSquare)+"")&&ze(de,U)},d(se){se&&v(e)}}}function zr(t){let e,n=t[0].optimumDrawCombinations&&Xn(t);return{c(){n&&n.c(),e=Xt()},l(o){n&&n.l(o),e=Xt()},m(o,i){n&&n.m(o,i),he(o,e,i)},p(o,[i]){o[0].optimumDrawCombinations?n?n.p(o,i):(n=Xn(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:$e,o:$e,d(o){n&&n.d(o),o&&v(e)}}}function Rr(t,e,n){let{order:o}=e,{result:i}=e;const l={totalSquare:0,usefulSquare:0,remainSquare:0,numbersOfSawing:0};return sn(()=>{const r=i.optimumDrawCombinations.reduce((s,d)=>(s.totalSquare+=d.squaresStats.totalSquare,s.remainSquare+=d.squaresStats.remainSquare,s.usefulSquare+=d.squaresStats.usefulSquare,s.numbersOfSawing+=d.numbersOfSawing,s),{totalSquare:0,usefulSquare:0,remainSquare:0,numbersOfSawing:0}),a=o.calcNumbersOfDoorFrameType(i.doorFrame.id);n(1,l.totalSquare=parseFloat(r.totalSquare.toFixed(0))*a,l),n(1,l.usefulSquare=parseFloat(r.usefulSquare.toFixed(0))*a,l),n(1,l.remainSquare=parseFloat(r.remainSquare.toFixed(0))*a,l),n(1,l.numbersOfSawing=r.numbersOfSawing*a,l)}),t.$$set=r=>{"order"in r&&n(2,o=r.order),"result"in r&&n(0,i=r.result)},[i,l,o]}class Hr extends He{constructor(e){super(),Ve(this,e,Rr,zr,Me,{order:2,result:0})}}function Gn(t){let e,n;return e=new _o({props:{class:"mx-auto py-5 px-10 w-[300mm] h-[350mm]",canvasConstructionTypes:t[1],order:t[4],resultsForDrawDoorFrame:t[2],resultsForDrawEndFace:t[3]}}),{c(){G(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},p(o,i){const l={};i&2&&(l.canvasConstructionTypes=o[1]),i&16&&(l.order=o[4]),i&4&&(l.resultsForDrawDoorFrame=o[2]),i&8&&(l.resultsForDrawEndFace=o[3]),e.$set(l)},i(o){n||(O(e.$$.fragment,o),n=!0)},o(o){V(e.$$.fragment,o),n=!1},d(o){Y(e,o)}}}function Vr(t){let e,n,o,i,l,r=(t[2].length||t[3].length)&&t[1].length&&t[4]&&t[0]&&Gn(t);return{c(){e=y("dialog"),r&&r.c(),this.h()},l(a){e=T(a,"DIALOG",{class:!0});var s=q(e);r&&r.l(s),s.forEach(v),this.h()},h(){f(e,"class",n=Sn(t[5])+" svelte-1jloh36")},m(a,s){he(a,e,s),r&&r.m(e,null),t[8](e),o=!0,i||(l=[dt(e,"close",t[9]),dt(e,"click",Do(t[10]))],i=!0)},p(a,[s]){(a[2].length||a[3].length)&&a[1].length&&a[4]&&a[0]?r?(r.p(a,s),s&31&&O(r,1)):(r=Gn(a),r.c(),O(r,1),r.m(e,null)):r&&(Ye(),V(r,1,1,()=>{r=null}),Je()),(!o||s&32&&n!==(n=Sn(a[5])+" svelte-1jloh36"))&&f(e,"class",n)},i(a){o||(O(r),o=!0)},o(a){V(r),o=!1},d(a){a&&v(e),r&&r.d(),t[8](null),i=!1,rn(l)}}}function Mr(t,e,n){let{canvasConstructionTypes:o}=e,{results:i=[]}=e,{resultsForDrawDoorFrame:l=[]}=e,{resultsForDrawEndFace:r=[]}=e,{order:a}=e,{class:s=""}=e,{isShow:d}=e,h;function g(p){le[p?"unshift":"push"](()=>{h=p,n(6,h)})}const F=()=>n(0,d=!1),b=()=>h.close();return t.$$set=p=>{"canvasConstructionTypes"in p&&n(1,o=p.canvasConstructionTypes),"results"in p&&n(7,i=p.results),"resultsForDrawDoorFrame"in p&&n(2,l=p.resultsForDrawDoorFrame),"resultsForDrawEndFace"in p&&n(3,r=p.resultsForDrawEndFace),"order"in p&&n(4,a=p.order),"class"in p&&n(5,s=p.class),"isShow"in p&&n(0,d=p.isShow)},t.$$.update=()=>{t.$$.dirty&65&&h&&d&&h.showModal()},[d,o,l,r,a,s,h,i,g,F,b]}class Ar extends He{constructor(e){super(),Ve(this,e,Mr,Vr,Me,{canvasConstructionTypes:1,results:7,resultsForDrawDoorFrame:2,resultsForDrawEndFace:3,order:4,class:5,isShow:0})}}function Zn(t,e,n){const o=t.slice();return o[12]=e[n],o[13]=e,o[14]=n,o}function Kn(t,e,n){const o=t.slice();return o[12]=e[n],o[15]=e,o[16]=n,o}function Nr(t){let e,n,o;function i(r){t[9](r,t[12],t[15],t[16])}let l={order:t[1]};return t[12]!==void 0&&(l.result=t[12]),e=new Hr({props:l}),le.push(()=>fe(e,"result",i)),{c(){G(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,a){K(e,r,a),o=!0},p(r,a){t=r;const s={};a&2&&(s.order=t[1]),!n&&a&4&&(n=!0,s.result=t[12],ce(()=>n=!1)),e.$set(s)},i(r){o||(O(e.$$.fragment,r),o=!0)},o(r){V(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Pr(t){let e,n;return{c(){e=y("div"),this.h()},l(o){e=T(o,"DIV",{id:!0,class:!0}),q(e).forEach(v),this.h()},h(){f(e,"id",n="container_DoorFrame_OptimumCombinations_Canvas_"+t[12].id),f(e,"class","flex flex-col overflow-auto")},m(o,i){he(o,e,i)},p(o,i){i&4&&n!==(n="container_DoorFrame_OptimumCombinations_Canvas_"+o[12].id)&&f(e,"id",n)},d(o){o&&v(e)}}}function Yn(t){let e,n,o=t[12].doorFrame.name+"",i,l,r=t[1].calcNumbersOfDoorFrameType(t[12].doorFrame.id)+"",a,s,d,h,g,F,b,p,c;return g=new Kt({props:{title:"Статистика по раскрою",$$slots:{default:[Nr]},$$scope:{ctx:t}}}),p=new Kt({props:{title:"Схемы раскроя ",isOpen:t[5],$$slots:{default:[Pr]},$$scope:{ctx:t}}}),{c(){e=y("h2"),n=$('Для коробки "'),i=$(o),l=$('" ('),a=$(r),s=$(" шт.)"),d=z(),h=y("div"),G(g.$$.fragment),F=z(),b=y("div"),G(p.$$.fragment),this.h()},l(m){e=T(m,"H2",{class:!0});var _=q(e);n=W(_,'Для коробки "'),i=W(_,o),l=W(_,'" ('),a=W(_,r),s=W(_," шт.)"),_.forEach(v),d=R(m),h=T(m,"DIV",{class:!0});var S=q(h);Z(g.$$.fragment,S),S.forEach(v),F=R(m),b=T(m,"DIV",{class:!0});var E=q(b);Z(p.$$.fragment,E),E.forEach(v),this.h()},h(){f(e,"class","mt-20 text-xl font-bold text-gray-900 dark:text-white"),f(h,"class","mt-5"),f(b,"class","mt-5")},m(m,_){he(m,e,_),u(e,n),u(e,i),u(e,l),u(e,a),u(e,s),he(m,d,_),he(m,h,_),K(g,h,null),he(m,F,_),he(m,b,_),K(p,b,null),c=!0},p(m,_){(!c||_&4)&&o!==(o=m[12].doorFrame.name+"")&&ze(i,o),(!c||_&6)&&r!==(r=m[1].calcNumbersOfDoorFrameType(m[12].doorFrame.id)+"")&&ze(a,r);const S={};_&131078&&(S.$$scope={dirty:_,ctx:m}),g.$set(S);const E={};_&32&&(E.isOpen=m[5]),_&131076&&(E.$$scope={dirty:_,ctx:m}),p.$set(E)},i(m){c||(O(g.$$.fragment,m),O(p.$$.fragment,m),c=!0)},o(m){V(g.$$.fragment,m),V(p.$$.fragment,m),c=!1},d(m){m&&v(e),m&&v(d),m&&v(h),Y(g),m&&v(F),m&&v(b),Y(p)}}}function $r(t){let e,n,o;function i(r){t[10](r,t[12],t[13],t[14])}let l={order:t[1]};return t[12]!==void 0&&(l.result=t[12]),e=new Or({props:l}),le.push(()=>fe(e,"result",i)),{c(){G(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,a){K(e,r,a),o=!0},p(r,a){t=r;const s={};a&2&&(s.order=t[1]),!n&&a&8&&(n=!0,s.result=t[12],ce(()=>n=!1)),e.$set(s)},i(r){o||(O(e.$$.fragment,r),o=!0)},o(r){V(e.$$.fragment,r),o=!1},d(r){Y(e,r)}}}function Wr(t){let e,n;return{c(){e=y("div"),this.h()},l(o){e=T(o,"DIV",{id:!0,class:!0}),q(e).forEach(v),this.h()},h(){f(e,"id",n="container_EndFace_OptimumCombinations_Canvas_"+t[12].id),f(e,"class","flex flex-col overflow-auto")},m(o,i){he(o,e,i)},p(o,i){i&8&&n!==(n="container_EndFace_OptimumCombinations_Canvas_"+o[12].id)&&f(e,"id",n)},d(o){o&&v(e)}}}function Jn(t){let e,n,o=t[12].endFace.name+"",i,l,r=t[1].calcNumbersOfEndFaceType(t[12].endFace.id)+"",a,s,d,h,g,F,b,p,c;return g=new Kt({props:{title:"Статистика по раскрою",$$slots:{default:[$r]},$$scope:{ctx:t}}}),p=new Kt({props:{title:"Схемы раскроя",isOpen:t[5],$$slots:{default:[Wr]},$$scope:{ctx:t}}}),{c(){e=y("h2"),n=$('Для торца "'),i=$(o),l=$('" ('),a=$(r),s=$(" шт.)"),d=z(),h=y("div"),G(g.$$.fragment),F=z(),b=y("div"),G(p.$$.fragment),this.h()},l(m){e=T(m,"H2",{class:!0});var _=q(e);n=W(_,'Для торца "'),i=W(_,o),l=W(_,'" ('),a=W(_,r),s=W(_," шт.)"),_.forEach(v),d=R(m),h=T(m,"DIV",{class:!0});var S=q(h);Z(g.$$.fragment,S),S.forEach(v),F=R(m),b=T(m,"DIV",{class:!0});var E=q(b);Z(p.$$.fragment,E),E.forEach(v),this.h()},h(){f(e,"class","mt-20 text-xl font-bold text-gray-900 dark:text-white"),f(h,"class","mt-5"),f(b,"class","mt-5")},m(m,_){he(m,e,_),u(e,n),u(e,i),u(e,l),u(e,a),u(e,s),he(m,d,_),he(m,h,_),K(g,h,null),he(m,F,_),he(m,b,_),K(p,b,null),c=!0},p(m,_){(!c||_&8)&&o!==(o=m[12].endFace.name+"")&&ze(i,o),(!c||_&10)&&r!==(r=m[1].calcNumbersOfEndFaceType(m[12].endFace.id)+"")&&ze(a,r);const S={};_&131082&&(S.$$scope={dirty:_,ctx:m}),g.$set(S);const E={};_&32&&(E.isOpen=m[5]),_&131080&&(E.$$scope={dirty:_,ctx:m}),p.$set(E)},i(m){c||(O(g.$$.fragment,m),O(p.$$.fragment,m),c=!0)},o(m){V(g.$$.fragment,m),V(p.$$.fragment,m),c=!1},d(m){m&&v(e),m&&v(d),m&&v(h),Y(g),m&&v(F),m&&v(b),Y(p)}}}function Lr(t){let e,n,o,i,l,r,a,s,d,h,g,F,b,p,c,m,_,S,E,C,B,D,w,L,oe,k;s=new kr({});let X=t[2],I=[];for(let H=0;H<X.length;H+=1)I[H]=Yn(Kn(t,X,H));const re=H=>V(I[H],1,1,()=>{I[H]=null});let x=t[3],ne=[];for(let H=0;H<x.length;H+=1)ne[H]=Jn(Zn(t,x,H));const ue=H=>V(ne[H],1,1,()=>{ne[H]=null});E=new Tr({});function A(H){t[11](H)}let ee={canvasConstructionTypes:t[0],order:t[1],resultsForDrawDoorFrame:t[2],resultsForDrawEndFace:t[3]};return t[4]!==void 0&&(ee.isShow=t[4]),D=new Ar({props:ee}),le.push(()=>fe(D,"isShow",A)),{c(){e=y("section"),n=y("div"),o=y("div"),i=y("h2"),l=$("Форма расчета"),r=z(),a=y("button"),G(s.$$.fragment),d=$(`
                Запустить расчет`),h=z();for(let H=0;H<I.length;H+=1)I[H].c();g=z();for(let H=0;H<ne.length;H+=1)ne[H].c();F=z(),b=y("div"),p=y("button"),c=$("Посмотреть отчет в окне"),m=z(),_=y("button"),S=y("a"),G(E.$$.fragment),C=$(" Показать отчет"),B=z(),G(D.$$.fragment),this.h()},l(H){e=T(H,"SECTION",{class:!0});var J=q(e);n=T(J,"DIV",{class:!0});var ie=q(n);o=T(ie,"DIV",{class:!0});var U=q(o);i=T(U,"H2",{class:!0});var de=q(i);l=W(de,"Форма расчета"),de.forEach(v),r=R(U),a=T(U,"BUTTON",{class:!0});var ve=q(a);Z(s.$$.fragment,ve),d=W(ve,`
                Запустить расчет`),ve.forEach(v),U.forEach(v),h=R(ie);for(let M=0;M<I.length;M+=1)I[M].l(ie);g=R(ie);for(let M=0;M<ne.length;M+=1)ne[M].l(ie);F=R(ie),b=T(ie,"DIV",{class:!0});var se=q(b);p=T(se,"BUTTON",{class:!0});var ae=q(p);c=W(ae,"Посмотреть отчет в окне"),ae.forEach(v),m=R(se),_=T(se,"BUTTON",{class:!0});var me=q(_);S=T(me,"A",{target:!0,href:!0,class:!0});var Fe=q(S);Z(E.$$.fragment,Fe),C=W(Fe," Показать отчет"),Fe.forEach(v),me.forEach(v),se.forEach(v),ie.forEach(v),J.forEach(v),B=R(H),Z(D.$$.fragment,H),this.h()},h(){f(i,"class","mb-4 text-[28px] font-bold text-gray-900 dark:text-white"),f(a,"class","gap-1 inline-flex items-center px-5 py-2.5 font-medium text-center text-white bg-primary-600 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-700"),f(o,"class","my-20 flex justify-between align-middle items-center"),f(p,"class","gap-1 inline-flex items-center px-5 py-2.5 font-medium text-center float-right text-white bg-primary-600 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-700"),f(S,"target","_blank"),f(S,"href","/orders-klimov-red-public/report"),f(S,"class","inline-flex items-center"),f(_,"class","gap-1 px-5 py-2.5 font-medium text-center float-right text-white bg-primary-600 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-700"),f(b,"class","flex gap-2 justify-end mt-10"),f(n,"class","py-8 px-4 mx-auto lg:py-16"),f(e,"class","bg-white dark:bg-gray-900")},m(H,J){he(H,e,J),u(e,n),u(n,o),u(o,i),u(i,l),u(o,r),u(o,a),K(s,a,null),u(a,d),u(n,h);for(let ie=0;ie<I.length;ie+=1)I[ie]&&I[ie].m(n,null);u(n,g);for(let ie=0;ie<ne.length;ie+=1)ne[ie]&&ne[ie].m(n,null);u(n,F),u(n,b),u(b,p),u(p,c),u(b,m),u(b,_),u(_,S),K(E,S,null),u(S,C),he(H,B,J),K(D,H,J),L=!0,oe||(k=[dt(a,"click",t[8]),dt(p,"click",t[7]),dt(_,"click",t[6])],oe=!0)},p(H,[J]){if(J&38){X=H[2];let U;for(U=0;U<X.length;U+=1){const de=Kn(H,X,U);I[U]?(I[U].p(de,J),O(I[U],1)):(I[U]=Yn(de),I[U].c(),O(I[U],1),I[U].m(n,g))}for(Ye(),U=X.length;U<I.length;U+=1)re(U);Je()}if(J&42){x=H[3];let U;for(U=0;U<x.length;U+=1){const de=Zn(H,x,U);ne[U]?(ne[U].p(de,J),O(ne[U],1)):(ne[U]=Jn(de),ne[U].c(),O(ne[U],1),ne[U].m(n,F))}for(Ye(),U=x.length;U<ne.length;U+=1)ue(U);Je()}const ie={};J&1&&(ie.canvasConstructionTypes=H[0]),J&2&&(ie.order=H[1]),J&4&&(ie.resultsForDrawDoorFrame=H[2]),J&8&&(ie.resultsForDrawEndFace=H[3]),!w&&J&16&&(w=!0,ie.isShow=H[4],ce(()=>w=!1)),D.$set(ie)},i(H){if(!L){O(s.$$.fragment,H);for(let J=0;J<X.length;J+=1)O(I[J]);for(let J=0;J<x.length;J+=1)O(ne[J]);O(E.$$.fragment,H),O(D.$$.fragment,H),L=!0}},o(H){V(s.$$.fragment,H),I=I.filter(Boolean);for(let J=0;J<I.length;J+=1)V(I[J]);ne=ne.filter(Boolean);for(let J=0;J<ne.length;J+=1)V(ne[J]);V(E.$$.fragment,H),V(D.$$.fragment,H),L=!1},d(H){H&&v(e),Y(s),Zt(I,H),Zt(ne,H),Y(E),H&&v(B),Y(D,H),oe=!1,rn(k)}}}function jr(t,e,n){let{canvasConstructionTypes:o}=e,{order:i}=e,l=[],r=[];const a=()=>{ln("resultsForDrawDoorFrame_report",l),ln("resultsForDrawEndFace_report",r),ln("order_report",i)};let s=!1,d=!1;const h=()=>{n(4,s=!0)},g=()=>{n(2,l=[]),n(3,r=[]);const c=new En({id:ge(),type:"info",text:"Расчет запущен!"});qn.add(kn(c));const m=(E,C)=>{E.log=C.listLogMessages.map(B=>B.includes("==>")?`<p class='mt-2 font-bold'>${B}</p>`:`<p '>${B}</p>`).join(""),E.shortLog=C.listLogMessages.slice(C.listLogMessages.findLastIndex(B=>B.includes("Результаты вычисления задачи поиска решения оптимального раскроя")),C.listLogMessages.findLastIndex(B=>B.includes("Остатки: "))+1).map(B=>B.includes("==>")?`<p class='mt-2 font-bold'>${B}</p>`:`<p '>${B}</p>`).join("")},_=(E,C,B)=>{const D=new bo({id:ge(),log:"",shortLog:"",doorFrame:E,baseProfile:C.baseProfile,drawCombinations:C.drawCombinations,optimumDrawCombinations:C.optimumDrawCombinations});m(D,C),B.push(D)},S=(E,C,B)=>{const D=new vo({id:ge(),log:"",shortLog:"",endFace:E,baseProfile:C.baseProfile,drawCombinations:C.drawCombinations,optimumDrawCombinations:C.optimumDrawCombinations});m(D,C),B.push(D)};i.allDoorFrameProfiles.map(E=>{jn(i.processing.stockSawing,E.detailBlanks).forEach(B=>{_(E.doorFrame,B,l)})}),n(2,l=[...l]),i.allEndFaceProfiles.map(E=>{jn(i.processing.stockSawing,E.detailBlanks).forEach(B=>{S(E.endFace,B,r)})}),n(3,r=[...r]),n(5,d=!0),setTimeout(()=>{l.forEach(C=>{Fn(`container_DoorFrame_OptimumCombinations_Canvas_${C.id}`,i.processing.stockSawing,C.baseProfile,C.optimumDrawCombinations)}),r.forEach(C=>{Fn(`container_EndFace_OptimumCombinations_Canvas_${C.id}`,i.processing.stockSawing,C.baseProfile,C.optimumDrawCombinations,{hDivider:.2,wDivider:5,halfXBoard:15,halfYBoard:100})});const E=new En({id:ge(),type:"success",text:"Расчет завершен!"});qn.add(kn(E)),n(5,d=!1)},1e3)};hn(()=>{setTimeout(()=>{g()},1e3)});function F(c,m,_,S){_[S]=c,n(2,l)}function b(c,m,_,S){_[S]=c,n(3,r)}function p(c){s=c,n(4,s)}return t.$$set=c=>{"canvasConstructionTypes"in c&&n(0,o=c.canvasConstructionTypes),"order"in c&&n(1,i=c.order)},[o,i,l,r,s,d,a,h,g,F,b,p]}class Ur extends He{constructor(e){super(),Ve(this,e,jr,Lr,Me,{canvasConstructionTypes:0,order:1})}}function Xr(t){let e,n,o,i,l,r,a,s,d,h,g,F,b,p,c,m,_,S,E,C,B;function D(A){t[16](A)}let w={workers:t[1],managers:t[0],companies:t[2]};t[11].metaOrder!==void 0&&(w.metaOrder=t[11].metaOrder),n=new mr({props:w}),le.push(()=>fe(n,"metaOrder",D));function L(A){t[17](A)}let oe={canvasConstructionTypes:t[6]};t[11].equipments!==void 0&&(oe.equipments=t[11].equipments),s=new er({props:oe}),le.push(()=>fe(s,"equipments",L));function k(A){t[18](A)}function X(A){t[19](A)}let I={};t[11].processing!==void 0&&(I.processing=t[11].processing),t[11].equipments!==void 0&&(I.equipments=t[11].equipments),g=new or({props:I}),le.push(()=>fe(g,"processing",k)),le.push(()=>fe(g,"equipments",X));function re(A){t[20](A)}function x(A){t[21](A)}function ne(A){t[22](A)}let ue={profileMaterials:t[8],openingSides:t[3],doorFrames:t[5],endFaceTypes:t[7],hingesTypes:t[4],profileColors:t[9],millingVersions:t[10],addBuildPiece:t[13],copyBuildPiece:t[14],removeBuildPiece:t[15]};return t[12]!==void 0&&(ue.buildPieces=t[12]),t[11].equipments!==void 0&&(ue.equipments=t[11].equipments),t[11].processing!==void 0&&(ue.processing=t[11].processing),c=new Jo({props:ue}),le.push(()=>fe(c,"buildPieces",re)),le.push(()=>fe(c,"equipments",x)),le.push(()=>fe(c,"processing",ne)),C=new Ur({props:{order:t[11],canvasConstructionTypes:t[6]}}),{c(){e=y("div"),G(n.$$.fragment),i=z(),l=y("hr"),r=z(),a=y("div"),G(s.$$.fragment),h=z(),G(g.$$.fragment),p=z(),G(c.$$.fragment),E=z(),G(C.$$.fragment),this.h()},l(A){e=T(A,"DIV",{class:!0});var ee=q(e);Z(n.$$.fragment,ee),i=R(ee),l=T(ee,"HR",{class:!0}),r=R(ee),a=T(ee,"DIV",{class:!0});var H=q(a);Z(s.$$.fragment,H),h=R(H),Z(g.$$.fragment,H),H.forEach(v),p=R(ee),Z(c.$$.fragment,ee),E=R(ee),Z(C.$$.fragment,ee),ee.forEach(v),this.h()},h(){f(l,"class","h-px my-8 bg-gray-200 border-0 dark:bg-gray-700"),f(a,"class","animate__animated animate__fadeInDown animate__slow flex justify-around"),f(e,"class","")},m(A,ee){he(A,e,ee),K(n,e,null),u(e,i),u(e,l),u(e,r),u(e,a),K(s,a,null),u(a,h),K(g,a,null),u(e,p),K(c,e,null),u(e,E),K(C,e,null),B=!0},p(A,[ee]){const H={};ee&2&&(H.workers=A[1]),ee&1&&(H.managers=A[0]),ee&4&&(H.companies=A[2]),!o&&ee&2048&&(o=!0,H.metaOrder=A[11].metaOrder,ce(()=>o=!1)),n.$set(H);const J={};ee&64&&(J.canvasConstructionTypes=A[6]),!d&&ee&2048&&(d=!0,J.equipments=A[11].equipments,ce(()=>d=!1)),s.$set(J);const ie={};!F&&ee&2048&&(F=!0,ie.processing=A[11].processing,ce(()=>F=!1)),!b&&ee&2048&&(b=!0,ie.equipments=A[11].equipments,ce(()=>b=!1)),g.$set(ie);const U={};ee&256&&(U.profileMaterials=A[8]),ee&8&&(U.openingSides=A[3]),ee&32&&(U.doorFrames=A[5]),ee&128&&(U.endFaceTypes=A[7]),ee&16&&(U.hingesTypes=A[4]),ee&512&&(U.profileColors=A[9]),ee&1024&&(U.millingVersions=A[10]),!m&&ee&4096&&(m=!0,U.buildPieces=A[12],ce(()=>m=!1)),!_&&ee&2048&&(_=!0,U.equipments=A[11].equipments,ce(()=>_=!1)),!S&&ee&2048&&(S=!0,U.processing=A[11].processing,ce(()=>S=!1)),c.$set(U);const de={};ee&2048&&(de.order=A[11]),ee&64&&(de.canvasConstructionTypes=A[6]),C.$set(de)},i(A){B||(O(n.$$.fragment,A),O(s.$$.fragment,A),O(g.$$.fragment,A),O(c.$$.fragment,A),O(C.$$.fragment,A),B=!0)},o(A){V(n.$$.fragment,A),V(s.$$.fragment,A),V(g.$$.fragment,A),V(c.$$.fragment,A),V(C.$$.fragment,A),B=!1},d(A){A&&v(e),Y(n),Y(s),Y(g),Y(c),Y(C)}}}function Gr(t,e,n){let{managers:o=[]}=e,{workers:i=[]}=e,{companies:l=[]}=e,{openingSides:r=[]}=e,{hingesTypes:a=[]}=e,{doorFrames:s=[]}=e,{canvasConstructionTypes:d=[]}=e,{endFaceTypes:h=[]}=e,{profileMaterials:g=[]}=e,{profileColors:F=[]}=e,{millingVersions:b=[]}=e,p=new wo({id:ge(),doorsVolume:2,metaOrder:new Co({id:ge(),creatingDate:new Date,numberSpecification:1,manager:o[0],company:l[0],worker:i[0],comment:""}),equipments:new eo,processing:new xn,doorFrames:s,buildPieces:[new Lt({id:ge(),heightDoorCanvas:2e3,widthDoorCanvas:800,openingSide:r[0],doorFrame:s[0],typeHinge:a[0],typeEndFace:h[0],profileMaterial:g[0],profileColor:F[0],millingVersion:b[0],volumeHinges:2,volume:1}),new Lt({id:ge(),heightDoorCanvas:2e3,widthDoorCanvas:800,openingSide:r[0],doorFrame:s[0],typeHinge:a[0],typeEndFace:h[0],profileMaterial:g[0],profileColor:F[0],millingVersion:b[0],volumeHinges:2,volume:1}),new Lt({id:ge(),heightDoorCanvas:3e3,widthDoorCanvas:600,openingSide:r[0],doorFrame:s[1],typeHinge:a[0],typeEndFace:h[0],profileMaterial:g[0],profileColor:F[0],millingVersion:b[0],volumeHinges:2,volume:1}),new Lt({id:ge(),heightDoorCanvas:3e3,widthDoorCanvas:600,openingSide:r[0],doorFrame:s[0],typeHinge:a[0],typeEndFace:h[1],profileMaterial:g[0],profileColor:F[0],millingVersion:b[0],volumeHinges:2,volume:1}),new Lt({id:ge(),heightDoorCanvas:3e3,widthDoorCanvas:600,openingSide:r[0],doorFrame:s[0],typeHinge:a[0],typeEndFace:h[1],profileMaterial:g[0],profileColor:F[0],millingVersion:b[0],volumeHinges:2,volume:1})]}),c=p.buildPieces;const m=()=>{const k=new Lt;p.buildPieces.length&&k.setFromCopy(p.buildPieces[p.buildPieces.length-1]),p.addBuildPiece(k),n(12,c=p.buildPieces)},_=k=>{p.copyBuildPiece(k),n(12,c=p.buildPieces)},S=k=>{p.removeBuildPiece(k),n(12,c=p.buildPieces)};hn(()=>{gr(p)});function E(k){t.$$.not_equal(p.metaOrder,k)&&(p.metaOrder=k,n(11,p))}function C(k){t.$$.not_equal(p.equipments,k)&&(p.equipments=k,n(11,p))}function B(k){t.$$.not_equal(p.processing,k)&&(p.processing=k,n(11,p))}function D(k){t.$$.not_equal(p.equipments,k)&&(p.equipments=k,n(11,p))}function w(k){c=k,n(12,c)}function L(k){t.$$.not_equal(p.equipments,k)&&(p.equipments=k,n(11,p))}function oe(k){t.$$.not_equal(p.processing,k)&&(p.processing=k,n(11,p))}return t.$$set=k=>{"managers"in k&&n(0,o=k.managers),"workers"in k&&n(1,i=k.workers),"companies"in k&&n(2,l=k.companies),"openingSides"in k&&n(3,r=k.openingSides),"hingesTypes"in k&&n(4,a=k.hingesTypes),"doorFrames"in k&&n(5,s=k.doorFrames),"canvasConstructionTypes"in k&&n(6,d=k.canvasConstructionTypes),"endFaceTypes"in k&&n(7,h=k.endFaceTypes),"profileMaterials"in k&&n(8,g=k.profileMaterials),"profileColors"in k&&n(9,F=k.profileColors),"millingVersions"in k&&n(10,b=k.millingVersions)},[o,i,l,r,a,s,d,h,g,F,b,p,c,m,_,S,E,C,B,D,w,L,oe]}class Zr extends He{constructor(e){super(),Ve(this,e,Gr,Xr,Me,{managers:0,workers:1,companies:2,openingSides:3,hingesTypes:4,doorFrames:5,canvasConstructionTypes:6,endFaceTypes:7,profileMaterials:8,profileColors:9,millingVersions:10})}}function Qn(t){let e,n,o,i;const l=[{workers:t[0].workers},{managers:t[0].managers},{companies:t[0].companies},t[0].paramsForCreatingBuildPiece];let r={};for(let a=0;a<l.length;a+=1)r=yo(r,l[a]);return e=new Zr({props:r}),{c(){G(e.$$.fragment),n=z(),o=y("hr"),this.h()},l(a){Z(e.$$.fragment,a),n=R(a),o=T(a,"HR",{class:!0}),this.h()},h(){f(o,"class","mt-[300px]")},m(a,s){K(e,a,s),he(a,n,s),he(a,o,s),i=!0},p(a,s){const d=s&1?To(l,[{workers:a[0].workers},{managers:a[0].managers},{companies:a[0].companies},Bo(a[0].paramsForCreatingBuildPiece)]):{};e.$set(d)},i(a){i||(O(e.$$.fragment,a),i=!0)},o(a){V(e.$$.fragment,a),i=!1},d(a){Y(e,a),a&&v(n),a&&v(o)}}}function Kr(t){let e,n,o,i,l,r,a=t[0].workers&&Qn(t);return{c(){e=y("div"),n=y("div"),o=y("main"),i=y("div"),l=y("div"),a&&a.c(),this.h()},l(s){e=T(s,"DIV",{class:!0});var d=q(e);n=T(d,"DIV",{class:!0});var h=q(n);o=T(h,"MAIN",{class:!0});var g=q(o);i=T(g,"DIV",{class:!0});var F=q(i);l=T(F,"DIV",{class:!0});var b=q(l);a&&a.l(b),b.forEach(v),F.forEach(v),g.forEach(v),h.forEach(v),d.forEach(v),this.h()},h(){f(l,"class","flex-auto max-w-8xl min-w-0 pt-6 lg:px-8 lg:pt-8 pb:12 xl:pb-24 lg:pb-16"),f(i,"class","flex w-full"),f(o,"class","flex-auto w-full min-w-0 lg:static lg:max-h-full lg:overflow-visible"),f(n,"class","lg:flex"),f(e,"class","animate__animated w-full px-4 mx-auto max-w-8xl min-h-[300vh]")},m(s,d){he(s,e,d),u(e,n),u(n,o),u(o,i),u(i,l),a&&a.m(l,null),r=!0},p(s,[d]){s[0].workers?a?(a.p(s,d),d&1&&O(a,1)):(a=Qn(s),a.c(),O(a,1),a.m(l,null)):a&&(Ye(),V(a,1,1,()=>{a=null}),Je())},i(s){r||(O(a),r=!0)},o(s){V(a),r=!1},d(s){s&&v(e),a&&a.d()}}}function Yr(t,e,n){let{data:o}=e;return hn(()=>{}),t.$$set=i=>{"data"in i&&n(0,o=i.data)},[o]}class oi extends He{constructor(e){super(),Ve(this,e,Yr,Kr,Me,{data:0})}}export{oi as component,ni as universal};
